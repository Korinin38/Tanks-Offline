<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tanks Offline: Служебное</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tanks Offline<span id="projectnumber">&#160;0.8.0</span>
   </div>
   <div id="projectbrief">Best game EVER (maybe)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___service.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">Служебное</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtx_auto_lock.html">txAutoLock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Класс для автоматической блокировки и разблокировки критической секции.  <a href="classtx_auto_lock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga365c78a96945ad9e0a6462c28e01d400"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a>(command)</td></tr>
<tr class="memdesc:ga365c78a96945ad9e0a6462c28e01d400"><td class="mdescLeft">&#160;</td><td class="mdescRight">Вызов функции Win32 GDI с автоматической блокировкой и разблокировкой.  <br /></td></tr>
<tr class="separator:ga365c78a96945ad9e0a6462c28e01d400"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Вспомогательные функции</h2></td></tr>
<tr class="memitem:gaff3d9c60900531f438a19216485bdd41"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41">txUpdateWindow</a> (int update=true)</td></tr>
<tr class="memdesc:gaff3d9c60900531f438a19216485bdd41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Разрешает или запрещает автоматическое обновление изображения в окне.  <br /></td></tr>
<tr class="separator:gaff3d9c60900531f438a19216485bdd41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4ee4d2a16f8f38412e0e7b1c380bf4d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___drawing.html#gad4ee4d2a16f8f38412e0e7b1c380bf4d">txSelectObject</a> (HGDIOBJ obj)</td></tr>
<tr class="memdesc:gad4ee4d2a16f8f38412e0e7b1c380bf4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Устанавливает текущий объект GDI.  <br /></td></tr>
<tr class="separator:gad4ee4d2a16f8f38412e0e7b1c380bf4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93cecf6b117fc403c0488f388b78a6d1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___drawing.html#ga93cecf6b117fc403c0488f388b78a6d1">txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture</a> ()</td></tr>
<tr class="memdesc:ga93cecf6b117fc403c0488f388b78a6d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Делает нечто иногда удобное. См. название функции.  <br /></td></tr>
<tr class="separator:ga93cecf6b117fc403c0488f388b78a6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Очень служебные функции</h2></td></tr>
<tr class="memitem:ga30fb1a6913174dfcea5079391f655be2"><td class="memItemLeft" align="right" valign="top">WNDPROC&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___service.html#ga30fb1a6913174dfcea5079391f655be2">txSetWindowsHook</a> (WNDPROC wndProc=NULL)</td></tr>
<tr class="memdesc:ga30fb1a6913174dfcea5079391f655be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Устанавливает альтернативную функцию обработки оконных сообщений Windows (оконную функцию) для окна TXLib.  <br /></td></tr>
<tr class="separator:ga30fb1a6913174dfcea5079391f655be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga532fa8a55c4f3d4f94ff0fdceae732b2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2">txLock</a> (bool wait=true)</td></tr>
<tr class="memdesc:ga532fa8a55c4f3d4f94ff0fdceae732b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Блокировка холста (контекста рисования).  <br /></td></tr>
<tr class="separator:ga532fa8a55c4f3d4f94ff0fdceae732b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fe4ec4c66cb69ce337747fe65dd0cc6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6">txUnlock</a> ()</td></tr>
<tr class="memdesc:ga8fe4ec4c66cb69ce337747fe65dd0cc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Разблокировка холста  <br /></td></tr>
<tr class="separator:ga8fe4ec4c66cb69ce337747fe65dd0cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga365c78a96945ad9e0a6462c28e01d400" name="ga365c78a96945ad9e0a6462c28e01d400"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga365c78a96945ad9e0a6462c28e01d400">&#9670;&#160;</a></span>txGDI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define txGDI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">command</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Вызов функции Win32 GDI с автоматической блокировкой и разблокировкой. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>Команда GDI (возможно, возвращающая значение)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Значение, возвращаемое вызываемой функцией GDI. Если система рисования не готова, возвращается значение false.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Если система рисования не готова (<a class="el" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51" title="Возвращает дескриптор контекста рисования холста">txDC()</a> возвращает NULL), то команда GDI не выполняется, а <a class="el" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400" title="Вызов функции Win32 GDI с автоматической блокировкой и разблокировкой.">txGDI()</a> возвращает значение false. <br  />
 </dd>
<dd>
Если в вызове функции GDI используются запятые, то используйте двойные скобки, чтобы получился один параметр, так как <a class="el" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400" title="Вызов функции Win32 GDI с автоматической блокировкой и разблокировкой.">txGDI()</a> все-таки макрос.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51" title="Возвращает дескриптор контекста рисования холста">txDC()</a>, <a class="el" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2" title="Блокировка холста (контекста рисования).">txLock()</a>, <a class="el" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6" title="Разблокировка холста">txUnlock()</a></dd></dl>
<p>@usage </p><div class="fragment"><div class="line"><a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (( Rectangle (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), x1, y1, x2, y2) ));  <span class="comment">// Не забудьте про две ((ДВЕ)) скобки</span></div>
<div class="ttc" id="agroup___drawing_html_ga554468efdf71f24c107476d53e2abb51"><div class="ttname"><a href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a></div><div class="ttdeci">HDC &amp; txDC()</div><div class="ttdoc">Возвращает дескриптор контекста рисования холста</div></div>
<div class="ttc" id="agroup___service_html_ga365c78a96945ad9e0a6462c28e01d400"><div class="ttname"><a href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a></div><div class="ttdeci">#define txGDI(command)</div><div class="ttdoc">Вызов функции Win32 GDI с автоматической блокировкой и разблокировкой.</div><div class="ttdef"><b>Definition:</b> TXLib.h:3526</div></div>
</div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga93cecf6b117fc403c0488f388b78a6d1" name="ga93cecf6b117fc403c0488f388b78a6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93cecf6b117fc403c0488f388b78a6d1">&#9670;&#160;</a></span>txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Делает нечто иногда удобное. См. название функции. </p>
<dl class="section return"><dt>Returns</dt><dd>Если операция была успешна - true, иначе - false. <pre class="fragment">     У этой функции есть синоним с простым понятным названием, поищите его в файле библиотеки, около
     @a определения этой функции. Или можно @strike скопировать @endstrike набрать это километровое имя
     и посмотреть, что получится.
</pre> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab" title="Создание окна рисования">txCreateWindow()</a>, <a class="el" href="group___drawing.html#ga56227ddccbe156355eaca50264bf3334" title="Задерживает выполнение программы на определенное время.">txSleep()</a></dd></dl>
<p>@usage </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">    {</div>
<div class="line">    <a class="code hl_function" href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab">txCreateWindow</a> (800, 600);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___drawing.html#ga5a3cef04fcf688a051a9eafd6c8338a7">txSetTextAlign</a> (TA_CENTER);</div>
<div class="line">    <a class="code hl_function" href="group___drawing.html#ga4eacb78833e54f44243f60ded9fdaf64">txTextOut</a> (<a class="code hl_function" href="group___drawing.html#gaed186909e8de1f9a6e5f78c362d9b607">txGetExtentX</a>()/2, <a class="code hl_function" href="group___drawing.html#ga1838cd6a438d4bea5f26bfa47a103a0d">txGetExtentY</a>()/2, <span class="stringliteral">&quot;Press any key to exit!&quot;</span>);</div>
<div class="ttc" id="agroup___drawing_html_ga1838cd6a438d4bea5f26bfa47a103a0d"><div class="ttname"><a href="group___drawing.html#ga1838cd6a438d4bea5f26bfa47a103a0d">txGetExtentY</a></div><div class="ttdeci">int txGetExtentY()</div><div class="ttdoc">Возвращает высоту окна рисования.</div></div>
<div class="ttc" id="agroup___drawing_html_ga4eacb78833e54f44243f60ded9fdaf64"><div class="ttname"><a href="group___drawing.html#ga4eacb78833e54f44243f60ded9fdaf64">txTextOut</a></div><div class="ttdeci">bool txTextOut(double x, double y, const char text[])</div><div class="ttdoc">Рисует текст.</div></div>
<div class="ttc" id="agroup___drawing_html_ga5a3cef04fcf688a051a9eafd6c8338a7"><div class="ttname"><a href="group___drawing.html#ga5a3cef04fcf688a051a9eafd6c8338a7">txSetTextAlign</a></div><div class="ttdeci">unsigned txSetTextAlign(unsigned align=TA_CENTER|TA_BASELINE)</div><div class="ttdoc">Устанавливает текущее выравнивание текста.</div></div>
<div class="ttc" id="agroup___drawing_html_gaed186909e8de1f9a6e5f78c362d9b607"><div class="ttname"><a href="group___drawing.html#gaed186909e8de1f9a6e5f78c362d9b607">txGetExtentX</a></div><div class="ttdeci">int txGetExtentX()</div><div class="ttdoc">Возвращает ширину окна рисования.</div></div>
<div class="ttc" id="agroup___drawing_html_gafce21ce98474d5559f316b3d47cdbfab"><div class="ttname"><a href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab">txCreateWindow</a></div><div class="ttdeci">HWND txCreateWindow(double sizeX, double sizeY, bool centered=true)</div><div class="ttdoc">Создание окна рисования</div></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code hl_function" href="group___drawing.html#ga93cecf6b117fc403c0488f388b78a6d1">txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture</a>();</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">            }</div>
<div class="ttc" id="agroup___drawing_html_ga93cecf6b117fc403c0488f388b78a6d1"><div class="ttname"><a href="group___drawing.html#ga93cecf6b117fc403c0488f388b78a6d1">txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture</a></div><div class="ttdeci">bool txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture()</div><div class="ttdoc">Делает нечто иногда удобное. См. название функции.</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga532fa8a55c4f3d4f94ff0fdceae732b2" name="ga532fa8a55c4f3d4f94ff0fdceae732b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga532fa8a55c4f3d4f94ff0fdceae732b2">&#9670;&#160;</a></span>txLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool txLock </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Блокировка холста (контекста рисования). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wait</td><td>Ожидать конца перерисовки окна вспомогательным потоком</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Состояние блокировки <pre class="fragment">     Перед вызовом любых функций Win32 GDI необходимо заблокировать холст функцией txLock() и затем
     разблокировать с помощью txUnlock(). Это связано с тем, что обновление содержимого окна (для тех, кто
     знает Win32: обработка сообщения WM_PAINT) в библиотеке TXLib происходит в отдельном вспомогательном
     потоке. Надолго блокировать его нельзя - при заблокированном потоке окно не обновляется.

     txLock() использует EnterCriticalSection(), и физически приостанавливает поток, обновляющий окно, так
     что надолго блокировать нельзя. Иначе тормозится обработка оконных сообщений, окно перестает
     реагировать на действия пользователя и перерисовываться. Нельзя также вызывать txSleep() или Sleep()
     при заблокированном потоке.

     txLock() / txUnlock() - это низкоуровневый механизм. Он отличается от более простого высокоуровневого
     механизма txBegin() / txEnd() / txUpdateWindow(), который не приостанавливает поток, а просто
     отключает принудительное постоянное обновление окна.
</pre> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51" title="Возвращает дескриптор контекста рисования холста">txDC()</a>, <a class="el" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2" title="Блокировка холста (контекста рисования).">txLock()</a>, <a class="el" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6" title="Разблокировка холста">txUnlock()</a>, <a class="el" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400" title="Вызов функции Win32 GDI с автоматической блокировкой и разблокировкой.">txGDI()</a></dd></dl>
<p>@usage См. исходный текст функций _txCanvas_OnPAINT() и _txConsole_Draw() в <a class="el" href="_t_x_lib_8h.html" title="Библиотека Тупого Художника (The Dumb Artist Library, TX Library, TXLib).">TXLib.h</a>. </p>

</div>
</div>
<a id="gad4ee4d2a16f8f38412e0e7b1c380bf4d" name="gad4ee4d2a16f8f38412e0e7b1c380bf4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad4ee4d2a16f8f38412e0e7b1c380bf4d">&#9670;&#160;</a></span>txSelectObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool txSelectObject </td>
          <td>(</td>
          <td class="paramtype">HGDIOBJ&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Устанавливает текущий объект GDI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Дескриптор объекта GDI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Если операция была успешна - true, иначе - false.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e" title="Создает (смешивает) цвет из трех базовых цветов (компонент).">txSetColor()</a>, <a class="el" href="group___drawing.html#ga4894075399ec8e8747177f90c15fb35d" title="Возвращает текущий цвет линий и текста.">txGetColor()</a>, <a class="el" href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf" title="Устанавливает текущий цвет заполнения фигур.">txSetFillColor()</a>, <a class="el" href="group___drawing.html#ga1a65fa9ddfd07bda8ab3e95873991b76" title="Возвращает текущий цвет заполнения фигур.">txGetFillColor()</a>, txColors, RGB(), <a class="el" href="group___drawing.html#ga9290f4d78a1f2dc5db7892cabe9a2abc" title="Выбирает текущий шрифт.">txSelectFont()</a></dd></dl>
<p>@usage </p><div class="fragment"><div class="line">HPEN pen = CreatePen (PS_DASH, 1, RGB (255, 128, 0));</div>
<div class="line"><a class="code hl_function" href="group___drawing.html#gad4ee4d2a16f8f38412e0e7b1c380bf4d">txSelectObject</a> (pen);</div>
<div class="ttc" id="agroup___drawing_html_gad4ee4d2a16f8f38412e0e7b1c380bf4d"><div class="ttname"><a href="group___drawing.html#gad4ee4d2a16f8f38412e0e7b1c380bf4d">txSelectObject</a></div><div class="ttdeci">bool txSelectObject(HGDIOBJ obj)</div><div class="ttdoc">Устанавливает текущий объект GDI.</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga30fb1a6913174dfcea5079391f655be2" name="ga30fb1a6913174dfcea5079391f655be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga30fb1a6913174dfcea5079391f655be2">&#9670;&#160;</a></span>txSetWindowsHook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WNDPROC txSetWindowsHook </td>
          <td>(</td>
          <td class="paramtype">WNDPROC&#160;</td>
          <td class="paramname"><em>wndProc</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Устанавливает альтернативную функцию обработки оконных сообщений Windows (оконную функцию) для окна TXLib. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wndProc</td><td>Новая оконная функция окна TXLib. <br  />
 Если NULL, то текущая оконная функция удаляется и устанавливается стандартная.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Адрес предыдущей оконной функции для окна TXLib. <pre class="fragment">     Заданная оконная функция будет вызываться @b до обработки события средствами TXLib.
     Она должна быть функцией со следующим прототипом:
</pre> <div class="fragment"><div class="line">LRESULT CALLBACK NewWndProc (HWND window, UINT message, WPARAM wParam, LPARAM lParam);</div>
</div><!-- fragment --></dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Оконная функция будет вызываться из вспомогательного (второго) потока, создаваемого <a class="el" href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab">txCreateWindow()</a>. Это <b>не</b> тот же самый поток, в котором выполняется main(). В связи с этим будьте внимательны при работе с глобальными переменными или их аналогами, т.к. может возникнуть "гонка
         потоков" (race condition).</dd>
<dd>
Если оконная функция вернет значение, не равное 0, то стандартная обработка сообщений средствами TXLib <b>не</b> будет произведена. Из-за этого, возможно, окно даже не сможет нормально закрыться. Придется завершать программу с помощью Alt-Ctrl-Del из диспетчера задач, или из более продвинутого диспетчера <a href="http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx">Process Explorer</a>. Если Вы берете на себя обработку оконных сообщений, делайте ее по правилам Win32 (см. MSDN), включая вызов DefWindowProc().</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Полностью поменять оконную функцию можно с помощью функций SetWindowLong или SetWindowLongPtr: <div class="fragment"><div class="line">WNDPROC OldWndProc = (WNDPROC) SetWindowLongPtr (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), GWL_WNDPROC, (LONG_PTR) NewWndProc);</div>
<div class="ttc" id="agroup___drawing_html_gae47b05ec325f3bda871e46c8c74919e8"><div class="ttname"><a href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a></div><div class="ttdeci">HWND txWindow()</div><div class="ttdoc">Возвращает дескриптор окна холста</div></div>
</div><!-- fragment --> При этом надо обязательно всегда вызывать старую оконную функцию с помощью CallWindowProc, (см. MSDN), иначе последствия будут такими же плачевными, как описаны выше.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab" title="Создание окна рисования">txCreateWindow()</a>, <a class="el" href="structtx_dialog.html" title="Базовый класс для диалоговых окон.">txDialog</a>, <a class="el" href="group___dialogs.html#ga364e78410e64fb751d3a0253d08f98e2" title="Ввод строки в отдельном окне.">txInputBox()</a></dd></dl>
<p>@usage </p><div class="fragment"><div class="line">LRESULT CALLBACK MyWndProc (HWND window, UINT message, WPARAM wParam, LPARAM lParam);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">    {</div>
<div class="line">    <a class="code hl_function" href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab">txCreateWindow</a> (GetSystemMetrics (SM_CXSCREEN) / 4, GetSystemMetrics (SM_CYSCREEN) / 4);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___service.html#ga30fb1a6913174dfcea5079391f655be2">txSetWindowsHook</a> (MyWndProc);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___drawing.html#gae5f1c5f63d862d72883203213786d9f0">txDrawText</a> (0, 0, <a class="code hl_function" href="group___drawing.html#gaed186909e8de1f9a6e5f78c362d9b607">txGetExtentX</a>(), <a class="code hl_function" href="group___drawing.html#ga1838cd6a438d4bea5f26bfa47a103a0d">txGetExtentY</a>(), <span class="stringliteral">&quot;MOV txWindow, eax [please]&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">LRESULT CALLBACK MyWndProc (HWND window, UINT message, WPARAM wParam, LPARAM lParam)</div>
<div class="line">    {</div>
<div class="line">    <span class="keywordflow">if</span> (message == WM_MOVE) <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (<span class="stringliteral">&quot;  I like to MOVe it, MOVe it&quot;</span>, <span class="stringliteral">&quot;TXLib 2 Real&quot;</span>, MB_ICONINFORMATION);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line">    <span class="keywordflow">if</span> (i++ % 10 == 0) printf (<span class="stringliteral">&quot;\b&quot;</span> <span class="stringliteral">&quot;%c&quot;</span>, <span class="stringliteral">&quot;-\\|/&quot;</span> [i/10 % 4]);  <span class="comment">// Прропппеллллерррр</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;  <span class="comment">// Продолжить обработку сообщения средствами TXLib</span></div>
<div class="line">    }</div>
<div class="ttc" id="agroup___drawing_html_gae5f1c5f63d862d72883203213786d9f0"><div class="ttname"><a href="group___drawing.html#gae5f1c5f63d862d72883203213786d9f0">txDrawText</a></div><div class="ttdeci">bool txDrawText(double x0, double y0, double x1, double y1, const char text[], unsigned format=DT_CENTER|DT_VCENTER|DT_WORDBREAK|DT_WORD_ELLIPSIS)</div><div class="ttdoc">Рисует текст, размещенный в прямоугольной области.</div></div>
<div class="ttc" id="agroup___misc_html_gacb878805752034c14b0409817ae5a5ba"><div class="ttname"><a href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a></div><div class="ttdeci">unsigned txMessageBox(const char *text, const char *header=&quot;TXLib сообщает&quot;, unsigned flags=0)</div><div class="ttdoc">Выводит сообщение в окне с помощью функции MessageBox.</div></div>
<div class="ttc" id="agroup___service_html_ga30fb1a6913174dfcea5079391f655be2"><div class="ttname"><a href="group___service.html#ga30fb1a6913174dfcea5079391f655be2">txSetWindowsHook</a></div><div class="ttdeci">WNDPROC txSetWindowsHook(WNDPROC wndProc=NULL)</div><div class="ttdoc">Устанавливает альтернативную функцию обработки оконных сообщений Windows (оконную функцию) для окна T...</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga8fe4ec4c66cb69ce337747fe65dd0cc6" name="ga8fe4ec4c66cb69ce337747fe65dd0cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8fe4ec4c66cb69ce337747fe65dd0cc6">&#9670;&#160;</a></span>txUnlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool txUnlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Разблокировка холста </p>
<dl class="section return"><dt>Returns</dt><dd>Состояние блокировки (всегда false). <pre class="fragment">     Более подробно см. в описании txLock().
</pre> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51" title="Возвращает дескриптор контекста рисования холста">txDC()</a>, <a class="el" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2" title="Блокировка холста (контекста рисования).">txLock()</a>, <a class="el" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400" title="Вызов функции Win32 GDI с автоматической блокировкой и разблокировкой.">txGDI()</a></dd></dl>
<p>@usage См. исходный текст функций _txCanvas_OnPAINT() и _txConsole_Draw() в <a class="el" href="_t_x_lib_8h.html" title="Библиотека Тупого Художника (The Dumb Artist Library, TX Library, TXLib).">TXLib.h</a>. </p>

</div>
</div>
<a id="gaff3d9c60900531f438a19216485bdd41" name="gaff3d9c60900531f438a19216485bdd41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff3d9c60900531f438a19216485bdd41">&#9670;&#160;</a></span>txUpdateWindow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int txUpdateWindow </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>update</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Разрешает или запрещает автоматическое обновление изображения в окне. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">update</td><td>Режим обновления (true - разрешить, false - запретить).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Предыдущее состояние режима обновления. <pre class="fragment">     В отличие от txBegin() и txEnd(), которые поддерживают вложенные вызовы и работают как "скобки для
     замерзания картинки", txUpdateWindow() позволяет явно установить или снять блокировку автоматического
     обновления.

     Более полную информацию о блокировке см. в функциях txBegin(), txEnd() и txSleep().
</pre> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___drawing.html#gae92e621aaed81f90e4d142356e38762a" title="Блокирует обновление изображения окна, во избежание мигания.">txBegin()</a>, <a class="el" href="group___drawing.html#ga809dc04afd5348247846ee01ce9a06e6" title="Разблокирует обновление окна, заблокированное функцией txBegin().">txEnd()</a>, <a class="el" href="group___drawing.html#ga56227ddccbe156355eaca50264bf3334" title="Задерживает выполнение программы на определенное время.">txSleep()</a>, <a class="el" href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41" title="Разрешает или запрещает автоматическое обновление изображения в окне.">txUpdateWindow()</a>, <a class="el" href="group___drawing.html#gaa148d2040d20ed74cf46ab186c35f9ed" title="Запрещает или разрешает рисование мигающего курсора в окне.">txTextCursor()</a>, <a class="el" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2" title="Блокировка холста (контекста рисования).">txLock()</a>, <a class="el" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6" title="Разблокировка холста">txUnlock()</a>, <a class="el" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400" title="Вызов функции Win32 GDI с автоматической блокировкой и разблокировкой.">txGDI()</a></dd></dl>
<p>@usage </p><div class="fragment"><div class="line"><a class="code hl_function" href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41">txUpdateWindow</a> (<span class="keyword">false</span>);</div>
<div class="line">...</div>
<div class="line">txUpdateWindow();</div>
<div class="ttc" id="agroup___drawing_html_gaff3d9c60900531f438a19216485bdd41"><div class="ttname"><a href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41">txUpdateWindow</a></div><div class="ttdeci">int txUpdateWindow(int update=true)</div><div class="ttdoc">Разрешает или запрещает автоматическое обновление изображения в окне.</div></div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
