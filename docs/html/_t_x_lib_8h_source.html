<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tanks Offline: TXLib.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tanks Offline<span id="projectnumber">&#160;0.8.0</span>
   </div>
   <div id="projectbrief">Best game EVER (maybe)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_t_x_lib_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">TXLib.h</div></div>
</div><!--header-->
<div class="contents">
<a href="_t_x_lib_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">//           [These sections are for folding control  in Code::Blocks]</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">//{          [Best viewed with &quot;Fold all on file open&quot; option enabled]             [best screen width is 115 chars]</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment"></span><span class="comment">//           $Copyright: (C) Ded (Ilya Dedinsky, http://txlib.ru) &lt;mail@txlib.ru&gt; $</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment"></span><span class="comment">//}</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#if !defined (__TXLIB_H_INCLUDED)                </span><span class="comment">// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; The code is here, unfold it &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">#define       __TXLIB_H_INCLUDED</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment">//{          Version information</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="preprocessor">#define _TX_V_FROM_CVS(_1,file,ver,rev,date,auth,_2)  &quot;TXLib [Ver: &quot;</span> #ver &quot;, Rev: &quot; #rev &quot;]&quot;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="preprocessor">#define _TX_A_FROM_CVS(_1,file,ver,rev,date,auth,_2)  &quot;Copyright (C) &quot;</span> auth</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="preprocessor">#define _TX_v_FROM_CVS(_1,file,ver,rev,date,auth,_2)  ((0x##ver &lt;&lt; 16) | 0x##rev)</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment"></span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">   83</a></span><span class="preprocessor">#define _TX_VERSION           _TX_V_FROM_CVS ($VersionInfo: , TXLib.h, 00172a, 104, 2014-08-09 16:37:26 +0400, &quot;Ded (Ilya Dedinsky, http://txlib.ru) &lt;mail@txlib.ru&gt;&quot;</span>, $)</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="preprocessor">#define _TX_AUTHOR            _TX_A_FROM_CVS ($VersionInfo: , TXLib.h, 00172a, 104, 2014-08-09 16:37:26 +0400, &quot;Ded (Ilya Dedinsky, http://txlib.ru) &lt;mail@txlib.ru&gt;&quot;</span>, $)</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="group___technical.html#ga6b76c63cd895c2be63ac8e690028623b">  106</a></span><span class="preprocessor">#define _TX_VER               _TX_v_FROM_CVS ($VersionInfo: , TXLib.h, 00172a, 104, 2014-08-09 16:37:26 +0400, &quot;Ded (Ilya Dedinsky, http://txlib.ru) &lt;mail@txlib.ru&gt;&quot;</span>, $)</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="comment">//}</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="comment">//{          Compiler- and platform-specific</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="comment"></span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="comment"></span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="preprocessor">#if !defined (__cplusplus)</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="preprocessor">    #ifdef __GNUC__</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="preprocessor">    #error --------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="preprocessor">    #error TXLib.h: Must use C++ to compile TXLib.h.</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span><span class="preprocessor">    #error CHECK source file EXTENSION. Maybe it is &quot;.C&quot;</span>. It must be &quot;.CPP&quot;.</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span><span class="preprocessor">    #error If your file is named, for example, &quot;Untitled.C&quot;</span>, go to menu [File], then</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="preprocessor">    #error then [Save As] and rename it to &quot;Untitled.CPP&quot;</span>. Please do NOT use spaces.</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="preprocessor">    #error --------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="preprocessor">#if !defined (WIN32) &amp;&amp; !defined (__WIN32__) &amp;&amp; !defined(_WIN32) &amp;&amp; !defined(_WIN32_WINNT)</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="preprocessor">    #ifdef __GNUC__</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="preprocessor">    #error --------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="preprocessor">    #error TXLib.h: Windows (MSVC/Win32 or GCC/MinGW) is the only supported system, sorry.</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="preprocessor">    #error In Linux or iOS, you should write your own TXLib and share it with your friends,</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="preprocessor">    #error or use wine.</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="preprocessor">    #error --------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="preprocessor">#if  defined (UNICODE) || defined (_UNICODE)</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span><span class="preprocessor">    #ifdef __GNUC__</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="preprocessor">    #warning TXLib.h: Disabling the UNICODE</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="preprocessor">    #undef   UNICODE                            </span><span class="comment">// Burn Unicode, burn</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="preprocessor">    #undef  _UNICODE</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span> </div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="preprocessor">    #if defined (_WINDOWS_H) || defined (_INC_WINDOWS) || defined (_WINDOWS_) || defined (__WINDOWS__)</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="preprocessor">    #ifdef __GNUC__</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="preprocessor">    #error --------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="preprocessor">    #error TXLib.h: Should include &quot;TXLib.h&quot;</span> BEFORE or INSTEAD of &lt;Windows.h&gt; in UNICODE mode.</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="preprocessor">    #error REARRANGE your #include directives, or DISABLE the UNICODE mode.</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="preprocessor">    #error --------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="preprocessor">#if  defined (__STRICT_ANSI__)                   </span><span class="comment">// Try to extend strict ANSI rules</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="preprocessor">    #ifdef __GNUC__</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="preprocessor">    #warning TXLib.h: Trying to extend strict ANSI compatibility</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="preprocessor">    #undef  __STRICT_ANSI__</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="preprocessor">    #define __STRICT_ANSI__UNDEFINED</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="preprocessor">    #if defined (_STRING_H_) || defined (_INC_STRING) || defined (_STDIO_H_) || defined (_INC_STDIO)</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="preprocessor">    #ifdef __GNUC__</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="preprocessor">    #error --------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="preprocessor">    #error TXLib.h: Should include &quot;TXLib.h&quot;</span> BEFORE &lt;string.h&gt; or &lt;stdio.h&gt; in Strict ANSI mode.</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="preprocessor">    #error REARRANGE your #include directives, or DISABLE ANSI-compliancy.</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="preprocessor">    #error --------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="preprocessor">    #error</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span><span class="preprocessor">#if  defined (__GNUC__)</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span><span class="preprocessor">    #define _GCC_VER                ( __GNUC__*100 + __GNUC_MINOR__*10 + __GNUC_PATCHLEVEL__ )</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="preprocessor">    #if defined (_GCC_VER) &amp;&amp; (_GCC_VER &gt;= 420)</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="preprocessor">        #if (_GCC_VER &gt;= 460)</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="preprocessor">        #pragma GCC diagnostic push</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="preprocessor">        #endif</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="preprocessor">        #pragma GCC optimize         (&quot;no-strict-aliasing&quot;</span>)</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="preprocessor">        #pragma GCC diagnostic ignored &quot;-Wstrict-aliasing&quot;</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="preprocessor">        #pragma GCC diagnostic ignored &quot;-Wshadow&quot;</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span><span class="preprocessor">        #pragma GCC diagnostic ignored &quot;-Wmissing-field-initializers&quot;</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="preprocessor">        #pragma GCC diagnostic ignored &quot;-Wunreachable-code&quot;</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="preprocessor">        #pragma GCC diagnostic ignored &quot;-Wold-style-cast&quot;</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="preprocessor">        #pragma GCC diagnostic ignored &quot;-Wunused-label&quot;</span>    <span class="comment">// Just for fun in _txCanvas_OnCmdAbout()</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="preprocessor">        #pragma GCC diagnostic ignored &quot;-Winline&quot;</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="preprocessor">        #define _TX_THREAD          __thread</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="preprocessor">    #else</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span><span class="preprocessor">        #define _TX_THREAD</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="preprocessor">    #define _TX_CHECK_FORMAT( at )  __attribute__ (( format (printf, (at), (at)+1) ))</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keyword">inline</span> T _txNOP (T value)       { <span class="keywordflow">return</span> value; }  <span class="comment">// To suppress performance warnings in assert etc</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="comment">// From MinGW\include\float.h which is replaced by MinGW\lib\gcc\i686-pc-mingw32\x.x.x\include\float.h</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> __cdecl _controlfp (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> unNew, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> unMask);</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span>         __cdecl _fpreset   (<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="preprocessor">    #define _TX_CHECK_FORMAT( at )</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="preprocessor">    #define _txNOP( value )         ( value )</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="preprocessor">#if  defined (_MSC_VER)</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="preprocessor">    #pragma warning (push, 4)                   </span><span class="comment">// Set maximum warning level</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="preprocessor">    #pragma warning (disable: 4127)             </span><span class="comment">// conditional expression is constant</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="preprocessor">    #pragma warning (disable: 4351)             </span><span class="comment">// new behavior: elements of array will be default initialized</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="preprocessor">    #pragma warning (disable: 4702)             </span><span class="comment">// unreachable code</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="preprocessor">    #define _TX_THREAD              __declspec (thread)</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span> </div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span> </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span><span class="preprocessor">#if  defined (_MSC_VER) &amp;&amp; (_MSC_VER == 1200)   </span><span class="comment">// MSVC 6 (1998)</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="preprocessor">    #define _MSC_VER_6                          </span><span class="comment">// Flag the bad dog</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="preprocessor">    #pragma warning (disable: 4511)             </span><span class="comment">// copy constructor could not be generated</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="preprocessor">    #pragma warning (disable: 4512)             </span><span class="comment">// assignment operator could not be generated</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="preprocessor">    #pragma warning (disable: 4514)             </span><span class="comment">// unreferenced inline function has been removed</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="preprocessor">    #pragma warning (disable: 4663)             </span><span class="comment">// C++ language change: to explicitly specialize class template</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="preprocessor">    #pragma warning (disable: 4710)             </span><span class="comment">// function not inlined</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="preprocessor">    #pragma warning (disable: 4786)             </span><span class="comment">// identifier was truncated to &#39;255&#39; characters in the debug information</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span><span class="preprocessor">    #if !defined (WINVER)</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span><span class="preprocessor">        #define   WINVER            0x0400      </span><span class="comment">// MSVC 6: Defaults to Windows 95</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="preprocessor">    #if !defined (NDEBUG)</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span><span class="preprocessor">        #define _CRTDBG_MAP_ALLOC   1           </span><span class="comment">// Set debug mode heap allocation</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span><span class="preprocessor">#if  defined (_MSC_VER) &amp;&amp; (_MSC_VER &gt;= 1400)   </span><span class="comment">// MSVC 8 (2005) or greater</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span><span class="preprocessor">    #pragma warning (disable: 26135)            </span><span class="comment">// missing locking annotation</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span><span class="preprocessor">    #pragma warning (disable: 28125)            </span><span class="comment">// the function must be called from within a try/except block</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span><span class="preprocessor">    #pragma warning (disable: 28159)            </span><span class="comment">// consider using another function instead</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="preprocessor">    #pragma setlocale               (&quot;russian&quot;</span>) <span class="comment">// Set source file encoding, see also _TX_CP</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="preprocessor">    #if !defined (NDEBUG)</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="preprocessor">        #pragma check_stack         (on)        </span><span class="comment">// Turn on stack probes at runtime</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="preprocessor">        #pragma strict_gs_check     (push, on)  </span><span class="comment">// Detects stack buffer overruns</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="preprocessor">    #define _CRT_SECURE_CPP_OVERLOAD_SECURE_NAMES 1</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span><span class="preprocessor">    #define _TX_TRUNCATE            , _TRUNCATE</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span><span class="preprocessor">    #define  strcpy_s               strcpy      </span><span class="comment">// MSVC prior to 8 (2005) versions and GCC</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="preprocessor">    #define  strncpy_s              strncpy     </span><span class="comment">//   do NOT have secure variants of these</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span><span class="preprocessor">    #define  strncat_s              strncat     </span><span class="comment">//   functions, so use insecure ones.</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="preprocessor">    #define  wcsncpy_s              wcsncpy     </span><span class="comment">//   ...</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span><span class="preprocessor">    #define _snprintf_s            _snprintf    </span><span class="comment">//</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span><span class="preprocessor">    #define _vsnprintf_s           _vsnprintf   </span><span class="comment">//</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="preprocessor">    #define  strerror_s(   buf,             code )  (              strncpy  ((buf), strerror (code), sizeof(buf)-1) )</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="preprocessor">    #define  ctime_s(      buf, sizeof_buf, time )  (              strncpy  ((buf), ctime (time),   (sizeof_buf)-1) )</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="preprocessor">    #define  getenv_s( sz, buf, sizeof_buf, name )  ( (void)(sz),  strncpy  ((buf), getenv (name),  (sizeof_buf)-1) )</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="preprocessor">    #define  strtok_s(     buf, delim, ctx )        ( (void)(ctx), strtok   ((buf), (delim)) )</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="preprocessor">    #if !( defined (_GCC_VER) &amp;&amp; (_GCC_VER == 471) &amp;&amp; defined (__x86_64__) )  </span><span class="comment">// GCC 4.7.1 x64 already has it</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span><span class="preprocessor">    #define _controlfp_s( oldCtl, newCtl, mask )    ( *(oldCtl) = _controlfp (newCtl, mask), 0 )</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span><span class="preprocessor">    #define _TX_TRUNCATE</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span><span class="preprocessor">#if  defined (__INTEL_COMPILER)</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span><span class="preprocessor">    #pragma warning (disable:  174)             </span><span class="comment">// remark: expression has no effect</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span><span class="preprocessor">    #pragma warning (disable:  304)             </span><span class="comment">// remark: access control not specified (&quot;public&quot; by default)</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span><span class="preprocessor">    #pragma warning (disable:  522)             </span><span class="comment">// remark: function &quot;...&quot; redeclared &quot;inline&quot; after being called</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span><span class="preprocessor">    #pragma warning (disable:  981)             </span><span class="comment">// remark: operands are evaluated in unspecified order</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="preprocessor">    #pragma warning (disable: 1684)             </span><span class="comment">// conversion from pointer to same-sized integral type (potential portability problem)</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span><span class="preprocessor">#if !defined (WINVER)</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span><span class="preprocessor">    #define   WINVER                0x0500      </span><span class="comment">// Defaults to Windows 2000</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="preprocessor">    #define   WINDOWS_ENABLE_CPLUSPLUS          </span><span class="comment">// Allow use of type-limit macros in &lt;basetsd.h&gt;,</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span><span class="preprocessor">#endif                                          </span><span class="comment">//   they allowed by default if WINVER &gt;= 0x0600.</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="preprocessor">#if !defined (_WIN32_WINNT)</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="preprocessor">    #define   _WIN32_WINNT          WINVER      </span><span class="comment">// Defaults to the same as WINVER</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span><span class="preprocessor">#if !defined (_WIN32_IE)</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span><span class="preprocessor">    #define   _WIN32_IE             WINVER      </span><span class="comment">// Defaults to the same as WINVER</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span><span class="preprocessor">#define _USE_MATH_DEFINES                       </span><span class="comment">// math.h&#39;s M_PI etc.</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span><span class="comment">//}</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span><span class="comment">//{          The Includes</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span><span class="preprocessor">#ifdef _MSC_VER_6</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span><span class="preprocessor">    #pragma warning (push, 3)                   </span><span class="comment">// MSVC 6: At level 4, some std headers emit warnings O_o</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span> </div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span><span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span><span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span><span class="preprocessor">#include &lt;io.h&gt;</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span><span class="preprocessor">#include &lt;direct.h&gt;</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span><span class="preprocessor">#include &lt;process.h&gt;</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span><span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span><span class="preprocessor">#include &lt;locale.h&gt;</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span><span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="preprocessor">#include &lt;float.h&gt;</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span><span class="preprocessor">#include &lt;exception&gt;</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span><span class="preprocessor">#include &lt;stdexcept&gt;</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="preprocessor">#include &lt;conio.h&gt;</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span> </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="preprocessor">#include &lt;windows.h&gt;</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span><span class="preprocessor">#include &lt;tlhelp32.h&gt;</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="preprocessor">#include &lt;shellapi.h&gt;</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span><span class="preprocessor">#include &lt;shlobj.h&gt;</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span><span class="preprocessor">#if defined (_MSC_VER)</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="preprocessor">#include &lt;crtdbg.h&gt;</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span> </div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span><span class="preprocessor">#ifdef _MSC_VER_6</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span><span class="preprocessor">    #pragma warning (pop)                       </span><span class="comment">// MSVC 6: Restore max level</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span><span class="preprocessor">#ifdef __STRICT_ANSI__UNDEFINED</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span><span class="preprocessor">    #define  __STRICT_ANSI__                    </span><span class="comment">// Redefine back</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span> </div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span><span class="comment">//}</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span><span class="comment">//{          The namespaces</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span><span class="preprocessor">#ifdef FOR_DOXYGEN_ONLY</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span><span class="keyword">namespace </span>{ <span class="keyword">namespace </span>TX { }}</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span> </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span><span class="comment">//}</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span><span class="keyword">namespace </span>{ <span class="keyword">namespace </span>TX {                       <span class="comment">// &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; The main code is here, unfold it &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="comment">//{          TXLIB INTERFACE</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span><span class="comment">//            </span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span><span class="comment">//{          Initialization</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span> </div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno"><a class="line" href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab">  474</a></span>HWND <a class="code hl_function" href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab">txCreateWindow</a> (<span class="keywordtype">double</span> sizeX, <span class="keywordtype">double</span> sizeY, <span class="keywordtype">bool</span> centered = <span class="keyword">true</span>);</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span> </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span> </div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno"><a class="line" href="group___drawing.html#gae05b7bb52b782b86796201f9f96d0f58">  495</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gae05b7bb52b782b86796201f9f96d0f58">txSetDefaults</a>();</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span> </div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno"><a class="line" href="group___drawing.html#ga6971b22d5486b242e20a8dea1f21422a">  518</a></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga6971b22d5486b242e20a8dea1f21422a">txOK</a>();</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno"><a class="line" href="group___drawing.html#ga69be92455ac555cb03470cb4ef4ac67c">  536</a></span>POINT <a class="code hl_function" href="group___drawing.html#ga69be92455ac555cb03470cb4ef4ac67c">txGetExtent</a>();</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span> </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno"><a class="line" href="group___drawing.html#gaed186909e8de1f9a6e5f78c362d9b607">  552</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gaed186909e8de1f9a6e5f78c362d9b607">txGetExtentX</a>();</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span> </div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span> </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno"><a class="line" href="group___drawing.html#ga1838cd6a438d4bea5f26bfa47a103a0d">  569</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#ga1838cd6a438d4bea5f26bfa47a103a0d">txGetExtentY</a>();</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span> </div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno"><a class="line" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">  591</a></span><span class="keyword">inline</span> HDC&amp; <a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>();</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span> </div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span> </div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno"><a class="line" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">  607</a></span><span class="keyword">inline</span> HWND <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>();</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span> </div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno"><a class="line" href="group___drawing.html#ga0fc0db1a7c287bec31625bdf3a21922e">  620</a></span><span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="group___drawing.html#ga0fc0db1a7c287bec31625bdf3a21922e">txVersion</a>();</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno"><a class="line" href="group___drawing.html#gacd2416cd6b89106ab6700d0c75922bee">  633</a></span><span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="group___drawing.html#gacd2416cd6b89106ab6700d0c75922bee">txVersionNumber</a>();</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span> </div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno"><a class="line" href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">  665</a></span><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">txGetModuleFileName</a> (<span class="keywordtype">bool</span> fileNameOnly = <span class="keyword">true</span>);</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span> </div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span><span class="comment">//}</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span><span class="comment">//{          Setting the parameters</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span> </div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span><span class="keyword">const</span> COLORREF</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span><span class="preprocessor">#ifdef FOR_DOXYGEN_ONLY</span></div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    <span class="keyword">enum</span> txColors {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span> </div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno"><a class="line" href="group___drawing.html#gacc1ae8a3821354abc2d3f8f42ee75706">  709</a></span>    <a class="code hl_variable" href="group___drawing.html#gacc1ae8a3821354abc2d3f8f42ee75706">TX_BLACK</a>         = RGB (  0,   0,   0),   </div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno"><a class="line" href="group___drawing.html#gaa281a54954945bb0e96314fb4cfad7b9">  710</a></span>    <a class="code hl_variable" href="group___drawing.html#gaa281a54954945bb0e96314fb4cfad7b9">TX_BLUE</a>          = RGB (  0,   0, 128),   </div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno"><a class="line" href="group___drawing.html#ga32abcdee1b6897c768f21bf9264fe3eb">  711</a></span>    <a class="code hl_variable" href="group___drawing.html#ga32abcdee1b6897c768f21bf9264fe3eb">TX_GREEN</a>         = RGB (  0, 128,   0),   </div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno"><a class="line" href="group___drawing.html#ga59169dd9d9168dcbd3d4fa30d3e94f22">  712</a></span>    <a class="code hl_variable" href="group___drawing.html#ga59169dd9d9168dcbd3d4fa30d3e94f22">TX_CYAN</a>          = RGB (  0, 128, 128),   </div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno"><a class="line" href="group___drawing.html#ga93e1976dd8ae8d5e1b3932a4e5bfd158">  713</a></span>    <a class="code hl_variable" href="group___drawing.html#ga93e1976dd8ae8d5e1b3932a4e5bfd158">TX_RED</a>           = RGB (128,   0,   0),   </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno"><a class="line" href="group___drawing.html#gaf022ca75f4a59aa0a2cf18529e0a9861">  714</a></span>    <a class="code hl_variable" href="group___drawing.html#gaf022ca75f4a59aa0a2cf18529e0a9861">TX_MAGENTA</a>       = RGB (128,   0, 128),   </div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno"><a class="line" href="group___drawing.html#ga941df978c121666ee6092034ec47701c">  715</a></span>    <a class="code hl_variable" href="group___drawing.html#ga941df978c121666ee6092034ec47701c">TX_BROWN</a>         = RGB (128, 128,   0),   </div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno"><a class="line" href="group___drawing.html#gae7c2564209f7b1f2bdb5cbbee77b49b4">  716</a></span>    <a class="code hl_variable" href="group___drawing.html#gae7c2564209f7b1f2bdb5cbbee77b49b4">TX_ORANGE</a>        = RGB (255, 128,   0),   </div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno"><a class="line" href="group___drawing.html#gac47f8583faaa8d391a6c120c8b576733">  717</a></span>    <a class="code hl_variable" href="group___drawing.html#gac47f8583faaa8d391a6c120c8b576733">TX_GRAY</a>          = RGB (160, 160, 160),   </div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno"><a class="line" href="group___drawing.html#ga16ef56f4dfb0cf5f8422bab9663eb7a9">  718</a></span>    <a class="code hl_variable" href="group___drawing.html#ga16ef56f4dfb0cf5f8422bab9663eb7a9">TX_DARKGRAY</a>      = RGB (128, 128, 128),   </div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno"><a class="line" href="group___drawing.html#ga6625deb7ac8953a7e516285ac81c0b34">  719</a></span>    <a class="code hl_variable" href="group___drawing.html#ga6625deb7ac8953a7e516285ac81c0b34">TX_LIGHTGRAY</a>     = RGB (192, 192, 192),   </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno"><a class="line" href="group___drawing.html#ga39fc3e530244cd74a18b58b2554cf686">  720</a></span>    <a class="code hl_variable" href="group___drawing.html#ga39fc3e530244cd74a18b58b2554cf686">TX_LIGHTBLUE</a>     = RGB (  0,   0, 255),   </div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno"><a class="line" href="group___drawing.html#ga2b069ef0d81d1b217e8a4f019140ee92">  721</a></span>    <a class="code hl_variable" href="group___drawing.html#ga2b069ef0d81d1b217e8a4f019140ee92">TX_LIGHTGREEN</a>    = RGB (  0, 255, 128),   </div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno"><a class="line" href="group___drawing.html#gab5cd3833edf57a1fe3a3facf3e3086ac">  722</a></span>    <a class="code hl_variable" href="group___drawing.html#gab5cd3833edf57a1fe3a3facf3e3086ac">TX_LIGHTCYAN</a>     = RGB (  0, 255, 255),   </div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno"><a class="line" href="group___drawing.html#ga9be3f6a68afe0bf3013fc4c7fbebd057">  723</a></span>    <a class="code hl_variable" href="group___drawing.html#ga9be3f6a68afe0bf3013fc4c7fbebd057">TX_LIGHTRED</a>      = RGB (255,   0, 128),   </div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno"><a class="line" href="group___drawing.html#gaa8db9fe1edc90be50c3fb8a94fd09275">  724</a></span>    <a class="code hl_variable" href="group___drawing.html#gaa8db9fe1edc90be50c3fb8a94fd09275">TX_LIGHTMAGENTA</a>  = RGB (255,   0, 255),   </div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno"><a class="line" href="group___drawing.html#ga6d082544499056d96ebda68defe0be54">  725</a></span>    <a class="code hl_variable" href="group___drawing.html#ga6d082544499056d96ebda68defe0be54">TX_PINK</a>          = RGB (255, 128, 255),   </div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno"><a class="line" href="group___drawing.html#ga6388bef316887789b735b7fbbc04ec4d">  726</a></span>    <a class="code hl_variable" href="group___drawing.html#ga6388bef316887789b735b7fbbc04ec4d">TX_YELLOW</a>        = RGB (255, 255, 128),   </div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno"><a class="line" href="group___drawing.html#ga90c5bf9144d5eed4926fb92ba854eca9">  727</a></span>    <a class="code hl_variable" href="group___drawing.html#ga90c5bf9144d5eed4926fb92ba854eca9">TX_WHITE</a>         = RGB (255, 255, 255),   </div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno"><a class="line" href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">  728</a></span>    <a class="code hl_variable" href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">TX_TRANSPARENT</a>   = 0xFFFFFFFF,            </div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno"><a class="line" href="group___drawing.html#gad737ddf597e37fe699dc87c3f7f2a748">  729</a></span>    <a class="code hl_variable" href="group___drawing.html#gad737ddf597e37fe699dc87c3f7f2a748">TX_NULL</a>          = <a class="code hl_variable" href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">TX_TRANSPARENT</a>,        </div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span> </div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span><span class="comment">//    () - . txExtractColor(), txRGB2HSL(), txHSL2RGB()</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span> </div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno"><a class="line" href="group___drawing.html#gaa5cab2d4aa67ea50390c30f094a77862">  733</a></span>    <a class="code hl_variable" href="group___drawing.html#gaa5cab2d4aa67ea50390c30f094a77862">TX_HUE</a>          = 0x04000000,             </div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno"><a class="line" href="group___drawing.html#ga4395ad7eeeda9d2163a89996ca91133e">  734</a></span>    <a class="code hl_variable" href="group___drawing.html#ga4395ad7eeeda9d2163a89996ca91133e">TX_SATURATION</a>   = 0x05000000,             </div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno"><a class="line" href="group___drawing.html#ga03a8558c6bf26c0d6f59f85fc458c1a8">  735</a></span>    <a class="code hl_variable" href="group___drawing.html#ga03a8558c6bf26c0d6f59f85fc458c1a8">TX_LIGHTNESS</a>    = 0x06000000;             </div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span><span class="preprocessor">#ifdef FOR_DOXYGEN_ONLY</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    };</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span> </div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span> </div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span><span class="preprocessor">#ifdef FOR_DOXYGEN_ONLY</span></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>COLORREF RGB (<span class="keywordtype">int</span> red, <span class="keywordtype">int</span> green, <span class="keywordtype">int</span> blue);</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span> </div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span> </div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno"><a class="line" href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e">  789</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e">txSetColor</a> (COLORREF color, <span class="keywordtype">double</span> thickness = 1);</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span> </div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span><span class="preprocessor">#define txSetColour txSetColor</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span> </div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno"><a class="line" href="group___drawing.html#ga977c584db1ecfba20898615a948ab675">  813</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga977c584db1ecfba20898615a948ab675">txColor</a> (<span class="keywordtype">double</span> red, <span class="keywordtype">double</span> green, <span class="keywordtype">double</span> blue);</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span> </div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno"><a class="line" href="group___drawing.html#ga4894075399ec8e8747177f90c15fb35d">  828</a></span>COLORREF <a class="code hl_function" href="group___drawing.html#ga4894075399ec8e8747177f90c15fb35d">txGetColor</a>();</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span> </div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span> </div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno"><a class="line" href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf">  846</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf">txSetFillColor</a> (COLORREF color);</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span> </div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span><span class="preprocessor">#define txSetFillColour txSetFillColor</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span> </div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno"><a class="line" href="group___drawing.html#ga385a6f84e8f1447a33047fa0f3be972b">  869</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga385a6f84e8f1447a33047fa0f3be972b">txFillColor</a> (<span class="keywordtype">double</span> red, <span class="keywordtype">double</span> green, <span class="keywordtype">double</span> blue);</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span> </div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span> </div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno"><a class="line" href="group___drawing.html#ga1a65fa9ddfd07bda8ab3e95873991b76">  884</a></span>COLORREF <a class="code hl_function" href="group___drawing.html#ga1a65fa9ddfd07bda8ab3e95873991b76">txGetFillColor</a>();</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span> </div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span> </div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno"><a class="line" href="group___drawing.html#ga3ddd148ec8af2d1f722b398ee7e17a71">  939</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga3ddd148ec8af2d1f722b398ee7e17a71">txSetROP2</a> (<span class="keywordtype">int</span> mode = R2_COPYPEN);</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span> </div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span> </div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno"><a class="line" href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">  961</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">txExtractColor</a> (COLORREF color, COLORREF component);</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span> </div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span> </div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno"><a class="line" href="group___drawing.html#ga0dc8953591b63696392ec581c6b25f7c">  991</a></span>COLORREF <a class="code hl_function" href="group___drawing.html#ga0dc8953591b63696392ec581c6b25f7c">txRGB2HSL</a> (COLORREF rgbColor);</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span> </div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span> </div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"><a class="line" href="group___drawing.html#ga1a87b7cd3e5a74e4dc6828d42d03fffa"> 1023</a></span>COLORREF <a class="code hl_function" href="group___drawing.html#ga1a87b7cd3e5a74e4dc6828d42d03fffa">txHSL2RGB</a> (COLORREF hslColor);</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span> </div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span><span class="comment">//}</span></div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span> </div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span><span class="comment">//{          Drawing</span></div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span> </div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"><a class="line" href="group___drawing.html#ga2a3940b99d02c630364d4b74e7d08a23"> 1047</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga2a3940b99d02c630364d4b74e7d08a23">txClear</a>();</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span> </div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span> </div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"><a class="line" href="group___drawing.html#gad314ddd4f6afa0bb727c4b0cd8207603"> 1067</a></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gad314ddd4f6afa0bb727c4b0cd8207603">txSetPixel</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, COLORREF color);</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span> </div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span> </div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"><a class="line" href="group___drawing.html#ga3275b9e7d36b0aeefd60afea65150469"> 1088</a></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga3275b9e7d36b0aeefd60afea65150469">txPixel</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> red, <span class="keywordtype">double</span> green, <span class="keywordtype">double</span> blue);</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span> </div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span> </div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"><a class="line" href="group___drawing.html#ga3d6ff7a642714b236c3837f977795396"> 1109</a></span><span class="keyword">inline</span> COLORREF <a class="code hl_function" href="group___drawing.html#ga3d6ff7a642714b236c3837f977795396">txGetPixel</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y);</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span> </div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span> </div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"><a class="line" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d"> 1132</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1);</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span> </div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span> </div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"><a class="line" href="group___drawing.html#ga56fe553987cace1e1572b2e64ea46ebc"> 1157</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga56fe553987cace1e1572b2e64ea46ebc">txRectangle</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1);</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span> </div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span> </div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"><a class="line" href="group___drawing.html#ga4e872a3d71ac242bd40d614b9c03f86e"> 1179</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga4e872a3d71ac242bd40d614b9c03f86e">txPolygon</a> (<span class="keyword">const</span> POINT points[], <span class="keywordtype">int</span> numPoints);</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span> </div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span> </div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"><a class="line" href="group___drawing.html#ga2bd0c5c1f84629e673601464e20ddc1f"> 1202</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga2bd0c5c1f84629e673601464e20ddc1f">txEllipse</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1);</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span> </div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span> </div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"><a class="line" href="group___drawing.html#gaa14e9c2a46cf713efaa1f850074d8adc"> 1224</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gaa14e9c2a46cf713efaa1f850074d8adc">txCircle</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> r);</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span> </div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span> </div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"><a class="line" href="group___drawing.html#ga7e3759e5f9a708f87ac77ccc1419691e"> 1249</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga7e3759e5f9a708f87ac77ccc1419691e">txArc</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> startAngle, <span class="keywordtype">double</span> totalAngle);</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span> </div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span> </div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"><a class="line" href="group___drawing.html#ga100795a6e30f3ed01f04e4d1b01bd918"> 1274</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga100795a6e30f3ed01f04e4d1b01bd918">txPie</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> startAngle, <span class="keywordtype">double</span> totalAngle);</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span> </div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span> </div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"><a class="line" href="group___drawing.html#gaa47cb24ee215e0d2fcb0cf9bcf0b8723"> 1299</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gaa47cb24ee215e0d2fcb0cf9bcf0b8723">txChord</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> startAngle, <span class="keywordtype">double</span> totalAngle);</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span> </div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span> </div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"><a class="line" href="group___drawing.html#ga16b68f33ba5a925a58fce0abc99d7213"> 1332</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga16b68f33ba5a925a58fce0abc99d7213">txFloodFill</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, COLORREF color = <a class="code hl_variable" href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">TX_TRANSPARENT</a>, DWORD mode = FLOODFILLSURFACE);</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span> </div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span> </div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"><a class="line" href="group___drawing.html#gaf5f3dec18e058830a6eb85ca127472df"> 1354</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gaf5f3dec18e058830a6eb85ca127472df">txTriangle</a> (<span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> x2, <span class="keywordtype">double</span> y2, <span class="keywordtype">double</span> x3, <span class="keywordtype">double</span> y3)</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>    {</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    (void)x1; (void)y1; (void)x2; (void)y2; (void)x3; (void)y3;</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span> </div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>    MessageBox (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(),</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>               <span class="stringliteral">&quot;     ,        \n&quot;</span></div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>               <span class="stringliteral">&quot;   ,  txPolygon(). . \&quot;    \&quot;.    &quot;</span>,</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>               <span class="stringliteral">&quot;TXLib &quot;</span>, MB_ICONINFORMATION);</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span> </div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>    }</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span> </div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span> </div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"><a class="line" href="group___drawing.html#gac76227ff55076802ea267be18b4d7a8d"> 1407</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="group___drawing.html#gac76227ff55076802ea267be18b4d7a8d">txDrawMan</a> (<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> sizeX, <span class="keywordtype">int</span> sizeY, COLORREF color, <span class="keywordtype">double</span> handL, <span class="keywordtype">double</span> handR, <span class="keywordtype">double</span> twist,</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>                <span class="keywordtype">double</span> head, <span class="keywordtype">double</span> eyes, <span class="keywordtype">double</span> wink, <span class="keywordtype">double</span> crazy, <span class="keywordtype">double</span> smile, <span class="keywordtype">double</span> hair, <span class="keywordtype">double</span> wind);</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span><span class="comment">//}</span></div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span> </div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span><span class="comment">//{          Drawing text</span></div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span> </div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"><a class="line" href="group___drawing.html#ga4eacb78833e54f44243f60ded9fdaf64"> 1438</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga4eacb78833e54f44243f60ded9fdaf64">txTextOut</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keyword">const</span> <span class="keywordtype">char</span> text[]);</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span> </div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span> </div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"><a class="line" href="group___drawing.html#gae5f1c5f63d862d72883203213786d9f0"> 1482</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gae5f1c5f63d862d72883203213786d9f0">txDrawText</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keyword">const</span> <span class="keywordtype">char</span> text[],</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>                 <span class="keywordtype">unsigned</span> format = DT_CENTER | DT_VCENTER | DT_WORDBREAK | DT_WORD_ELLIPSIS);</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span> </div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span> </div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"><a class="line" href="group___drawing.html#ga9290f4d78a1f2dc5db7892cabe9a2abc"> 1511</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga9290f4d78a1f2dc5db7892cabe9a2abc">txSelectFont</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> name[], <span class="keywordtype">double</span> sizeY,</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>                   <span class="keywordtype">double</span> sizeX     = -1,</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>                   <span class="keywordtype">int</span>    bold      = FW_DONTCARE,</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>                   <span class="keywordtype">bool</span>   italic    = <span class="keyword">false</span>,</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>                   <span class="keywordtype">bool</span>   underline = <span class="keyword">false</span>,</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>                   <span class="keywordtype">bool</span>   strikeout = <span class="keyword">false</span>,</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>                   <span class="keywordtype">double</span> angle     = 0);</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span> </div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span> </div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"><a class="line" href="group___drawing.html#ga356c475609cf282310fc336821adf71f"> 1535</a></span>SIZE <a class="code hl_function" href="group___drawing.html#ga356c475609cf282310fc336821adf71f">txGetTextExtent</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> text[]);</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span> </div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span> </div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"><a class="line" href="group___drawing.html#gaad385937fb3526c8f4054ae288d285c6"> 1552</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gaad385937fb3526c8f4054ae288d285c6">txGetTextExtentX</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> text[]);</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span> </div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span> </div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"><a class="line" href="group___drawing.html#ga3a34e3baf660b310f6ca0d373f36c024"> 1569</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#ga3a34e3baf660b310f6ca0d373f36c024">txGetTextExtentY</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> text[]);</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span> </div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span> </div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"><a class="line" href="group___drawing.html#ga5a3cef04fcf688a051a9eafd6c8338a7"> 1599</a></span><span class="keywordtype">unsigned</span> <a class="code hl_function" href="group___drawing.html#ga5a3cef04fcf688a051a9eafd6c8338a7">txSetTextAlign</a> (<span class="keywordtype">unsigned</span> align = TA_CENTER | TA_BASELINE);</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span> </div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span> </div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"><a class="line" href="group___drawing.html#ga1dc38c08e812d5f5a3c8f752a97c2bb2"> 1619</a></span>LOGFONT* <a class="code hl_function" href="group___drawing.html#ga1dc38c08e812d5f5a3c8f752a97c2bb2">txFontExist</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> name[]);</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span> </div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span><span class="comment">//}</span></div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span> </div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span><span class="comment">//{          Drawing to memory DC and image loading</span></div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span> </div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"><a class="line" href="group___drawing.html#ga2f1b4b81b2b9280bb58c2d79930e2a63"> 1660</a></span>HDC <a class="code hl_function" href="group___drawing.html#ga2f1b4b81b2b9280bb58c2d79930e2a63">txCreateCompatibleDC</a> (<span class="keywordtype">double</span> sizeX, <span class="keywordtype">double</span> sizeY, HBITMAP bitmap = NULL);</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span> </div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span> </div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"><a class="line" href="group___drawing.html#ga28123a5be2ad65c41550ccb558138476"> 1725</a></span>HDC <a class="code hl_function" href="group___drawing.html#ga28123a5be2ad65c41550ccb558138476">txLoadImage</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> filename[], <span class="keywordtype">unsigned</span> imageFlags = IMAGE_BITMAP, <span class="keywordtype">unsigned</span> loadFlags = LR_LOADFROMFILE);</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span> </div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span><span class="comment">//@ {</span></div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span> </div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"><a class="line" href="group___drawing.html#ga505f212582bf9b2bf95a4ef15f84af42"> 1755</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga505f212582bf9b2bf95a4ef15f84af42">txDeleteDC</a> (HDC  dc);</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span> </div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga505f212582bf9b2bf95a4ef15f84af42">txDeleteDC</a> (HDC* dc);</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span> </div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span><span class="comment">//@ }</span></div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span> </div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"><a class="line" href="group___drawing.html#ga09488931ddf7b1e7e0b31529e1904887"> 1820</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga09488931ddf7b1e7e0b31529e1904887">txBitBlt</a> (HDC dest, <span class="keywordtype">double</span> xDest, <span class="keywordtype">double</span> yDest, <span class="keywordtype">double</span> width, <span class="keywordtype">double</span> height,</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>               HDC src,  <span class="keywordtype">double</span> xSrc = 0, <span class="keywordtype">double</span> ySrc = 0, DWORD rOp = SRCCOPY);</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span> </div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span> </div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"><a class="line" href="group___drawing.html#gab4b1096971ee1f427e9f0211c2b2dea4"> 1873</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gab4b1096971ee1f427e9f0211c2b2dea4">txTransparentBlt</a> (HDC dest, <span class="keywordtype">double</span> xDest, <span class="keywordtype">double</span> yDest, <span class="keywordtype">double</span> width, <span class="keywordtype">double</span> height,</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>                       HDC src,  <span class="keywordtype">double</span> xSrc = 0, <span class="keywordtype">double</span> ySrc = 0, COLORREF transColor = <a class="code hl_variable" href="group___drawing.html#gacc1ae8a3821354abc2d3f8f42ee75706">TX_BLACK</a>);</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span> </div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span> </div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"><a class="line" href="group___drawing.html#gad2a44daaf97dccd615e2754930bd8245"> 1950</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gad2a44daaf97dccd615e2754930bd8245">txAlphaBlend</a> (HDC dest, <span class="keywordtype">double</span> xDest, <span class="keywordtype">double</span> yDest, <span class="keywordtype">double</span> width, <span class="keywordtype">double</span> height,</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>                   HDC src,  <span class="keywordtype">double</span> xSrc = 0, <span class="keywordtype">double</span> ySrc = 0, <span class="keywordtype">double</span> alpha = 1.0);</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span><span class="comment">//}</span></div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span> </div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span><span class="comment">//{          Utility functions</span></div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span> </div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"><a class="line" href="group___drawing.html#ga56227ddccbe156355eaca50264bf3334"> 1978</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="group___drawing.html#ga56227ddccbe156355eaca50264bf3334">txSleep</a> (<span class="keywordtype">double</span> time);</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span> </div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span> </div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"><a class="line" href="group___drawing.html#gae92e621aaed81f90e4d142356e38762a"> 2007</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gae92e621aaed81f90e4d142356e38762a">txBegin</a>();</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span> </div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span> </div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"><a class="line" href="group___drawing.html#ga809dc04afd5348247846ee01ce9a06e6"> 2032</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#ga809dc04afd5348247846ee01ce9a06e6">txEnd</a>();</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span> </div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span> </div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"><a class="line" href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41"> 2057</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41">txUpdateWindow</a> (<span class="keywordtype">int</span> update = <span class="keyword">true</span>);</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span> </div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span> </div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"><a class="line" href="group___drawing.html#gad4ee4d2a16f8f38412e0e7b1c380bf4d"> 2075</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gad4ee4d2a16f8f38412e0e7b1c380bf4d">txSelectObject</a> (HGDIOBJ obj);</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span> </div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span><span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span><span class="comment">//                 +--&lt;&lt;&lt;   ,    .  !  [F3]  &quot; &quot;</span></div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span><span class="comment">//                 |</span></div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span><span class="comment">//                 v</span></div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span><span class="comment">//               txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture();</span></div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span> </div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span><span class="comment">//     +--&lt;&lt;&lt;  __ ,     __.  !  [F3]  &quot; &quot;</span></div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span><span class="comment">//     |</span></div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span><span class="comment">//     v</span></div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"><a class="line" href="group___drawing.html#ga93cecf6b117fc403c0488f388b78a6d1"> 2111</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga93cecf6b117fc403c0488f388b78a6d1">txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture</a>();</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span> </div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span> </div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"><a class="line" href="group___drawing.html#gac9d8435ced05ddc5c29a1a5c9f58f752"> 2129</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gac9d8435ced05ddc5c29a1a5c9f58f752">txDestroyWindow</a>();</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span> </div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span> </div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"><a class="line" href="group___drawing.html#gaebe0b0f6b1324031ee6b9461ba5b0ab3"> 2144</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="group___drawing.html#gaebe0b0f6b1324031ee6b9461ba5b0ab3">txQueryPerformance</a>();</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span> </div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span><span class="comment">//}</span></div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span> </div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span><span class="comment">//{          Mouse functions</span></div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span> </div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"><a class="line" href="group___mouse.html#ga452a1a7dc5d3f467c8b79b9db3ea053e"> 2173</a></span><span class="keyword">inline</span> POINT <a class="code hl_function" href="group___mouse.html#ga452a1a7dc5d3f467c8b79b9db3ea053e">txMousePos</a>();</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span> </div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span> </div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"><a class="line" href="group___mouse.html#ga6adbdb491a8eec2a4209c54874ae7b7d"> 2192</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___mouse.html#ga6adbdb491a8eec2a4209c54874ae7b7d">txMouseX</a>();</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span> </div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span> </div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"><a class="line" href="group___mouse.html#ga572acf2310d35defaa9a37a2ec260576"> 2211</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___mouse.html#ga572acf2310d35defaa9a37a2ec260576">txMouseY</a>();</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span> </div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span> </div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"><a class="line" href="group___mouse.html#gab814b21d8f52c3efd0d7175d30a4fa73"> 2235</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___mouse.html#gab814b21d8f52c3efd0d7175d30a4fa73">txMouseButtons</a>();</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span> </div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span><span class="comment">//}</span></div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span> </div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span><span class="comment">//{          Console functions</span></div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span> </div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"><a class="line" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf"> 2288</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (<span class="keywordtype">unsigned</span> colors = 0x07);</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span> </div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span> </div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"><a class="line" href="group___drawing.html#ga9f2215b90264133de36ed7c2120f75f5"> 2304</a></span><span class="keywordtype">unsigned</span> <a class="code hl_function" href="group___drawing.html#ga9f2215b90264133de36ed7c2120f75f5">txGetConsoleAttr</a>();</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span> </div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span> </div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"><a class="line" href="group___drawing.html#ga2cb63c12d9206e9ed2b2c83c9a08f68e"> 2322</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga2cb63c12d9206e9ed2b2c83c9a08f68e">txClearConsole</a>();</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span> </div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span> </div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"><a class="line" href="group___drawing.html#gaee548f7b5672cbcbb99246e0291d7336"> 2345</a></span>POINT <a class="code hl_function" href="group___drawing.html#gaee548f7b5672cbcbb99246e0291d7336">txSetConsoleCursorPos</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y);</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span> </div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span> </div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"><a class="line" href="group___drawing.html#ga3227242c57eef33049cdaee655f4faee"> 2361</a></span>POINT <a class="code hl_function" href="group___drawing.html#ga3227242c57eef33049cdaee655f4faee">txGetConsoleCursorPos</a>();</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span> </div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span> </div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"><a class="line" href="group___drawing.html#ga56faf7c36cf0112165fb705fedf6ec8e"> 2378</a></span>POINT <a class="code hl_function" href="group___drawing.html#ga56faf7c36cf0112165fb705fedf6ec8e">txGetConsoleFontSize</a>();</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span> </div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span> </div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"><a class="line" href="group___drawing.html#gaa148d2040d20ed74cf46ab186c35f9ed"> 2398</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gaa148d2040d20ed74cf46ab186c35f9ed">txTextCursor</a> (<span class="keywordtype">bool</span> blink = <span class="keyword">true</span>);</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span> </div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span><span class="comment">//}</span></div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span> </div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span><span class="comment">//{          Other staff not related to drawing</span></div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span> </div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"><a class="line" href="group___misc.html#ga177f8bcb7544821ea4b5bd0571fe7196"> 2438</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga177f8bcb7544821ea4b5bd0571fe7196">txPlaySound</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> filename[] = NULL, DWORD mode = SND_ASYNC);</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span> </div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span> </div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"><a class="line" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba"> 2472</a></span><span class="keywordtype">unsigned</span> <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* header = <span class="stringliteral">&quot;TXLib &quot;</span>, <span class="keywordtype">unsigned</span> flags = 0);</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span> </div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span> </div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"><a class="line" href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577"> 2513</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577">txNotifyIcon</a> (<span class="keywordtype">unsigned</span> flags, <span class="keyword">const</span> <span class="keywordtype">char</span> title[], <span class="keyword">const</span> <span class="keywordtype">char</span> format[], ...) _TX_CHECK_FORMAT (3);</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span> </div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span> </div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"><a class="line" href="group___misc.html#ga2b7cded1074eb3d4b25af75b4ffed73a"> 2542</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="group___misc.html#ga2b7cded1074eb3d4b25af75b4ffed73a">txOutputDebugPrintf</a> (const <span class="keywordtype">char</span> format[], ...) _TX_CHECK_FORMAT (1);</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span> </div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span><span class="comment"></span> </div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span><span class="preprocessor">#ifndef _MSC_VER_6</span></div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span> </div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"><a class="line" href="group___misc.html#ga799c47c1a2a151647cd765e1fa4b27b5"> 2622</a></span><span class="preprocessor">    #define sizearr( arr )    ( sizeof (get_size_of_an_array_with_unknown_or_nonconst_size_ (arr)) )</span></div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span> </div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>    <span class="comment">//  See explanation here: http://blogs.msdn.com/b/the1/archive/2004/05/07/128242.aspx</span></div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span> </div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span>    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">int</span> N&gt; char (&amp;get_size_of_an_array_with_unknown_or_nonconst_size_ (T (&amp;) [N])) [N]; <span class="comment">// ;)</span></div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span> </div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span> </div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span> </div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span> </div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"><a class="line" href="group___misc.html#ga3379d227f91f891ac97d068ab90ee871"> 2635</a></span><span class="preprocessor">#define SIZEARR( arr )        ( sizeof (arr) / sizeof (0[arr]) )</span></div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span> </div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span> </div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"><a class="line" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7"> 2658</a></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (T x, T a, T b);</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span> </div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span><span class="comment"></span> </div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"><a class="line" href="group___misc.html#ga13174595f409e02a486969e058874f33"> 2706</a></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (<span class="keyword">const</span> POINT&amp; pt, <span class="keyword">const</span> RECT&amp; rect);</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span> </div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (<span class="keyword">const</span> COORD&amp; pt, <span class="keyword">const</span> SMALL_RECT&amp; rect);</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span> </div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span> </div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"><a class="line" href="group___misc.html#gaa4558a3bf2a126a9e19c5a3655520787"> 2728</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___misc.html#gaa4558a3bf2a126a9e19c5a3655520787">random</a> (<span class="keywordtype">int</span> range);</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span> </div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span> </div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"><a class="line" href="group___misc.html#gadf7eefa9eda0d1ae48bb42cadc6759ae"> 2752</a></span><span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code hl_function" href="group___misc.html#gaa4558a3bf2a126a9e19c5a3655520787">random</a> (<span class="keywordtype">double</span> left, <span class="keywordtype">double</span> right);</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span> </div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span> </div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"><a class="line" href="group___misc.html#gafa99ec4acc4ecb2dc3c2d05da15d0e3f"> 2772</a></span><span class="preprocessor">#define MAX( a, b )     ( (a) &gt; (b) ? (a) : (b) )</span></div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span> </div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span> </div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"><a class="line" href="group___misc.html#ga3acffbd305ee72dcd4593c0d8af64a4f"> 2792</a></span><span class="preprocessor">#define MIN( a, b )     ( (a) &lt; (b) ? (a) : (b) )</span></div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span> </div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span> </div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span><span class="preprocessor">#if defined (__STDC_VERSION__) &amp;&amp; __STDC_VERSION__ &gt;= 199901L  </span><span class="comment">// C99 case</span></div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span> </div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span><span class="preprocessor">    #define ROUND( x )  ( (int) round (x) )</span></div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span> </div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span> </div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"><a class="line" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12"> 2816</a></span><span class="preprocessor">    #define ROUND( x )  ( (int) floor ((x) + 0.5) )</span></div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span> </div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span> </div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span> </div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"><a class="line" href="group___misc.html#gaf59817ad656dcbb3f9baebeb4d7f82f7"> 2831</a></span><span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code hl_variable" href="group___misc.html#gaf59817ad656dcbb3f9baebeb4d7f82f7">txPI</a> = asin (1.0) * 2;</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span> </div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span> </div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span><span class="keyword">inline</span></div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"><a class="line" href="group___misc.html#ga74ff1048e0d6bc458c9904fbbe0a6026"> 2863</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="group___misc.html#ga74ff1048e0d6bc458c9904fbbe0a6026">txSqr</a> (<span class="keywordtype">double</span> x)</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>    {</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span>    <span class="keywordtype">double</span> sqr = pow (sqrt (x) * sqrt (x), sqrt (4.0));  <span class="comment">//   </span></div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span> </div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>    <span class="keywordtype">char</span> str[1024] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>    _snprintf_s (str, <span class="keyword">sizeof</span> (str), <span class="stringliteral">&quot;  %g!&quot;</span> <span class="stringliteral">&quot;!!&quot;</span> <span class="stringliteral">&quot;!!&quot;</span> <span class="stringliteral">&quot;  ????    &quot;</span>, sqr);</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>    <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (str, <span class="stringliteral">&quot; !&quot;</span> <span class="stringliteral">&quot;!!&quot;</span>, MB_ICONEXCLAMATION | MB_YESNO) != IDNO ||</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>        (</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>        <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (<span class="stringliteral">&quot;...&quot;</span>, <span class="stringliteral">&quot;   &quot;</span>, MB_ICONINFORMATION),</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span>        <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (<span class="stringliteral">&quot;          &quot;</span>, <span class="stringliteral">&quot; ...&quot;</span>,  MB_ICONSTOP),</div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span>        exit (EXIT_FAILURE), 0</div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>        );</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span> </div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>    <a class="code hl_function" href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577">txNotifyIcon</a> (1, NULL, <span class="stringliteral">&quot;\n%s\n&quot;</span>, <span class="stringliteral">&quot; !  \0&quot;</span>  <span class="comment">//    , ?</span></div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>                                     <span class="stringliteral">&quot;  ...      \0&quot;</span>  <span class="comment">//</span></div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>                                     <span class="stringliteral">&quot;    \0&quot;</span>  <span class="comment">//          </span></div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>                                     <span class="stringliteral">&quot; - \0&quot;</span>  <span class="comment">//       ?..</span></div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>                                     <span class="stringliteral">&quot;,   \0&quot;</span></div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>                                     <span class="stringliteral">&quot;   ?\0&quot;</span> + GetTickCount() % 6 * 21);</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span> </div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>    <span class="keywordflow">return</span> sqr;  <span class="comment">//    .    </span></div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>    }</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span> </div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span> </div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"><a class="line" href="group___misc.html#gade9b60c36576ef735b3e1d1f628ad9c6"> 2906</a></span><span class="preprocessor">#define ZERO( type )    zero &lt;type&gt; ()</span></div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span> </div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> T zero();</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span> </div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"> 2971</span><span class="comment"></span> </div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span><span class="comment">//{ C++03 version</span></div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span> </div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"><a class="line" href="group___misc.html#gaa92bff7a1188b85fcdd79497056ea343"> 2974</a></span><span class="preprocessor">#define  TX_AUTO_FUNC(           param_t, param, func )                  \</span></div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span><span class="preprocessor">        _TX_AUTO_FUNC( __LINE__, param_t, param, func )</span></div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span> </div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span><span class="preprocessor">#define _TX_AUTO_FUNC( n,        param_t, param, func )                  \</span></div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span><span class="preprocessor">        _TX_AUTO_FUN2( n,        param_t, param, func )</span></div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span> </div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span><span class="preprocessor">#define _TX_AUTO_FUN2( n,        param_t, param, func )                  \</span></div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span><span class="preprocessor">    struct _TX_AUTO_FUNC_##n                                             \</span></div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span><span class="preprocessor">        {                                                                \</span></div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span><span class="preprocessor">        typedef _TX_AUTO_FUNC_##n this_t;                                \</span></div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span><span class="preprocessor">        param_t&amp; param;                                                  \</span></div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span><span class="preprocessor">                                                                         \</span></div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span><span class="preprocessor">        _TX_AUTO_FUNC_##n (param_t&amp; __p) : param (__p) {       }         \</span></div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span><span class="preprocessor">       ~_TX_AUTO_FUNC_##n ()                           { func; }         \</span></div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span><span class="preprocessor">                                                                         \</span></div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span><span class="preprocessor">        private: this_t&amp; operator= (const this_t&amp;)     { return *this; } \</span></div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span><span class="preprocessor">        }                                                                \</span></div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span><span class="preprocessor">        _TX_AUTO_FUNC_##n (param)</span></div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span><span class="comment">//}</span></div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span> </div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span><span class="comment">//{ C++0x version, use MSVS 2010 or GCC v.4.5+ and -std=c++0x in command line</span></div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span> </div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span><span class="preprocessor">#define  tx_auto_func(    func )  _tx_auto_fun1 ( __LINE__, func )</span></div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span><span class="preprocessor">#define _tx_auto_fun1( n, func )  _tx_auto_fun2 ( n,        func )</span></div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span><span class="preprocessor">#define _tx_auto_fun2( n, func )  auto _tx_auto_func_##n = _tx_auto_func ([&amp;]() { func; })</span></div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span> </div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"><a class="line" href="struct__tx__auto__func__.html"> 3001</a></span><span class="keyword">struct </span><a class="code hl_struct" href="struct__tx__auto__func__.html">_tx_auto_func_</a></div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>    {</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>    <span class="keyword">typedef</span> <a class="code hl_struct" href="struct__tx__auto__func__.html">_tx_auto_func_</a> <a class="code hl_struct" href="struct__tx__auto__func__.html">this_t</a>;</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>    T func_;</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span> </div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>    <a class="code hl_struct" href="struct__tx__auto__func__.html">_tx_auto_func_</a> (T func) : func_ (func) {}</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>   <a class="code hl_struct" href="struct__tx__auto__func__.html">~_tx_auto_func_</a> () { func_(); }</div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span> </div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>    <span class="keyword">private</span>: <a class="code hl_struct" href="struct__tx__auto__func__.html">this_t</a>&amp; operator= (<span class="keyword">const</span> <a class="code hl_struct" href="struct__tx__auto__func__.html">this_t</a>&amp;) { <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span>    };</div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span> </div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span><a class="code hl_struct" href="struct__tx__auto__func__.html">_tx_auto_func_&lt;T&gt;</a> _tx_auto_func  (T   func)</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>    {</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>    <span class="keywordflow">return</span>        _tx_auto_func_ &lt;T&gt; (func);</div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>    }</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span><span class="comment">//}</span></div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span> </div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span><span class="comment">//{ Compatibility</span></div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span> </div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span><span class="preprocessor">#define TX_FINALLY( param_t, param, func )  TX_AUTO_FUNC (param_t, param, func)</span></div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span><span class="preprocessor">#define tx_finally( func )                  tx_auto_func (func)</span></div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span> </div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span><span class="comment">//}</span></div>
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"> 3025</span> </div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span> </div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03069" name="l03069"></a><span class="lineno"> 3069</span> </div>
<div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span><span class="preprocessor">#if !defined (NDEBUG)</span></div>
<div class="line"><a id="l03071" name="l03071"></a><span class="lineno"> 3071</span><span class="preprocessor">    #undef  assert</span></div>
<div class="line"><a id="l03072" name="l03072"></a><span class="lineno"><a class="line" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53"> 3072</a></span><span class="preprocessor">    #define assert( cond )    _txNOP ( !(cond)? (TX_ERROR (&quot;\a&quot;</span> &quot;:  : &quot;    \</div>
<div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span>                                                           &quot;,  \&quot;%s\&quot;.&quot; TX_COMMA #cond), \</div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span>                                                 0/(int)!!(cond)) : 1 )</div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span><span class="preprocessor">    #undef  assert</span></div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span><span class="preprocessor">    #define assert( cond )    ((void) 1)</span></div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span> </div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03080" name="l03080"></a><span class="lineno"> 3080</span> </div>
<div class="line"><a id="l03081" name="l03081"></a><span class="lineno"> 3081</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span> </div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span><span class="preprocessor">#if !defined (NDEBUG)</span></div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"><a class="line" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7"> 3111</a></span><span class="preprocessor">    #define asserted          || TX_ERROR (&quot;\a&quot;</span> &quot;    .&quot;)</div>
<div class="line"><a id="l03112" name="l03112"></a><span class="lineno"> 3112</span> </div>
<div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span><span class="preprocessor">    #define asserted          || _txNOP (0)</span></div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span> </div>
<div class="line"><a id="l03116" name="l03116"></a><span class="lineno"> 3116</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03117" name="l03117"></a><span class="lineno"> 3117</span> </div>
<div class="line"><a id="l03118" name="l03118"></a><span class="lineno"><a class="line" href="_t_x_lib_8h.html#a66cb8e8fe20d9d05d02e73373bda7f8a"> 3118</a></span><span class="preprocessor">#define verified              asserted  </span></div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span> </div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span><span class="preprocessor">#define TX_NEEDED             asserted  </span></div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span> </div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span> </div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span><span class="preprocessor">#if !defined (NDEBUG)</span></div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span><span class="preprocessor">    #undef  verify</span></div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"><a class="line" href="group___misc.html#ga14fecb1c008314444a74c1fe7d9a113b"> 3157</a></span><span class="preprocessor">    #define verify            assert</span></div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span> </div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span><span class="preprocessor">    #undef  verify</span></div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span><span class="preprocessor">    #define verify( expr )    ( expr )</span></div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span> </div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span> </div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span> </div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span><span class="comment">// Variadic macros not supported in Strict ANSI mode and in MSVC prior to MSVC 8 (2005)</span></div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span> </div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span><span class="preprocessor">#if defined (__STRICT_ANSI__) || defined (_MSC_VER) &amp;&amp; (_MSC_VER &lt; 1400)</span></div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span><span class="preprocessor">    #define TX_ERROR( msg )   _txError (__FILE__, __LINE__, __TX_FUNCTION__, msg)</span></div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span> </div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"><a class="line" href="group___misc.html#ga3e4a82a10130528f63b6f19476a0943a"> 3198</a></span><span class="preprocessor">    #define TX_ERROR( ... )   _txError (__FILE__, __LINE__, __TX_FUNCTION__, __VA_ARGS__)</span></div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span> </div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span> </div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span><span class="preprocessor">#define TX_THROW              TX_ERROR  </span></div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span> </div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span> </div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span><span class="preprocessor">#if !defined (NDEBUG)</span></div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"><a class="line" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220"> 3225</a></span><span class="preprocessor">    #define TX_DEBUG_ERROR    TX_ERROR</span></div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span> </div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span><span class="preprocessor">    #define TX_DEBUG_ERROR(m) ((void) 0)</span></div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span> </div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span> </div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span> </div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"><a class="line" href="group___misc.html#ga7b470eef58eabacf9c7820ce6d392506"> 3250</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="group___misc.html#ga7b470eef58eabacf9c7820ce6d392506">txDump</a> (<span class="keyword">const</span> <span class="keywordtype">void</span>* address, <span class="keyword">const</span> <span class="keywordtype">char</span> name[] = <span class="stringliteral">&quot;txDump()&quot;</span>);</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span> </div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span><span class="comment"></span> </div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"><a class="line" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba"> 3268</a></span><span class="preprocessor">#define _                     ,</span></div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"><a class="line" href="group___misc.html#gaaff3c8e496327bec13a821061787878f"> 3269</a></span><span class="preprocessor">#define TX_COMMA              ,  </span></div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span> </div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span> </div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span> </div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span><span class="preprocessor">#if   defined (__GNUC__)</span></div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span><span class="preprocessor">    #define __TX_COMPILER__   &quot;GNU g++ &quot;</span>            TX_PREPROCESS (__GNUC__)       &quot;.&quot;  \</div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span>                                                    TX_PREPROCESS (__GNUC_MINOR__) &quot;.&quot;  \</div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span>                                                    TX_PREPROCESS (__GNUC_PATCHLEVEL__) \</div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>                              &quot;, std=&quot;              TX_PREPROCESS (__cplusplus)</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span><span class="preprocessor">#elif defined (_MSC_VER)</span></div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span><span class="preprocessor">    #define __TX_COMPILER__   &quot;MSVS &quot;</span>               TX_PREPROCESS (_MSC_VER)            \</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>                              &quot;, std=&quot;              TX_PREPROCESS (__cplusplus)</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span> </div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span><span class="preprocessor">#elif defined (__INTEL_COMPILER)</span></div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span><span class="preprocessor">    #define __TX_COMPILER__   &quot;Intel C++ &quot;</span>          TX_PREPROCESS (__INTEL_COMPILER)    \</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>                              &quot;, std=&quot;              TX_PREPROCESS (__cplusplus)</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span> </div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"><a class="line" href="group___misc.html#gadd1c9ccd036228402b807abaea14f7ee"> 3293</a></span><span class="preprocessor">    #define __TX_COMPILER__   &quot;Unknown C++, std=&quot;</span>   TX_PREPROCESS (__cplusplus)</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span> </div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span> </div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span> </div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"><a class="line" href="group___misc.html#ga973d717438fe468dd5a5d8d45ede5312"> 3303</a></span><span class="preprocessor">#define __TX_FILELINE__       __FILE__ &quot; (&quot;</span> TX_PREPROCESS (__LINE__) &quot;)&quot;</div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span> </div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span> </div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span><span class="preprocessor">#if defined (__GNUC__)</span></div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span><span class="preprocessor">    #define __TX_FUNCTION__   __PRETTY_FUNCTION__</span></div>
<div class="line"><a id="l03317" name="l03317"></a><span class="lineno"> 3317</span> </div>
<div class="line"><a id="l03318" name="l03318"></a><span class="lineno"> 3318</span><span class="preprocessor">#elif defined (__FUNCSIG__)</span></div>
<div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span><span class="preprocessor">    #define __TX_FUNCTION__   __FUNCSIG__</span></div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span> </div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span><span class="preprocessor">#elif defined (__FUNCTION__)</span></div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"> 3322</span><span class="preprocessor">    #define __TX_FUNCTION__   __FUNCTION__</span></div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span> </div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span><span class="preprocessor">#elif defined (__INTEL_COMPILER) &amp;&amp; (__INTEL_COMPILER &gt;= 600)</span></div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span><span class="preprocessor">    #define __TX_FUNCTION__   __FUNCTION__</span></div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span> </div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span><span class="preprocessor">#elif defined (__BORLANDC__) &amp;&amp; (__BORLANDC__ &gt;= 0x550)</span></div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span><span class="preprocessor">    #define __TX_FUNCTION__   __FUNC__</span></div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span> </div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span><span class="preprocessor">#elif defined (__STDC_VERSION__) &amp;&amp; (__STDC_VERSION__ &gt;= 199901)</span></div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span><span class="preprocessor">    #define __TX_FUNCTION__   __func__</span></div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span> </div>
<div class="line"><a id="l03333" name="l03333"></a><span class="lineno"> 3333</span><span class="preprocessor">#elif defined (__PYTHON__)</span></div>
<div class="line"><a id="l03334" name="l03334"></a><span class="lineno"> 3334</span><span class="preprocessor">    #error No Python. No. Using parseltongue languages can lead you to Slytherin.</span></div>
<div class="line"><a id="l03335" name="l03335"></a><span class="lineno"> 3335</span> </div>
<div class="line"><a id="l03336" name="l03336"></a><span class="lineno"> 3336</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03337" name="l03337"></a><span class="lineno"><a class="line" href="group___misc.html#gab170f39ac0e379c324c73495f14a1309"> 3337</a></span><span class="preprocessor">    #define __TX_FUNCTION__   &quot;(&quot;</span> __TX_FILELINE__ &quot;)&quot;</div>
<div class="line"><a id="l03338" name="l03338"></a><span class="lineno"> 3338</span> </div>
<div class="line"><a id="l03339" name="l03339"></a><span class="lineno"> 3339</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03340" name="l03340"></a><span class="lineno"> 3340</span> </div>
<div class="line"><a id="l03341" name="l03341"></a><span class="lineno"> 3341</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03345" name="l03345"></a><span class="lineno"> 3345</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03346" name="l03346"></a><span class="lineno"> 3346</span> </div>
<div class="line"><a id="l03347" name="l03347"></a><span class="lineno"> 3347</span><span class="preprocessor">#if   !defined (NDEBUG) &amp;&amp;  defined (_DEBUG)</span></div>
<div class="line"><a id="l03348" name="l03348"></a><span class="lineno"> 3348</span><span class="preprocessor">    #define _TX_BUILDMODE     &quot;DEBUG&quot;</span></div>
<div class="line"><a id="l03349" name="l03349"></a><span class="lineno"> 3349</span> </div>
<div class="line"><a id="l03350" name="l03350"></a><span class="lineno"> 3350</span><span class="preprocessor">#elif !defined (NDEBUG) &amp;&amp; !defined (_DEBUG)</span></div>
<div class="line"><a id="l03351" name="l03351"></a><span class="lineno"><a class="line" href="group___misc.html#ga3e287c38947fea870d01588fbd2a5fc9"> 3351</a></span><span class="preprocessor">    #define _TX_BUILDMODE     &quot;Debug&quot;</span></div>
<div class="line"><a id="l03352" name="l03352"></a><span class="lineno"> 3352</span> </div>
<div class="line"><a id="l03353" name="l03353"></a><span class="lineno"> 3353</span><span class="preprocessor">#elif  defined (NDEBUG)</span></div>
<div class="line"><a id="l03354" name="l03354"></a><span class="lineno"> 3354</span><span class="preprocessor">    #define _TX_BUILDMODE     &quot;Release&quot;</span></div>
<div class="line"><a id="l03355" name="l03355"></a><span class="lineno"> 3355</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03356" name="l03356"></a><span class="lineno"> 3356</span> </div>
<div class="line"><a id="l03358" name="l03358"></a><span class="lineno"> 3358</span> </div>
<div class="line"><a id="l03359" name="l03359"></a><span class="lineno"> 3359</span><span class="preprocessor">#define  TX_PREPROCESS( sym ) _TX_QUOTE (sym)</span></div>
<div class="line"><a id="l03360" name="l03360"></a><span class="lineno"> 3360</span><span class="preprocessor">#define _TX_QUOTE( sym )      #sym</span></div>
<div class="line"><a id="l03361" name="l03361"></a><span class="lineno"> 3361</span> </div>
<div class="line"><a id="l03363" name="l03363"></a><span class="lineno"> 3363</span> </div>
<div class="line"><a id="l03364" name="l03364"></a><span class="lineno"> 3364</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03371" name="l03371"></a><span class="lineno"> 3371</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03372" name="l03372"></a><span class="lineno"> 3372</span> </div>
<div class="line"><a id="l03373" name="l03373"></a><span class="lineno"> 3373</span><span class="preprocessor">#if !defined (_TX_MODULE)</span></div>
<div class="line"><a id="l03374" name="l03374"></a><span class="lineno"><a class="line" href="group___misc.html#ga43d277b4418068ebef1fd2bdbaf550f6"> 3374</a></span><span class="preprocessor">    #define   _TX_MODULE      &quot;TXLib&quot;</span></div>
<div class="line"><a id="l03375" name="l03375"></a><span class="lineno"> 3375</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03376" name="l03376"></a><span class="lineno"> 3376</span> </div>
<div class="line"><a id="l03378" name="l03378"></a><span class="lineno"> 3378</span><span class="comment">//}</span></div>
<div class="line"><a id="l03379" name="l03379"></a><span class="lineno"> 3379</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03380" name="l03380"></a><span class="lineno"> 3380</span> </div>
<div class="line"><a id="l03381" name="l03381"></a><span class="lineno"> 3381</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03382" name="l03382"></a><span class="lineno"> 3382</span><span class="comment">//{          Back-hole (I hope, not an ass-hole:) of the library)</span></div>
<div class="line"><a id="l03384" name="l03384"></a><span class="lineno"> 3384</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03386" name="l03386"></a><span class="lineno"> 3386</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03447" name="l03447"></a><span class="lineno"> 3447</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03448" name="l03448"></a><span class="lineno"> 3448</span> </div>
<div class="line"><a id="l03449" name="l03449"></a><span class="lineno"><a class="line" href="group___service.html#ga30fb1a6913174dfcea5079391f655be2"> 3449</a></span>WNDPROC <a class="code hl_function" href="group___service.html#ga30fb1a6913174dfcea5079391f655be2">txSetWindowsHook</a> (WNDPROC wndProc = NULL);</div>
<div class="line"><a id="l03450" name="l03450"></a><span class="lineno"> 3450</span> </div>
<div class="line"><a id="l03451" name="l03451"></a><span class="lineno"> 3451</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03476" name="l03476"></a><span class="lineno"> 3476</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03477" name="l03477"></a><span class="lineno"> 3477</span> </div>
<div class="line"><a id="l03478" name="l03478"></a><span class="lineno"><a class="line" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2"> 3478</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2">txLock</a> (<span class="keywordtype">bool</span> wait = <span class="keyword">true</span>);</div>
<div class="line"><a id="l03479" name="l03479"></a><span class="lineno"> 3479</span> </div>
<div class="line"><a id="l03480" name="l03480"></a><span class="lineno"> 3480</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03491" name="l03491"></a><span class="lineno"> 3491</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03493" name="l03493"></a><span class="lineno"> 3493</span><span class="comment"></span> </div>
<div class="line"><a id="l03494" name="l03494"></a><span class="lineno"><a class="line" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6"> 3494</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6">txUnlock</a>();</div>
<div class="line"><a id="l03495" name="l03495"></a><span class="lineno"> 3495</span> </div>
<div class="line"><a id="l03497" name="l03497"></a><span class="lineno"> 3497</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> T <a class="code hl_function" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6">txUnlock</a> (T value);</div>
<div class="line"><a id="l03499" name="l03499"></a><span class="lineno"> 3499</span> </div>
<div class="line"><a id="l03501" name="l03501"></a><span class="lineno"> 3501</span> </div>
<div class="line"><a id="l03502" name="l03502"></a><span class="lineno"> 3502</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03524" name="l03524"></a><span class="lineno"> 3524</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03525" name="l03525"></a><span class="lineno"> 3525</span> </div>
<div class="line"><a id="l03526" name="l03526"></a><span class="lineno"><a class="line" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400"> 3526</a></span><span class="preprocessor">#define txGDI( command )  txUnlock ( (txLock(), (command)) )</span></div>
<div class="line"><a id="l03527" name="l03527"></a><span class="lineno"> 3527</span> </div>
<div class="line"><a id="l03529" name="l03529"></a><span class="lineno"> 3529</span><span class="comment">//}</span></div>
<div class="line"><a id="l03530" name="l03530"></a><span class="lineno"> 3530</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03531" name="l03531"></a><span class="lineno"> 3531</span> </div>
<div class="line"><a id="l03532" name="l03532"></a><span class="lineno"> 3532</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03533" name="l03533"></a><span class="lineno"> 3533</span><span class="comment">//{          Tune-up constants and variables</span></div>
<div class="line"><a id="l03535" name="l03535"></a><span class="lineno"> 3535</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03537" name="l03537"></a><span class="lineno"> 3537</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03569" name="l03569"></a><span class="lineno"> 3569</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03570" name="l03570"></a><span class="lineno"> 3570</span> </div>
<div class="line"><a id="l03571" name="l03571"></a><span class="lineno"> 3571</span><span class="preprocessor">#if  defined  (_TX_NOINIT)</span></div>
<div class="line"><a id="l03572" name="l03572"></a><span class="lineno"> 3572</span> </div>
<div class="line"><a id="l03573" name="l03573"></a><span class="lineno"> 3573</span><span class="preprocessor">    #undef     _TX_NOINIT</span></div>
<div class="line"><a id="l03574" name="l03574"></a><span class="lineno"> 3574</span><span class="preprocessor">    #define    _TX_NOINIT                 1</span></div>
<div class="line"><a id="l03575" name="l03575"></a><span class="lineno"> 3575</span> </div>
<div class="line"><a id="l03576" name="l03576"></a><span class="lineno"> 3576</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03577" name="l03577"></a><span class="lineno"> 3577</span> </div>
<div class="line"><a id="l03578" name="l03578"></a><span class="lineno"><a class="line" href="group___technical.html#gaab281ee20ea6be5eae34d0e15bf03dcf"> 3578</a></span><span class="preprocessor">    #define    _TX_NOINIT                 0</span></div>
<div class="line"><a id="l03579" name="l03579"></a><span class="lineno"> 3579</span> </div>
<div class="line"><a id="l03580" name="l03580"></a><span class="lineno"> 3580</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03581" name="l03581"></a><span class="lineno"> 3581</span> </div>
<div class="line"><a id="l03582" name="l03582"></a><span class="lineno"> 3582</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03599" name="l03599"></a><span class="lineno"> 3599</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03600" name="l03600"></a><span class="lineno"> 3600</span> </div>
<div class="line"><a id="l03601" name="l03601"></a><span class="lineno"><a class="line" href="group___technical.html#ga05631a37d79a52c0289b3dfa90215250"> 3601</a></span><span class="keywordtype">unsigned</span>       <a class="code hl_variable" href="group___technical.html#ga05631a37d79a52c0289b3dfa90215250">_txConsoleMode</a>             = SW_HIDE;</div>
<div class="line"><a id="l03602" name="l03602"></a><span class="lineno"> 3602</span> </div>
<div class="line"><a id="l03603" name="l03603"></a><span class="lineno"> 3603</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03616" name="l03616"></a><span class="lineno"> 3616</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03617" name="l03617"></a><span class="lineno"> 3617</span> </div>
<div class="line"><a id="l03618" name="l03618"></a><span class="lineno"><a class="line" href="group___technical.html#ga5df0d089d6da4f25e603b4fe726f702d"> 3618</a></span><span class="keywordtype">unsigned</span>       <a class="code hl_variable" href="group___technical.html#ga5df0d089d6da4f25e603b4fe726f702d">_txWindowStyle</a>             = WS_POPUP | WS_BORDER | WS_CAPTION | WS_SYSMENU;</div>
<div class="line"><a id="l03619" name="l03619"></a><span class="lineno"> 3619</span> </div>
<div class="line"><a id="l03620" name="l03620"></a><span class="lineno"> 3620</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03624" name="l03624"></a><span class="lineno"> 3624</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03625" name="l03625"></a><span class="lineno"> 3625</span> </div>
<div class="line"><a id="l03626" name="l03626"></a><span class="lineno"><a class="line" href="group___technical.html#ga61836072e0c3887ed70841ff2d12c0d9"> 3626</a></span><span class="keyword">const</span> <span class="keywordtype">char</span>*    <a class="code hl_variable" href="group___technical.html#ga61836072e0c3887ed70841ff2d12c0d9">_txConsoleFont</a>             = <span class="stringliteral">&quot;Lucida Console&quot;</span>;</div>
<div class="line"><a id="l03627" name="l03627"></a><span class="lineno"> 3627</span> </div>
<div class="line"><a id="l03628" name="l03628"></a><span class="lineno"> 3628</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03631" name="l03631"></a><span class="lineno"> 3631</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03632" name="l03632"></a><span class="lineno"> 3632</span> </div>
<div class="line"><a id="l03633" name="l03633"></a><span class="lineno"><a class="line" href="group___technical.html#gacc95bfbcf7a0f9124e8cd5e80d0b3cd3"> 3633</a></span><span class="keywordtype">unsigned</span>       <a class="code hl_variable" href="group___technical.html#gacc95bfbcf7a0f9124e8cd5e80d0b3cd3">_txCursorBlinkInterval</a>     = 500;</div>
<div class="line"><a id="l03634" name="l03634"></a><span class="lineno"> 3634</span> </div>
<div class="line"><a id="l03635" name="l03635"></a><span class="lineno"> 3635</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03639" name="l03639"></a><span class="lineno"> 3639</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03640" name="l03640"></a><span class="lineno"> 3640</span> </div>
<div class="line"><a id="l03641" name="l03641"></a><span class="lineno"><a class="line" href="group___technical.html#ga04cf6a2f12ea617b5a29ce939f673085"> 3641</a></span><span class="keywordtype">int</span>            <a class="code hl_variable" href="group___technical.html#ga04cf6a2f12ea617b5a29ce939f673085">_txWindowUpdateInterval</a>    = 25;</div>
<div class="line"><a id="l03642" name="l03642"></a><span class="lineno"> 3642</span> </div>
<div class="line"><a id="l03643" name="l03643"></a><span class="lineno"> 3643</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03646" name="l03646"></a><span class="lineno"> 3646</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03647" name="l03647"></a><span class="lineno"> 3647</span> </div>
<div class="line"><a id="l03648" name="l03648"></a><span class="lineno"> 3648</span><span class="preprocessor">#if !defined (TX_TRACE)</span></div>
<div class="line"><a id="l03649" name="l03649"></a><span class="lineno"><a class="line" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac"> 3649</a></span>    <span class="keyword">const</span> <span class="keywordtype">int</span>  <a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>                = 1000</div>
<div class="line"><a id="l03650" name="l03650"></a><span class="lineno"> 3650</span> </div>
<div class="line"><a id="l03651" name="l03651"></a><span class="lineno"> 3651</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03652" name="l03652"></a><span class="lineno"> 3652</span>    <span class="keyword">const</span> <span class="keywordtype">int</span>  <a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>                = 5000</div>
<div class="line"><a id="l03653" name="l03653"></a><span class="lineno"> 3653</span> </div>
<div class="line"><a id="l03654" name="l03654"></a><span class="lineno"> 3654</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03655" name="l03655"></a><span class="lineno"> 3655</span> </div>
<div class="line"><a id="l03656" name="l03656"></a><span class="lineno"> 3656</span><span class="preprocessor">#if  defined  (_TX_USE_DEVPARTNER)</span></div>
<div class="line"><a id="l03657" name="l03657"></a><span class="lineno"> 3657</span>    * 10</div>
<div class="line"><a id="l03658" name="l03658"></a><span class="lineno"> 3658</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03659" name="l03659"></a><span class="lineno"> 3659</span>    ;</div>
<div class="line"><a id="l03660" name="l03660"></a><span class="lineno"> 3660</span> </div>
<div class="line"><a id="l03661" name="l03661"></a><span class="lineno"> 3661</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03664" name="l03664"></a><span class="lineno"> 3664</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03665" name="l03665"></a><span class="lineno"> 3665</span> </div>
<div class="line"><a id="l03666" name="l03666"></a><span class="lineno"><a class="line" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25"> 3666</a></span><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>                = 1024;</div>
<div class="line"><a id="l03667" name="l03667"></a><span class="lineno"> 3667</span> </div>
<div class="line"><a id="l03668" name="l03668"></a><span class="lineno"> 3668</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03671" name="l03671"></a><span class="lineno"> 3671</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03672" name="l03672"></a><span class="lineno"> 3672</span> </div>
<div class="line"><a id="l03673" name="l03673"></a><span class="lineno"><a class="line" href="group___technical.html#gaa7273b2f613970c283053c5d9136addd"> 3673</a></span><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="group___technical.html#gaa7273b2f613970c283053c5d9136addd">_TX_BIGBUFSIZE</a>             = 2048;</div>
<div class="line"><a id="l03674" name="l03674"></a><span class="lineno"> 3674</span> </div>
<div class="line"><a id="l03675" name="l03675"></a><span class="lineno"> 3675</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03689" name="l03689"></a><span class="lineno"> 3689</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03690" name="l03690"></a><span class="lineno"> 3690</span> </div>
<div class="line"><a id="l03691" name="l03691"></a><span class="lineno"> 3691</span>            <span class="comment">// TX_VEGETABLE_PRINTERS</span></div>
<div class="line"><a id="l03692" name="l03692"></a><span class="lineno"> 3692</span><span class="preprocessor">#if !defined  (_TX_WAITABLE_PARENTS)</span></div>
<div class="line"><a id="l03693" name="l03693"></a><span class="lineno"><a class="line" href="group___technical.html#ga2c0a4fe0612f109c5c88d6d55a061db5"> 3693</a></span><span class="preprocessor">    #define    _TX_WAITABLE_PARENTS       &quot;cmd.exe:devenv.exe, &quot;</span>                    <span class="comment">/* MSVS 2003-2010  */</span><span class="preprocessor"> \</span></div>
<div class="line"><a id="l03694" name="l03694"></a><span class="lineno"> 3694</span><span class="preprocessor">                                          &quot;vcspawn.exe:msdev.exe, &quot;</span>                 <span class="comment">/* MSVS 6          */</span><span class="preprocessor"> \</span></div>
<div class="line"><a id="l03695" name="l03695"></a><span class="lineno"> 3695</span><span class="preprocessor">                                          &quot;cb_console_runner.exe:codeblocks.exe, &quot;</span>  <span class="comment">/* CodeBlocks 8-10 */</span><span class="preprocessor"> \</span></div>
<div class="line"><a id="l03696" name="l03696"></a><span class="lineno"> 3696</span><span class="preprocessor">                                          &quot;cmd.exe:console_runner.exe, &quot;</span>            <span class="comment">/* CodeBlocks 1    */</span><span class="preprocessor"> \</span></div>
<div class="line"><a id="l03697" name="l03697"></a><span class="lineno"> 3697</span><span class="preprocessor">                                          &quot;starter.exe:eclipse.exe, &quot;</span>               <span class="comment">/* Eclipse 4       */</span><span class="preprocessor"> \</span></div>
<div class="line"><a id="l03698" name="l03698"></a><span class="lineno"> 3698</span><span class="preprocessor">                                          &quot;starter.exe:javaw.exe, &quot;</span>                 <span class="comment">/* Eclipse 3       */</span><span class="preprocessor"> \</span></div>
<div class="line"><a id="l03699" name="l03699"></a><span class="lineno"> 3699</span><span class="preprocessor">                                          &quot;consolepauser.exe:devcpp.exe&quot;</span>            <span class="comment">/* Dev-Cpp         */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l03700" name="l03700"></a><span class="lineno"> 3700</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03701" name="l03701"></a><span class="lineno"> 3701</span> </div>
<div class="line"><a id="l03702" name="l03702"></a><span class="lineno"> 3702</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03721" name="l03721"></a><span class="lineno"> 3721</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03722" name="l03722"></a><span class="lineno"> 3722</span> </div>
<div class="line"><a id="l03723" name="l03723"></a><span class="lineno"> 3723</span><span class="preprocessor">#if !defined (_TX_ALLOW_KILL_PARENT)            </span><span class="comment">// DISCLAIMER:      !</span></div>
<div class="line"><a id="l03724" name="l03724"></a><span class="lineno"><a class="line" href="group___technical.html#ga9a495d013c6f08cd50220aca99ca56c2"> 3724</a></span><span class="preprocessor">#define       _TX_ALLOW_KILL_PARENT       true  </span><span class="comment">//               .</span></div>
<div class="line"><a id="l03725" name="l03725"></a><span class="lineno"> 3725</span><span class="preprocessor">#endif                                          </span><span class="comment">//             -  .</span></div>
<div class="line"><a id="l03726" name="l03726"></a><span class="lineno"> 3726</span> </div>
<div class="line"><a id="l03728" name="l03728"></a><span class="lineno"> 3728</span><span class="comment">//}</span></div>
<div class="line"><a id="l03729" name="l03729"></a><span class="lineno"> 3729</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03730" name="l03730"></a><span class="lineno"> 3730</span> </div>
<div class="line"><a id="l03731" name="l03731"></a><span class="lineno"> 3731</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03732" name="l03732"></a><span class="lineno"> 3732</span><span class="comment">//{          Internal diagnostics</span></div>
<div class="line"><a id="l03734" name="l03734"></a><span class="lineno"> 3734</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03736" name="l03736"></a><span class="lineno"> 3736</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03759" name="l03759"></a><span class="lineno"> 3759</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03761" name="l03761"></a><span class="lineno"> 3761</span><span class="comment"></span> </div>
<div class="line"><a id="l03762" name="l03762"></a><span class="lineno"> 3762</span><span class="preprocessor">#ifdef FOR_DOXYGEN_ONLY</span></div>
<div class="line"><a id="l03763" name="l03763"></a><span class="lineno"> 3763</span><span class="preprocessor">#define      _TX_ALLOW_TRACE</span></div>
<div class="line"><a id="l03764" name="l03764"></a><span class="lineno"> 3764</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03765" name="l03765"></a><span class="lineno"> 3765</span> </div>
<div class="line"><a id="l03766" name="l03766"></a><span class="lineno"> 3766</span><span class="preprocessor">#if defined (_TX_ALLOW_TRACE)</span></div>
<div class="line"><a id="l03767" name="l03767"></a><span class="lineno"> 3767</span><span class="preprocessor">    #undef  $</span></div>
<div class="line"><a id="l03768" name="l03768"></a><span class="lineno"> 3768</span><span class="preprocessor">    #define $                 { _txFile = __FILE__; _txLine = __LINE__; _txFunc = __TX_FUNCTION__; TX_TRACE; }</span></div>
<div class="line"><a id="l03769" name="l03769"></a><span class="lineno"> 3769</span><span class="preprocessor">    #undef  $1</span></div>
<div class="line"><a id="l03770" name="l03770"></a><span class="lineno"> 3770</span><span class="preprocessor">    #define $1                _txFuncEntry __txFuncEntry; $</span></div>
<div class="line"><a id="l03771" name="l03771"></a><span class="lineno"> 3771</span> </div>
<div class="line"><a id="l03772" name="l03772"></a><span class="lineno"> 3772</span><span class="preprocessor">#elif defined (_DEBUG)</span></div>
<div class="line"><a id="l03773" name="l03773"></a><span class="lineno"> 3773</span><span class="preprocessor">    #undef  $</span></div>
<div class="line"><a id="l03774" name="l03774"></a><span class="lineno"> 3774</span><span class="preprocessor">    #define $                 { _txFile = __FILE__; _txLine = __LINE__; _txFunc = __TX_FUNCTION__; }</span></div>
<div class="line"><a id="l03775" name="l03775"></a><span class="lineno"> 3775</span><span class="preprocessor">    #undef  $1</span></div>
<div class="line"><a id="l03776" name="l03776"></a><span class="lineno"> 3776</span><span class="preprocessor">    #define $1                _txFuncEntry __txFuncEntry; $</span></div>
<div class="line"><a id="l03777" name="l03777"></a><span class="lineno"> 3777</span> </div>
<div class="line"><a id="l03778" name="l03778"></a><span class="lineno"> 3778</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l03779" name="l03779"></a><span class="lineno"> 3779</span><span class="preprocessor">    #undef  $</span></div>
<div class="line"><a id="l03780" name="l03780"></a><span class="lineno"> 3780</span><span class="preprocessor">    #define $                 ;</span></div>
<div class="line"><a id="l03781" name="l03781"></a><span class="lineno"> 3781</span><span class="preprocessor">    #undef  $1</span></div>
<div class="line"><a id="l03782" name="l03782"></a><span class="lineno"> 3782</span><span class="preprocessor">    #define $1                ;</span></div>
<div class="line"><a id="l03783" name="l03783"></a><span class="lineno"> 3783</span> </div>
<div class="line"><a id="l03784" name="l03784"></a><span class="lineno"> 3784</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03785" name="l03785"></a><span class="lineno"> 3785</span> </div>
<div class="line"><a id="l03787" name="l03787"></a><span class="lineno"> 3787</span> </div>
<div class="line"><a id="l03788" name="l03788"></a><span class="lineno"> 3788</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03789" name="l03789"></a><span class="lineno"> 3789</span> </div>
<div class="line"><a id="l03791" name="l03791"></a><span class="lineno"> 3791</span> </div>
<div class="line"><a id="l03792" name="l03792"></a><span class="lineno"> 3792</span><span class="keyword">extern</span> <span class="keywordtype">int</span>                     _txInitialized;</div>
<div class="line"><a id="l03793" name="l03793"></a><span class="lineno"> 3793</span><span class="keyword">extern</span> <span class="keywordtype">unsigned</span>       <span class="keyword">volatile</span> _txMainThreadId;</div>
<div class="line"><a id="l03794" name="l03794"></a><span class="lineno"> 3794</span><span class="keyword">extern</span> <span class="keywordtype">unsigned</span>       <span class="keyword">volatile</span> _txCanvas_ThreadId;</div>
<div class="line"><a id="l03795" name="l03795"></a><span class="lineno"> 3795</span><span class="keyword">extern</span> <span class="keywordtype">bool</span>                    _txConsole;</div>
<div class="line"><a id="l03796" name="l03796"></a><span class="lineno"> 3796</span><span class="keyword">extern</span> <span class="keywordtype">bool</span>                    _txMain;</div>
<div class="line"><a id="l03797" name="l03797"></a><span class="lineno"> 3797</span><span class="keyword">extern</span> <span class="keywordtype">bool</span>                    _txIsDll;</div>
<div class="line"><a id="l03798" name="l03798"></a><span class="lineno"> 3798</span><span class="keyword">extern</span> <span class="keywordtype">bool</span>           <span class="keyword">volatile</span> _txRunning;</div>
<div class="line"><a id="l03799" name="l03799"></a><span class="lineno"> 3799</span><span class="keyword">extern</span> <span class="keywordtype">bool</span>           <span class="keyword">volatile</span> _txExit;</div>
<div class="line"><a id="l03800" name="l03800"></a><span class="lineno"> 3800</span><span class="keyword">extern</span> <span class="keywordtype">bool</span>           <span class="keyword">volatile</span> _txAllowTrace;</div>
<div class="line"><a id="l03801" name="l03801"></a><span class="lineno"> 3801</span> </div>
<div class="line"><a id="l03802" name="l03802"></a><span class="lineno"> 3802</span><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*    <span class="keyword">volatile</span> _txFile;</div>
<div class="line"><a id="l03803" name="l03803"></a><span class="lineno"> 3803</span><span class="keyword">extern</span> <span class="keywordtype">int</span>            <span class="keyword">volatile</span> _txLine;</div>
<div class="line"><a id="l03804" name="l03804"></a><span class="lineno"> 3804</span><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*    <span class="keyword">volatile</span> _txFunc;</div>
<div class="line"><a id="l03805" name="l03805"></a><span class="lineno"> 3805</span><span class="keyword">extern</span> _TX_THREAD <span class="keywordtype">int</span> <span class="keyword">volatile</span> _txInTX;</div>
<div class="line"><a id="l03806" name="l03806"></a><span class="lineno"> 3806</span> </div>
<div class="line"><a id="l03808" name="l03808"></a><span class="lineno"> 3808</span> </div>
<div class="line"><a id="l03810" name="l03810"></a><span class="lineno"> 3810</span> </div>
<div class="line"><a id="l03811" name="l03811"></a><span class="lineno"> 3811</span><span class="keyword">struct </span>_txFuncEntry</div>
<div class="line"><a id="l03812" name="l03812"></a><span class="lineno"> 3812</span>    {</div>
<div class="line"><a id="l03813" name="l03813"></a><span class="lineno"> 3813</span>    _txFuncEntry() { _txInTX++; }</div>
<div class="line"><a id="l03814" name="l03814"></a><span class="lineno"> 3814</span>   ~_txFuncEntry() { _txInTX--; }</div>
<div class="line"><a id="l03815" name="l03815"></a><span class="lineno"> 3815</span>    };</div>
<div class="line"><a id="l03816" name="l03816"></a><span class="lineno"> 3816</span> </div>
<div class="line"><a id="l03818" name="l03818"></a><span class="lineno"> 3818</span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03819" name="l03819"></a><span class="lineno"> 3819</span> </div>
<div class="line"><a id="l03820" name="l03820"></a><span class="lineno"> 3820</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03850" name="l03850"></a><span class="lineno"> 3850</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03852" name="l03852"></a><span class="lineno"> 3852</span><span class="comment"></span> </div>
<div class="line"><a id="l03853" name="l03853"></a><span class="lineno"> 3853</span><span class="preprocessor">#ifdef FOR_DOXYGEN_ONLY</span></div>
<div class="line"><a id="l03854" name="l03854"></a><span class="lineno"> 3854</span><span class="preprocessor">#define       TX_TRACE</span></div>
<div class="line"><a id="l03855" name="l03855"></a><span class="lineno"> 3855</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03856" name="l03856"></a><span class="lineno"> 3856</span> </div>
<div class="line"><a id="l03857" name="l03857"></a><span class="lineno"> 3857</span><span class="preprocessor">#if !defined (TX_TRACE)</span></div>
<div class="line"><a id="l03858" name="l03858"></a><span class="lineno"><a class="line" href="group___technical.html#ga2aa2550a5302deb4d46b3759b26f4b41"> 3858</a></span><span class="preprocessor">    #define   TX_TRACE        if (_txAllowTrace) _txTrace (__FILE__, __LINE__, __TX_FUNCTION__);</span></div>
<div class="line"><a id="l03859" name="l03859"></a><span class="lineno"> 3859</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l03860" name="l03860"></a><span class="lineno"> 3860</span> </div>
<div class="line"><a id="l03862" name="l03862"></a><span class="lineno"> 3862</span> </div>
<div class="line"><a id="l03863" name="l03863"></a><span class="lineno"> 3863</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03864" name="l03864"></a><span class="lineno"> 3864</span> </div>
<div class="line"><a id="l03866" name="l03866"></a><span class="lineno"> 3866</span> </div>
<div class="line"><a id="l03867" name="l03867"></a><span class="lineno"> 3867</span><span class="keywordtype">void</span> _txTrace (<span class="keyword">const</span> <span class="keywordtype">char</span> file[], <span class="keywordtype">int</span> line, <span class="keyword">const</span> <span class="keywordtype">char</span> func[], <span class="keyword">const</span> <span class="keywordtype">char</span> msg[]    = NULL,    ...);</div>
<div class="line"><a id="l03868" name="l03868"></a><span class="lineno"> 3868</span><span class="keywordtype">void</span> _txTrace (<span class="keyword">const</span> <span class="keywordtype">char</span> file[], <span class="keywordtype">int</span> line, <span class="keyword">const</span> <span class="keywordtype">char</span> func[], <span class="keyword">const</span> <span class="keywordtype">char</span> msg[] <span class="comment">/* = NULL */</span>, ...)</div>
<div class="line"><a id="l03869" name="l03869"></a><span class="lineno"> 3869</span>    {</div>
<div class="line"><a id="l03870" name="l03870"></a><span class="lineno"> 3870</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">id</span> = GetCurrentThreadId();</div>
<div class="line"><a id="l03871" name="l03871"></a><span class="lineno"> 3871</span> </div>
<div class="line"><a id="l03872" name="l03872"></a><span class="lineno"> 3872</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> marks[2][2][3] = {{<span class="stringliteral">&quot;uU&quot;</span>, <span class="stringliteral">&quot;cC&quot;</span>}, {<span class="stringliteral">&quot;mM&quot;</span>, <span class="stringliteral">&quot;??&quot;</span>}};</div>
<div class="line"><a id="l03873" name="l03873"></a><span class="lineno"> 3873</span> </div>
<div class="line"><a id="l03874" name="l03874"></a><span class="lineno"> 3874</span>    <span class="keywordtype">char</span> mark = marks [<span class="keywordtype">id</span> == _txMainThreadId] [<span class="keywordtype">id</span> == _txCanvas_ThreadId] [(_txInTX &gt; 0)];</div>
<div class="line"><a id="l03875" name="l03875"></a><span class="lineno"> 3875</span> </div>
<div class="line"><a id="l03876" name="l03876"></a><span class="lineno"> 3876</span>    <span class="keywordtype">char</span> msgStr[<a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l03877" name="l03877"></a><span class="lineno"> 3877</span>    <span class="keywordflow">if</span> (msg)</div>
<div class="line"><a id="l03878" name="l03878"></a><span class="lineno"> 3878</span>        {</div>
<div class="line"><a id="l03879" name="l03879"></a><span class="lineno"> 3879</span>        va_list arg; va_start (arg, msg);</div>
<div class="line"><a id="l03880" name="l03880"></a><span class="lineno"> 3880</span>        _vsnprintf_s (msgStr, <span class="keyword">sizeof</span> (msgStr) - 1 _TX_TRUNCATE, msg, arg);</div>
<div class="line"><a id="l03881" name="l03881"></a><span class="lineno"> 3881</span>        va_end (arg);</div>
<div class="line"><a id="l03882" name="l03882"></a><span class="lineno"> 3882</span>        }</div>
<div class="line"><a id="l03883" name="l03883"></a><span class="lineno"> 3883</span> </div>
<div class="line"><a id="l03884" name="l03884"></a><span class="lineno"> 3884</span>    <a class="code hl_function" href="group___misc.html#ga2b7cded1074eb3d4b25af75b4ffed73a">txOutputDebugPrintf</a> (<span class="stringliteral">&quot;%s - %p %c%c%c%c%c%c [%c] - %s (%d)  &quot;</span> <span class="stringliteral">&quot;|%*s%s&quot;</span> <span class="stringliteral">&quot;%s%s\n&quot;</span>,</div>
<div class="line"><a id="l03885" name="l03885"></a><span class="lineno"> 3885</span>                         <a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a>, (<span class="keywordtype">void</span>*) &amp;_txInitialized,</div>
<div class="line"><a id="l03886" name="l03886"></a><span class="lineno"> 3886</span>                         <span class="stringliteral">&quot;cC&quot;</span>[_txConsole], <span class="stringliteral">&quot;mM&quot;</span>[_txMain], <span class="stringliteral">&quot;dD&quot;</span>[_txIsDll], <span class="stringliteral">&quot;rR&quot;</span>[_txRunning], <span class="stringliteral">&quot;eE&quot;</span>[_txExit], <span class="stringliteral">&quot;tT&quot;</span>[_txAllowTrace],</div>
<div class="line"><a id="l03887" name="l03887"></a><span class="lineno"> 3887</span>                         mark, (file? file : <span class="stringliteral">&quot;(NULL file)&quot;</span>), line, (_txInTX - 1) * 2, <span class="stringliteral">&quot;&quot;</span>, (func? func : <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a id="l03888" name="l03888"></a><span class="lineno"> 3888</span>                         (*msgStr? <span class="stringliteral">&quot;: &quot;</span> : <span class="stringliteral">&quot;&quot;</span>), msgStr);</div>
<div class="line"><a id="l03889" name="l03889"></a><span class="lineno"> 3889</span>    }</div>
<div class="line"><a id="l03890" name="l03890"></a><span class="lineno"> 3890</span> </div>
<div class="line"><a id="l03892" name="l03892"></a><span class="lineno"> 3892</span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03893" name="l03893"></a><span class="lineno"> 3893</span> </div>
<div class="line"><a id="l03894" name="l03894"></a><span class="lineno"> 3894</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03895" name="l03895"></a><span class="lineno"> 3895</span><span class="comment">//{          Sweet critical section blocking: txAutoLock class</span></div>
<div class="line"><a id="l03896" name="l03896"></a><span class="lineno"> 3896</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l03897" name="l03897"></a><span class="lineno"> 3897</span> </div>
<div class="line"><a id="l03898" name="l03898"></a><span class="lineno"> 3898</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03914" name="l03914"></a><span class="lineno"> 3914</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03915" name="l03915"></a><span class="lineno"> 3915</span> </div>
<div class="line"><a id="l03917" name="l03917"></a><span class="lineno"> 3917</span><span class="keyword">extern</span> CRITICAL_SECTION _txCanvas_LockBackBuf;</div>
<div class="line"><a id="l03919" name="l03919"></a><span class="lineno"> 3919</span> </div>
<div class="line"><a id="l03920" name="l03920"></a><span class="lineno"><a class="line" href="classtx_auto_lock.html"> 3920</a></span><span class="keyword">class </span><a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a></div>
<div class="line"><a id="l03921" name="l03921"></a><span class="lineno"> 3921</span>    {</div>
<div class="line"><a id="l03922" name="l03922"></a><span class="lineno"> 3922</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l03923" name="l03923"></a><span class="lineno"> 3923</span> </div>
<div class="line"><a id="l03924" name="l03924"></a><span class="lineno"> 3924</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03946" name="l03946"></a><span class="lineno"> 3946</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03947" name="l03947"></a><span class="lineno"> 3947</span> </div>
<div class="line"><a id="l03948" name="l03948"></a><span class="lineno"><a class="line" href="classtx_auto_lock.html#af28070ec9fc2a4466cb7dbd0868c9616"> 3948</a></span>    <a class="code hl_function" href="classtx_auto_lock.html#af28070ec9fc2a4466cb7dbd0868c9616">txAutoLock</a> (CRITICAL_SECTION* cs, <span class="keywordtype">bool</span> mandatory = <span class="keyword">true</span>) :</div>
<div class="line"><a id="l03949" name="l03949"></a><span class="lineno"> 3949</span>        cs_ (cs)</div>
<div class="line"><a id="l03950" name="l03950"></a><span class="lineno"> 3950</span>        {</div>
<div class="line"><a id="l03951" name="l03951"></a><span class="lineno"> 3951</span>$1      <span class="keywordflow">if</span> (!cs_) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03952" name="l03952"></a><span class="lineno"> 3952</span> </div>
<div class="line"><a id="l03953" name="l03953"></a><span class="lineno"> 3953</span>        <span class="keywordflow">if</span> (mandatory) { $    EnterCriticalSection (cs_);                   }</div>
<div class="line"><a id="l03954" name="l03954"></a><span class="lineno"> 3954</span>        <span class="keywordflow">else</span>           { $ TryEnterCriticalSection (cs_)? 0 : (cs_ = NULL); }</div>
<div class="line"><a id="l03955" name="l03955"></a><span class="lineno"> 3955</span>        }</div>
<div class="line"><a id="l03956" name="l03956"></a><span class="lineno"> 3956</span> </div>
<div class="line"><a id="l03957" name="l03957"></a><span class="lineno"> 3957</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03969" name="l03969"></a><span class="lineno"> 3969</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03970" name="l03970"></a><span class="lineno"> 3970</span> </div>
<div class="line"><a id="l03971" name="l03971"></a><span class="lineno"><a class="line" href="classtx_auto_lock.html#acc8301ae37ef7ee9d5b9c774d27da379"> 3971</a></span>    <a class="code hl_function" href="classtx_auto_lock.html#acc8301ae37ef7ee9d5b9c774d27da379">txAutoLock</a> (<span class="keywordtype">bool</span> mandatory = <span class="keyword">true</span>) :</div>
<div class="line"><a id="l03972" name="l03972"></a><span class="lineno"> 3972</span>        cs_ (NULL)</div>
<div class="line"><a id="l03973" name="l03973"></a><span class="lineno"> 3973</span>        {</div>
<div class="line"><a id="l03974" name="l03974"></a><span class="lineno"> 3974</span>$1      <span class="keyword">new</span> (<span class="keyword">this</span>) <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a> (&amp;_txCanvas_LockBackBuf, mandatory);</div>
<div class="line"><a id="l03975" name="l03975"></a><span class="lineno"> 3975</span>        }</div>
<div class="line"><a id="l03976" name="l03976"></a><span class="lineno"> 3976</span> </div>
<div class="line"><a id="l03977" name="l03977"></a><span class="lineno"> 3977</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03979" name="l03979"></a><span class="lineno"> 3979</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03980" name="l03980"></a><span class="lineno"> 3980</span> </div>
<div class="line"><a id="l03981" name="l03981"></a><span class="lineno"><a class="line" href="classtx_auto_lock.html#a838aae52b26597bf7aa0cd931611dca4"> 3981</a></span>   <a class="code hl_function" href="classtx_auto_lock.html#a838aae52b26597bf7aa0cd931611dca4">~txAutoLock</a>()</div>
<div class="line"><a id="l03982" name="l03982"></a><span class="lineno"> 3982</span>        {</div>
<div class="line"><a id="l03983" name="l03983"></a><span class="lineno"> 3983</span>$1      <span class="keywordflow">if</span> (!cs_) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03984" name="l03984"></a><span class="lineno"> 3984</span>$       LeaveCriticalSection (cs_); cs_ = NULL;</div>
<div class="line"><a id="l03985" name="l03985"></a><span class="lineno"> 3985</span>        }</div>
<div class="line"><a id="l03986" name="l03986"></a><span class="lineno"> 3986</span> </div>
<div class="line"><a id="l03987" name="l03987"></a><span class="lineno"> 3987</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03990" name="l03990"></a><span class="lineno"> 3990</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03991" name="l03991"></a><span class="lineno"> 3991</span> </div>
<div class="line"><a id="l03992" name="l03992"></a><span class="lineno"><a class="line" href="classtx_auto_lock.html#a4c6250ede5d5b2d2ad57d8254aa7c72f"> 3992</a></span>    <span class="keyword">operator</span> bool ()<span class="keyword"> const</span></div>
<div class="line"><a id="l03993" name="l03993"></a><span class="lineno"> 3993</span><span class="keyword">        </span>{</div>
<div class="line"><a id="l03994" name="l03994"></a><span class="lineno"> 3994</span>$1      <span class="keywordflow">return</span> (cs_ != NULL);</div>
<div class="line"><a id="l03995" name="l03995"></a><span class="lineno"> 3995</span>        }</div>
<div class="line"><a id="l03996" name="l03996"></a><span class="lineno"> 3996</span> </div>
<div class="line"><a id="l03997" name="l03997"></a><span class="lineno"> 3997</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l03999" name="l03999"></a><span class="lineno"> 3999</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04000" name="l04000"></a><span class="lineno"> 4000</span> </div>
<div class="line"><a id="l04001" name="l04001"></a><span class="lineno"> 4001</span><span class="comment">//  private:</span></div>
<div class="line"><a id="l04002" name="l04002"></a><span class="lineno"><a class="line" href="classtx_auto_lock.html#ae7aa09749ac613c09b651a4a2e12934f"> 4002</a></span>    CRITICAL_SECTION* <a class="code hl_variable" href="classtx_auto_lock.html#ae7aa09749ac613c09b651a4a2e12934f">cs_</a>;</div>
<div class="line"><a id="l04003" name="l04003"></a><span class="lineno"> 4003</span> </div>
<div class="line"><a id="l04004" name="l04004"></a><span class="lineno"> 4004</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04006" name="l04006"></a><span class="lineno"> 4006</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04008" name="l04008"></a><span class="lineno"> 4008</span><span class="comment"></span> </div>
<div class="line"><a id="l04009" name="l04009"></a><span class="lineno"> 4009</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l04010" name="l04010"></a><span class="lineno"> 4010</span>    <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a>             (<span class="keyword">const</span> <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a>&amp;);</div>
<div class="line"><a id="l04011" name="l04011"></a><span class="lineno"> 4011</span>    <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a>&amp; operator = (<span class="keyword">const</span> <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a>&amp;);</div>
<div class="line"><a id="l04012" name="l04012"></a><span class="lineno"> 4012</span> </div>
<div class="line"><a id="l04014" name="l04014"></a><span class="lineno"> 4014</span> </div>
<div class="line"><a id="l04015" name="l04015"></a><span class="lineno"> 4015</span>    };</div>
<div class="line"><a id="l04016" name="l04016"></a><span class="lineno"> 4016</span> </div>
<div class="line"><a id="l04017" name="l04017"></a><span class="lineno"> 4017</span><span class="comment">//}</span></div>
<div class="line"><a id="l04018" name="l04018"></a><span class="lineno"> 4018</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04019" name="l04019"></a><span class="lineno"> 4019</span> </div>
<div class="line"><a id="l04021" name="l04021"></a><span class="lineno"> 4021</span><span class="comment">//}</span></div>
<div class="line"><a id="l04022" name="l04022"></a><span class="lineno"> 4022</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04023" name="l04023"></a><span class="lineno"> 4023</span> </div>
<div class="line"><a id="l04024" name="l04024"></a><span class="lineno"> 4024</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04025" name="l04025"></a><span class="lineno"> 4025</span><span class="comment">//{          Dialogs: txDialog class</span></div>
<div class="line"><a id="l04027" name="l04027"></a><span class="lineno"> 4027</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04029" name="l04029"></a><span class="lineno"> 4029</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04047" name="l04047"></a><span class="lineno"> 4047</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04048" name="l04048"></a><span class="lineno"> 4048</span> </div>
<div class="line"><a id="l04049" name="l04049"></a><span class="lineno"><a class="line" href="structtx_dialog.html"> 4049</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structtx_dialog.html">txDialog</a></div>
<div class="line"><a id="l04050" name="l04050"></a><span class="lineno"> 4050</span>    {</div>
<div class="line"><a id="l04051" name="l04051"></a><span class="lineno"> 4051</span> </div>
<div class="line"><a id="l04052" name="l04052"></a><span class="lineno"> 4052</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04065" name="l04065"></a><span class="lineno"> 4065</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04066" name="l04066"></a><span class="lineno"> 4066</span> </div>
<div class="line"><a id="l04067" name="l04067"></a><span class="lineno"> 4067</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l04068" name="l04068"></a><span class="lineno"><a class="line" href="group___dialogs.html#ga5b47575087d696b5fddf972ce4d83657"> 4068</a></span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="group___dialogs.html#ga5b47575087d696b5fddf972ce4d83657">CONTROL</a></div>
<div class="line"><a id="l04069" name="l04069"></a><span class="lineno"> 4069</span>        {</div>
<div class="line"><a id="l04070" name="l04070"></a><span class="lineno"><a class="line" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a1988e748c6846b398b020c0cb6f057ab"> 4070</a></span>        DIALOG    = 0x00000000,                  </div>
<div class="line"><a id="l04071" name="l04071"></a><span class="lineno"><a class="line" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aa4f15111fd03f7781dd5e910c9476085"> 4071</a></span>        BUTTON    = 0xFFFF0080,                  </div>
<div class="line"><a id="l04072" name="l04072"></a><span class="lineno"><a class="line" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aef6361d5dcbf8ce520f398a079b414cb"> 4072</a></span>        EDIT      = 0xFFFF0081,                  </div>
<div class="line"><a id="l04073" name="l04073"></a><span class="lineno"><a class="line" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aec6c84113cb4f1cd430238d4b909b40a"> 4073</a></span>        STATIC    = 0xFFFF0082,                  </div>
<div class="line"><a id="l04074" name="l04074"></a><span class="lineno"><a class="line" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a71c9095b5417af67a6a9b4a5140a09ea"> 4074</a></span>        LISTBOX   = 0xFFFF0083,                  </div>
<div class="line"><a id="l04075" name="l04075"></a><span class="lineno"><a class="line" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657af7644a14f317118ad12a6c5eaa216e9f"> 4075</a></span>        SCROLLBAR = 0xFFFF0084,                  </div>
<div class="line"><a id="l04076" name="l04076"></a><span class="lineno"><a class="line" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a5e7719d9f62ad1839c67e21e8ebf64e2"> 4076</a></span>        COMBOBOX  = 0xFFFF0085,                  </div>
<div class="line"><a id="l04077" name="l04077"></a><span class="lineno"> 4077</span>        END       = 0x00000000                   </div>
<div class="line"><a id="l04078" name="l04078"></a><span class="lineno"><a class="line" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a342a4f0af79f46e07894a95e5951b7aa"> 4078</a></span>        };</div>
<div class="line"><a id="l04079" name="l04079"></a><span class="lineno"> 4079</span> </div>
<div class="line"><a id="l04080" name="l04080"></a><span class="lineno"> 4080</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04097" name="l04097"></a><span class="lineno"> 4097</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04098" name="l04098"></a><span class="lineno"> 4098</span> </div>
<div class="line"><a id="l04099" name="l04099"></a><span class="lineno"> 4099</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l04100" name="l04100"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html"> 4100</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structtx_dialog_1_1_layout.html">Layout</a></div>
<div class="line"><a id="l04101" name="l04101"></a><span class="lineno"> 4101</span>        {</div>
<div class="line"><a id="l04102" name="l04102"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#a2591914a85c05cce0fc862df1a569064"> 4102</a></span>        <a class="code hl_enumeration" href="group___dialogs.html#ga5b47575087d696b5fddf972ce4d83657">CONTROL</a>     <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#a2591914a85c05cce0fc862df1a569064">wndclass</a>;                    </div>
<div class="line"><a id="l04103" name="l04103"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#a92bbfc790a6ba7c937e9e26491a46209"> 4103</a></span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#a92bbfc790a6ba7c937e9e26491a46209">caption</a>;                     </div>
<div class="line"><a id="l04104" name="l04104"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#aa1a483bb785e2564e3a478f9c2e248da"> 4104</a></span>        WORD        <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#aa1a483bb785e2564e3a478f9c2e248da">id</a>;                          </div>
<div class="line"><a id="l04105" name="l04105"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#a6291f513b3eeb124b0c431c4823a2293"> 4105</a></span>        <span class="keywordtype">short</span>        <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#a6291f513b3eeb124b0c431c4823a2293">x</a>;                          </div>
<div class="line"><a id="l04106" name="l04106"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#a21d57dc612006b3b3ee8a513ab35cdbb"> 4106</a></span>        <span class="keywordtype">short</span>        <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#a21d57dc612006b3b3ee8a513ab35cdbb">y</a>;                          </div>
<div class="line"><a id="l04107" name="l04107"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#a16c20d9825dc75ca91ce750b6b547d6a"> 4107</a></span>        <span class="keywordtype">short</span>       <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#a16c20d9825dc75ca91ce750b6b547d6a">sx</a>;                          </div>
<div class="line"><a id="l04108" name="l04108"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#ab54d04b7a9c3df4cd9596af74246da47"> 4108</a></span>        <span class="keywordtype">short</span>       <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#ab54d04b7a9c3df4cd9596af74246da47">sy</a>;                          </div>
<div class="line"><a id="l04109" name="l04109"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#a9b6528a0f3cd2b08cf78f947ad5bafab"> 4109</a></span>        DWORD       <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#a9b6528a0f3cd2b08cf78f947ad5bafab">style</a>;                       </div>
<div class="line"><a id="l04110" name="l04110"></a><span class="lineno"> 4110</span> </div>
<div class="line"><a id="l04111" name="l04111"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#a2fe7acf9e635627242825e58b2ff83ec"> 4111</a></span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#a2fe7acf9e635627242825e58b2ff83ec">font</a>;                        </div>
<div class="line"><a id="l04112" name="l04112"></a><span class="lineno"><a class="line" href="structtx_dialog_1_1_layout.html#ac78c2a12a9ca921adff890b03b867ff0"> 4112</a></span>        WORD        <a class="code hl_variable" href="structtx_dialog_1_1_layout.html#ac78c2a12a9ca921adff890b03b867ff0">fontsize</a>;                    </div>
<div class="line"><a id="l04113" name="l04113"></a><span class="lineno"> 4113</span>        };</div>
<div class="line"><a id="l04114" name="l04114"></a><span class="lineno"> 4114</span> </div>
<div class="line"><a id="l04115" name="l04115"></a><span class="lineno"> 4115</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04123" name="l04123"></a><span class="lineno"> 4123</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04124" name="l04124"></a><span class="lineno"> 4124</span> </div>
<div class="line"><a id="l04125" name="l04125"></a><span class="lineno"> 4125</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l04126" name="l04126"></a><span class="lineno"><a class="line" href="structtx_dialog.html#a081a2029ed8e4ffd6726c9f39966a04c"> 4126</a></span>    <a class="code hl_function" href="structtx_dialog.html#a081a2029ed8e4ffd6726c9f39966a04c">txDialog</a>();</div>
<div class="line"><a id="l04127" name="l04127"></a><span class="lineno"> 4127</span> </div>
<div class="line"><a id="l04128" name="l04128"></a><span class="lineno"> 4128</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04138" name="l04138"></a><span class="lineno"> 4138</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04139" name="l04139"></a><span class="lineno"> 4139</span> </div>
<div class="line"><a id="l04140" name="l04140"></a><span class="lineno"><a class="line" href="structtx_dialog.html#a4ac4c473e24014b82cb62133f8c5ed4a"> 4140</a></span>    <a class="code hl_function" href="structtx_dialog.html#a4ac4c473e24014b82cb62133f8c5ed4a">txDialog</a> (<span class="keyword">const</span> <a class="code hl_struct" href="structtx_dialog_1_1_layout.html">Layout</a>* layout);</div>
<div class="line"><a id="l04141" name="l04141"></a><span class="lineno"> 4141</span> </div>
<div class="line"><a id="l04142" name="l04142"></a><span class="lineno"> 4142</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04144" name="l04144"></a><span class="lineno"> 4144</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04145" name="l04145"></a><span class="lineno"> 4145</span> </div>
<div class="line"><a id="l04146" name="l04146"></a><span class="lineno"><a class="line" href="structtx_dialog.html#a0a41d301a3d12cd2542f609bb77d81a1"> 4146</a></span>    <span class="keyword">virtual</span> <a class="code hl_function" href="structtx_dialog.html#a0a41d301a3d12cd2542f609bb77d81a1">~txDialog</a>() {};</div>
<div class="line"><a id="l04147" name="l04147"></a><span class="lineno"> 4147</span> </div>
<div class="line"><a id="l04148" name="l04148"></a><span class="lineno"> 4148</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04160" name="l04160"></a><span class="lineno"> 4160</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04161" name="l04161"></a><span class="lineno"> 4161</span> </div>
<div class="line"><a id="l04162" name="l04162"></a><span class="lineno"><a class="line" href="structtx_dialog.html#acc3c6561d4b13780848b7b5ff032f2e4"> 4162</a></span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtx_dialog_1_1_layout.html">Layout</a>* <a class="code hl_function" href="structtx_dialog.html#acc3c6561d4b13780848b7b5ff032f2e4">setLayout</a> (<span class="keyword">const</span> <a class="code hl_struct" href="structtx_dialog_1_1_layout.html">Layout</a> *layout);</div>
<div class="line"><a id="l04163" name="l04163"></a><span class="lineno"> 4163</span> </div>
<div class="line"><a id="l04164" name="l04164"></a><span class="lineno"> 4164</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04182" name="l04182"></a><span class="lineno"> 4182</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04183" name="l04183"></a><span class="lineno"> 4183</span> </div>
<div class="line"><a id="l04184" name="l04184"></a><span class="lineno"><a class="line" href="structtx_dialog.html#a39efe9383833aedb0839d2519173930e"> 4184</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code hl_function" href="structtx_dialog.html#a39efe9383833aedb0839d2519173930e">dialogProc</a> (HWND _wnd, UINT _msg, WPARAM _wParam, LPARAM _lParam);</div>
<div class="line"><a id="l04185" name="l04185"></a><span class="lineno"> 4185</span> </div>
<div class="line"><a id="l04186" name="l04186"></a><span class="lineno"> 4186</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04202" name="l04202"></a><span class="lineno"> 4202</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04203" name="l04203"></a><span class="lineno"> 4203</span> </div>
<div class="line"><a id="l04204" name="l04204"></a><span class="lineno"><a class="line" href="structtx_dialog.html#ae1990ecaf5a955c66eae928aa0d9c896"> 4204</a></span>    INT_PTR <a class="code hl_function" href="structtx_dialog.html#ae1990ecaf5a955c66eae928aa0d9c896">dialogBox</a> (<span class="keyword">const</span> <a class="code hl_struct" href="structtx_dialog_1_1_layout.html">Layout</a>* layout = NULL, <span class="keywordtype">size_t</span> bufsize = 0);</div>
<div class="line"><a id="l04205" name="l04205"></a><span class="lineno"> 4205</span> </div>
<div class="line"><a id="l04206" name="l04206"></a><span class="lineno"> 4206</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04219" name="l04219"></a><span class="lineno"> 4219</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04220" name="l04220"></a><span class="lineno"> 4220</span> </div>
<div class="line"><a id="l04221" name="l04221"></a><span class="lineno"><a class="line" href="structtx_dialog.html#ae77679e598791a95944fed3610f0e01a"> 4221</a></span>    INT_PTR <a class="code hl_function" href="structtx_dialog.html#ae77679e598791a95944fed3610f0e01a">dialogBox</a> (WORD resource);</div>
<div class="line"><a id="l04222" name="l04222"></a><span class="lineno"> 4222</span> </div>
<div class="line"><a id="l04223" name="l04223"></a><span class="lineno"> 4223</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04225" name="l04225"></a><span class="lineno"> 4225</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04226" name="l04226"></a><span class="lineno"> 4226</span> </div>
<div class="line"><a id="l04227" name="l04227"></a><span class="lineno"> 4227</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l04228" name="l04228"></a><span class="lineno"> 4228</span>    <a class="code hl_struct" href="structtx_dialog.html">txDialog</a> (<span class="keyword">const</span> <a class="code hl_struct" href="structtx_dialog.html">txDialog</a>&amp;);</div>
<div class="line"><a id="l04229" name="l04229"></a><span class="lineno"> 4229</span>    <a class="code hl_struct" href="structtx_dialog.html">txDialog</a>&amp; operator = (<span class="keyword">const</span> <a class="code hl_struct" href="structtx_dialog.html">txDialog</a>&amp;);</div>
<div class="line"><a id="l04230" name="l04230"></a><span class="lineno"> 4230</span> </div>
<div class="line"><a id="l04231" name="l04231"></a><span class="lineno"> 4231</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04233" name="l04233"></a><span class="lineno"> 4233</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04234" name="l04234"></a><span class="lineno"> 4234</span> </div>
<div class="line"><a id="l04235" name="l04235"></a><span class="lineno"> 4235</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l04236" name="l04236"></a><span class="lineno"> 4236</span>    <span class="keyword">static</span> ptrdiff_t CALLBACK dialogProc__ (HWND wnd, UINT msg, WPARAM wParam, LPARAM lParam);</div>
<div class="line"><a id="l04237" name="l04237"></a><span class="lineno"> 4237</span> </div>
<div class="line"><a id="l04238" name="l04238"></a><span class="lineno"> 4238</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04240" name="l04240"></a><span class="lineno"> 4240</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04241" name="l04241"></a><span class="lineno"> 4241</span> </div>
<div class="line"><a id="l04242" name="l04242"></a><span class="lineno"> 4242</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l04243" name="l04243"></a><span class="lineno"> 4243</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtx_dialog_1_1_layout.html">Layout</a>* layout_;</div>
<div class="line"><a id="l04244" name="l04244"></a><span class="lineno"> 4244</span>    };</div>
<div class="line"><a id="l04245" name="l04245"></a><span class="lineno"> 4245</span> </div>
<div class="line"><a id="l04247" name="l04247"></a><span class="lineno"> 4247</span><span class="comment">//}</span></div>
<div class="line"><a id="l04248" name="l04248"></a><span class="lineno"> 4248</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04249" name="l04249"></a><span class="lineno"> 4249</span> </div>
<div class="line"><a id="l04250" name="l04250"></a><span class="lineno"> 4250</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04251" name="l04251"></a><span class="lineno"> 4251</span><span class="comment">//{          Dialogs: Message Map macros</span></div>
<div class="line"><a id="l04253" name="l04253"></a><span class="lineno"> 4253</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04255" name="l04255"></a><span class="lineno"> 4255</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04266" name="l04266"></a><span class="lineno"> 4266</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04267" name="l04267"></a><span class="lineno"> 4267</span> </div>
<div class="line"><a id="l04268" name="l04268"></a><span class="lineno"><a class="line" href="group___misc.html#gaf6ea524e3c76ba5c8a0d1fa6b81d55b8"> 4268</a></span><span class="preprocessor">#define TX_BEGIN_MESSAGE_MAP()                                                     \</span></div>
<div class="line"><a id="l04269" name="l04269"></a><span class="lineno"> 4269</span><span class="preprocessor">    virtual int dialogProc (HWND _wnd, UINT _msg, WPARAM _wParam, LPARAM _lParam)  \</span></div>
<div class="line"><a id="l04270" name="l04270"></a><span class="lineno"> 4270</span><span class="preprocessor">        {                                                                          \</span></div>
<div class="line"><a id="l04271" name="l04271"></a><span class="lineno"> 4271</span><span class="preprocessor">        (void)_wnd; (void)_msg; (void)_wParam; (void)_lParam;                      \</span></div>
<div class="line"><a id="l04272" name="l04272"></a><span class="lineno"> 4272</span><span class="preprocessor">                                                                                   \</span></div>
<div class="line"><a id="l04273" name="l04273"></a><span class="lineno"> 4273</span><span class="preprocessor">        switch (_msg)                                                              \</span></div>
<div class="line"><a id="l04274" name="l04274"></a><span class="lineno"> 4274</span><span class="preprocessor">            {                                                                      \</span></div>
<div class="line"><a id="l04275" name="l04275"></a><span class="lineno"> 4275</span><span class="preprocessor">            case WM_NULL:</span></div>
<div class="line"><a id="l04276" name="l04276"></a><span class="lineno"> 4276</span> </div>
<div class="line"><a id="l04277" name="l04277"></a><span class="lineno"> 4277</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04290" name="l04290"></a><span class="lineno"> 4290</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04291" name="l04291"></a><span class="lineno"> 4291</span> </div>
<div class="line"><a id="l04292" name="l04292"></a><span class="lineno"><a class="line" href="group___misc.html#gadbe2f17002d8d41056e9770066ef558b"> 4292</a></span><span class="preprocessor">#define TX_HANDLE( id )                                                            \</span></div>
<div class="line"><a id="l04293" name="l04293"></a><span class="lineno"> 4293</span><span class="preprocessor">            break;                                                                 \</span></div>
<div class="line"><a id="l04294" name="l04294"></a><span class="lineno"> 4294</span><span class="preprocessor">            case (id):</span></div>
<div class="line"><a id="l04295" name="l04295"></a><span class="lineno"> 4295</span> </div>
<div class="line"><a id="l04296" name="l04296"></a><span class="lineno"> 4296</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04307" name="l04307"></a><span class="lineno"> 4307</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04308" name="l04308"></a><span class="lineno"> 4308</span> </div>
<div class="line"><a id="l04309" name="l04309"></a><span class="lineno"><a class="line" href="group___misc.html#ga3637c3398b6ebfa337171beec0770fe4"> 4309</a></span><span class="preprocessor">#define TX_COMMAND_MAP                                                             \</span></div>
<div class="line"><a id="l04310" name="l04310"></a><span class="lineno"> 4310</span><span class="preprocessor">            default: break;                                                        \</span></div>
<div class="line"><a id="l04311" name="l04311"></a><span class="lineno"> 4311</span><span class="preprocessor">            }                                                                      \</span></div>
<div class="line"><a id="l04312" name="l04312"></a><span class="lineno"> 4312</span><span class="preprocessor">                                                                                   \</span></div>
<div class="line"><a id="l04313" name="l04313"></a><span class="lineno"> 4313</span><span class="preprocessor">        if (_msg == WM_COMMAND) switch (LOWORD (_wParam))                          \</span></div>
<div class="line"><a id="l04314" name="l04314"></a><span class="lineno"> 4314</span><span class="preprocessor">            {                                                                      \</span></div>
<div class="line"><a id="l04315" name="l04315"></a><span class="lineno"> 4315</span><span class="preprocessor">            case 0:</span></div>
<div class="line"><a id="l04316" name="l04316"></a><span class="lineno"> 4316</span> </div>
<div class="line"><a id="l04317" name="l04317"></a><span class="lineno"> 4317</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04328" name="l04328"></a><span class="lineno"> 4328</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04329" name="l04329"></a><span class="lineno"> 4329</span> </div>
<div class="line"><a id="l04330" name="l04330"></a><span class="lineno"><a class="line" href="group___misc.html#ga3f4a70a0e5076cb4f4addcab0ca760cd"> 4330</a></span><span class="preprocessor">#define TX_END_MESSAGE_MAP                                                         \</span></div>
<div class="line"><a id="l04331" name="l04331"></a><span class="lineno"> 4331</span><span class="preprocessor">            default: break;                                                        \</span></div>
<div class="line"><a id="l04332" name="l04332"></a><span class="lineno"> 4332</span><span class="preprocessor">            }                                                                      \</span></div>
<div class="line"><a id="l04333" name="l04333"></a><span class="lineno"> 4333</span><span class="preprocessor">                                                                                   \</span></div>
<div class="line"><a id="l04334" name="l04334"></a><span class="lineno"> 4334</span><span class="preprocessor">        return FALSE;                                                              \</span></div>
<div class="line"><a id="l04335" name="l04335"></a><span class="lineno"> 4335</span><span class="preprocessor">        }</span></div>
<div class="line"><a id="l04336" name="l04336"></a><span class="lineno"> 4336</span> </div>
<div class="line"><a id="l04338" name="l04338"></a><span class="lineno"> 4338</span><span class="comment">//}</span></div>
<div class="line"><a id="l04339" name="l04339"></a><span class="lineno"> 4339</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04340" name="l04340"></a><span class="lineno"> 4340</span> </div>
<div class="line"><a id="l04341" name="l04341"></a><span class="lineno"> 4341</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04342" name="l04342"></a><span class="lineno"> 4342</span><span class="comment">//{          Dialogs: txDialog example: txInputBox()</span></div>
<div class="line"><a id="l04344" name="l04344"></a><span class="lineno"> 4344</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04346" name="l04346"></a><span class="lineno"> 4346</span><span class="comment"></span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04366" name="l04366"></a><span class="lineno"> 4366</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04367" name="l04367"></a><span class="lineno"> 4367</span> </div>
<div class="line"><a id="l04368" name="l04368"></a><span class="lineno"> 4368</span><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="group___dialogs.html#ga364e78410e64fb751d3a0253d08f98e2">txInputBox</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* text = NULL, <span class="keyword">const</span> <span class="keywordtype">char</span>* caption = NULL, <span class="keyword">const</span> <span class="keywordtype">char</span>* input = NULL);</div>
<div class="line"><a id="l04369" name="l04369"></a><span class="lineno"> 4369</span> </div>
<div class="line"><a id="l04370" name="l04370"></a><span class="lineno"><a class="line" href="group___dialogs.html#ga364e78410e64fb751d3a0253d08f98e2"> 4370</a></span><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="group___dialogs.html#ga364e78410e64fb751d3a0253d08f98e2">txInputBox</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* caption, <span class="keyword">const</span> <span class="keywordtype">char</span>* input)</div>
<div class="line"><a id="l04371" name="l04371"></a><span class="lineno"> 4371</span>    {</div>
<div class="line"><a id="l04372" name="l04372"></a><span class="lineno"> 4372</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04373" name="l04373"></a><span class="lineno"> 4373</span>    <span class="comment">//    ,    - .</span></div>
<div class="line"><a id="l04374" name="l04374"></a><span class="lineno"> 4374</span>    <span class="comment">// txGetModuleFileName() -  EXE-,  ,  -   .</span></div>
<div class="line"><a id="l04375" name="l04375"></a><span class="lineno"> 4375</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04376" name="l04376"></a><span class="lineno"> 4376</span> </div>
<div class="line"><a id="l04377" name="l04377"></a><span class="lineno"> 4377</span>    <span class="keywordflow">if</span> (!text)    text    = <span class="stringliteral">&quot; :&quot;</span>;</div>
<div class="line"><a id="l04378" name="l04378"></a><span class="lineno"> 4378</span>    <span class="keywordflow">if</span> (!caption) caption = <a class="code hl_function" href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">txGetModuleFileName</a> (<span class="keyword">false</span>);</div>
<div class="line"><a id="l04379" name="l04379"></a><span class="lineno"> 4379</span>    <span class="keywordflow">if</span> (!input)   input   = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l04380" name="l04380"></a><span class="lineno"> 4380</span> </div>
<div class="line"><a id="l04381" name="l04381"></a><span class="lineno"> 4381</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04382" name="l04382"></a><span class="lineno"> 4382</span>    <span class="comment">//   .    GetDlgItemText().</span></div>
<div class="line"><a id="l04383" name="l04383"></a><span class="lineno"> 4383</span>    <span class="comment">//     ,   ,      .</span></div>
<div class="line"><a id="l04384" name="l04384"></a><span class="lineno"> 4384</span>    <span class="comment">//     -  ,  .   ,     </span></div>
<div class="line"><a id="l04385" name="l04385"></a><span class="lineno"> 4385</span>    <span class="comment">//      .       </span></div>
<div class="line"><a id="l04386" name="l04386"></a><span class="lineno"> 4386</span>    <span class="comment">//    , .   ,    </span></div>
<div class="line"><a id="l04387" name="l04387"></a><span class="lineno"> 4387</span>    <span class="comment">// txDialog::dialogBox()   _tx_DLGTEMPLATE_()... _</span></div>
<div class="line"><a id="l04388" name="l04388"></a><span class="lineno"> 4388</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04389" name="l04389"></a><span class="lineno"> 4389</span> </div>
<div class="line"><a id="l04390" name="l04390"></a><span class="lineno"> 4390</span><span class="preprocessor">    #define ID_TEXT_  101</span></div>
<div class="line"><a id="l04391" name="l04391"></a><span class="lineno"> 4391</span><span class="preprocessor">    #define ID_INPUT_ 102</span></div>
<div class="line"><a id="l04392" name="l04392"></a><span class="lineno"> 4392</span> </div>
<div class="line"><a id="l04393" name="l04393"></a><span class="lineno"> 4393</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04394" name="l04394"></a><span class="lineno"> 4394</span>    <span class="comment">//   ()     .</span></div>
<div class="line"><a id="l04395" name="l04395"></a><span class="lineno"> 4395</span>    <span class="comment">//        txDialog::Layout    </span></div>
<div class="line"><a id="l04396" name="l04396"></a><span class="lineno"> 4396</span>    <span class="comment">// txDialog          .rc - .</span></div>
<div class="line"><a id="l04397" name="l04397"></a><span class="lineno"> 4397</span>    <span class="comment">// .   rc-    Win32 (MSDN, http://msdn.com).</span></div>
<div class="line"><a id="l04398" name="l04398"></a><span class="lineno"> 4398</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04399" name="l04399"></a><span class="lineno"> 4399</span> </div>
<div class="line"><a id="l04400" name="l04400"></a><span class="lineno"> 4400</span>    <a class="code hl_struct" href="structtx_dialog_1_1_layout.html">txDialog::Layout</a> layout[] =</div>
<div class="line"><a id="l04401" name="l04401"></a><span class="lineno"> 4401</span> </div>
<div class="line"><a id="l04402" name="l04402"></a><span class="lineno"> 4402</span>    <span class="comment">//----------------------+----------+-----------+-----------------+---------------------------------------------</span></div>
<div class="line"><a id="l04403" name="l04403"></a><span class="lineno"> 4403</span>    <span class="comment">//           |       | -   |       |  </span></div>
<div class="line"><a id="l04404" name="l04404"></a><span class="lineno"> 4404</span>    <span class="comment">//               |  |    |-----------------| (.  </span></div>
<div class="line"><a id="l04405" name="l04405"></a><span class="lineno"> 4405</span>    <span class="comment">//                      |          |   | X | Y |.|.|    MSDN)</span></div>
<div class="line"><a id="l04406" name="l04406"></a><span class="lineno"> 4406</span>    <span class="comment">//----------------------+----------+-----------+---+---+----+----+---------------------------------------------</span></div>
<div class="line"><a id="l04407" name="l04407"></a><span class="lineno"> 4407</span>    <span class="comment">//                      |          |           |   |   |    |    |</span></div>
<div class="line"><a id="l04408" name="l04408"></a><span class="lineno"> 4408</span>        {{ <a class="code hl_enumvalue" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a1988e748c6846b398b020c0cb6f057ab">txDialog::DIALOG</a>,  caption,   0,           0,  0, 240,  85                                                    },</div>
<div class="line"><a id="l04409" name="l04409"></a><span class="lineno"> 4409</span>         { <a class="code hl_enumvalue" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aec6c84113cb4f1cd430238d4b909b40a">txDialog::STATIC</a>,  text,      ID_TEXT_,   10, 10, 150,  40, SS_LEFT                                           },</div>
<div class="line"><a id="l04410" name="l04410"></a><span class="lineno"> 4410</span>         { <a class="code hl_enumvalue" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aef6361d5dcbf8ce520f398a079b414cb">txDialog::EDIT</a>,    input,     ID_INPUT_,  10, 60, 220,  15, ES_LEFT | WS_BORDER | ES_AUTOHSCROLL | WS_TABSTOP },</div>
<div class="line"><a id="l04411" name="l04411"></a><span class="lineno"> 4411</span>         { <a class="code hl_enumvalue" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aa4f15111fd03f7781dd5e910c9476085">txDialog::BUTTON</a>,  <span class="stringliteral">&quot;&amp;OK&quot;</span>,     IDOK,      180, 10,  50,  15, BS_DEFPUSHBUTTON                     | WS_TABSTOP },</div>
<div class="line"><a id="l04412" name="l04412"></a><span class="lineno"> 4412</span>         { <a class="code hl_enumvalue" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aa4f15111fd03f7781dd5e910c9476085">txDialog::BUTTON</a>,  <span class="stringliteral">&quot;&amp;Cancel&quot;</span>, IDCANCEL,  180, 30,  50,  15, BS_PUSHBUTTON                        | WS_TABSTOP },</div>
<div class="line"><a id="l04413" name="l04413"></a><span class="lineno"> 4413</span>         { <a class="code hl_enumvalue" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a342a4f0af79f46e07894a95e5951b7aa">txDialog::END</a>                                                                                                 }};</div>
<div class="line"><a id="l04414" name="l04414"></a><span class="lineno"> 4414</span> </div>
<div class="line"><a id="l04415" name="l04415"></a><span class="lineno"> 4415</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04416" name="l04416"></a><span class="lineno"> 4416</span>    <span class="comment">//    InputBox. , ..    .</span></div>
<div class="line"><a id="l04417" name="l04417"></a><span class="lineno"> 4417</span>    <span class="comment">//        (str)     ,</span></div>
<div class="line"><a id="l04418" name="l04418"></a><span class="lineno"> 4418</span>    <span class="comment">//  Win32 (   TX_BEGIN_MESSAGE_MAP  ).   </span></div>
<div class="line"><a id="l04419" name="l04419"></a><span class="lineno"> 4419</span>    <span class="comment">//  ,          ,</span></div>
<div class="line"><a id="l04420" name="l04420"></a><span class="lineno"> 4420</span>    <span class="comment">//  str    (     DialogBoxParam  </span></div>
<div class="line"><a id="l04421" name="l04421"></a><span class="lineno"> 4421</span>    <span class="comment">//       WM_INITDIALOG).</span></div>
<div class="line"><a id="l04422" name="l04422"></a><span class="lineno"> 4422</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04423" name="l04423"></a><span class="lineno"> 4423</span>    <span class="keyword">struct </span>inputDlg : <a class="code hl_struct" href="structtx_dialog.html">txDialog</a></div>
<div class="line"><a id="l04424" name="l04424"></a><span class="lineno"> 4424</span>        {</div>
<div class="line"><a id="l04425" name="l04425"></a><span class="lineno"> 4425</span>        <span class="keywordtype">char</span> str [1024];</div>
<div class="line"><a id="l04426" name="l04426"></a><span class="lineno"> 4426</span> </div>
<div class="line"><a id="l04427" name="l04427"></a><span class="lineno"> 4427</span>        <span class="comment">//---------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04428" name="l04428"></a><span class="lineno"> 4428</span> </div>
<div class="line"><a id="l04429" name="l04429"></a><span class="lineno"> 4429</span>        inputDlg() :</div>
<div class="line"><a id="l04430" name="l04430"></a><span class="lineno"> 4430</span>            str()                               <span class="comment">//   .    </span></div>
<div class="line"><a id="l04431" name="l04431"></a><span class="lineno"> 4431</span>            {                                   <span class="comment">//     ,   :</span></div>
<div class="line"><a id="l04432" name="l04432"></a><span class="lineno"> 4432</span>            memset (str, 0, <span class="keyword">sizeof</span> (str));      <span class="comment">//   </span></div>
<div class="line"><a id="l04433" name="l04433"></a><span class="lineno"> 4433</span>            }</div>
<div class="line"><a id="l04434" name="l04434"></a><span class="lineno"> 4434</span> </div>
<div class="line"><a id="l04435" name="l04435"></a><span class="lineno"> 4435</span>        <span class="comment">//---------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04436" name="l04436"></a><span class="lineno"> 4436</span> </div>
<div class="line"><a id="l04437" name="l04437"></a><span class="lineno"> 4437</span>        <a class="code hl_define" href="group___misc.html#gaf6ea524e3c76ba5c8a0d1fa6b81d55b8">TX_BEGIN_MESSAGE_MAP</a>()    <span class="comment">//  .       .</span></div>
<div class="line"><a id="l04438" name="l04438"></a><span class="lineno"> 4438</span> </div>
<div class="line"><a id="l04439" name="l04439"></a><span class="lineno"> 4439</span>            <a class="code hl_define" href="group___misc.html#ga3637c3398b6ebfa337171beec0770fe4">TX_COMMAND_MAP</a>        <span class="comment">//   WM_COMMAND.     switch.</span></div>
<div class="line"><a id="l04440" name="l04440"></a><span class="lineno"> 4440</span> </div>
<div class="line"><a id="l04441" name="l04441"></a><span class="lineno"> 4441</span>                <span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04442" name="l04442"></a><span class="lineno"> 4442</span>                <span class="comment">//    OK         str,</span></div>
<div class="line"><a id="l04443" name="l04443"></a><span class="lineno"> 4443</span>                <span class="comment">// ..            .</span></div>
<div class="line"><a id="l04444" name="l04444"></a><span class="lineno"> 4444</span>                <span class="comment">//        case   switch.</span></div>
<div class="line"><a id="l04445" name="l04445"></a><span class="lineno"> 4445</span>                <span class="comment">// _wnd -    , .   TX_BEGIN_MESSAGE_MAP().</span></div>
<div class="line"><a id="l04446" name="l04446"></a><span class="lineno"> 4446</span>                <span class="comment">//-------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04447" name="l04447"></a><span class="lineno"> 4447</span> </div>
<div class="line"><a id="l04448" name="l04448"></a><span class="lineno"> 4448</span>                <a class="code hl_define" href="group___misc.html#gadbe2f17002d8d41056e9770066ef558b">TX_HANDLE</a> (IDOK) GetDlgItemText (_wnd, ID_INPUT_, str, <span class="keyword">sizeof</span> (str) - 1);</div>
<div class="line"><a id="l04449" name="l04449"></a><span class="lineno"> 4449</span> </div>
<div class="line"><a id="l04450" name="l04450"></a><span class="lineno"> 4450</span>        <a class="code hl_define" href="group___misc.html#ga3f4a70a0e5076cb4f4addcab0ca760cd">TX_END_MESSAGE_MAP</a></div>
<div class="line"><a id="l04451" name="l04451"></a><span class="lineno"> 4451</span> </div>
<div class="line"><a id="l04452" name="l04452"></a><span class="lineno"> 4452</span>        <span class="comment">//---------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04453" name="l04453"></a><span class="lineno"> 4453</span>        <span class="comment">//    </span></div>
<div class="line"><a id="l04454" name="l04454"></a><span class="lineno"> 4454</span>        <span class="comment">//---------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04455" name="l04455"></a><span class="lineno"> 4455</span> </div>
<div class="line"><a id="l04456" name="l04456"></a><span class="lineno"> 4456</span>        };</div>
<div class="line"><a id="l04457" name="l04457"></a><span class="lineno"> 4457</span> </div>
<div class="line"><a id="l04458" name="l04458"></a><span class="lineno"> 4458</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04459" name="l04459"></a><span class="lineno"> 4459</span>    <span class="comment">//  ,    .</span></div>
<div class="line"><a id="l04460" name="l04460"></a><span class="lineno"> 4460</span>    <span class="comment">//     &quot; &quot;,         -</span></div>
<div class="line"><a id="l04461" name="l04461"></a><span class="lineno"> 4461</span>    <span class="comment">// .        #undef.    </span></div>
<div class="line"><a id="l04462" name="l04462"></a><span class="lineno"> 4462</span>    <span class="comment">// ,      _.        </span></div>
<div class="line"><a id="l04463" name="l04463"></a><span class="lineno"> 4463</span>    <span class="comment">//  , ,    .</span></div>
<div class="line"><a id="l04464" name="l04464"></a><span class="lineno"> 4464</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04465" name="l04465"></a><span class="lineno"> 4465</span> </div>
<div class="line"><a id="l04466" name="l04466"></a><span class="lineno"> 4466</span><span class="preprocessor">    #undef ID_TEXT_</span></div>
<div class="line"><a id="l04467" name="l04467"></a><span class="lineno"> 4467</span><span class="preprocessor">    #undef ID_INPUT_</span></div>
<div class="line"><a id="l04468" name="l04468"></a><span class="lineno"> 4468</span> </div>
<div class="line"><a id="l04469" name="l04469"></a><span class="lineno"> 4469</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04470" name="l04470"></a><span class="lineno"> 4470</span>    <span class="comment">//   ,          .</span></div>
<div class="line"><a id="l04471" name="l04471"></a><span class="lineno"> 4471</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04472" name="l04472"></a><span class="lineno"> 4472</span> </div>
<div class="line"><a id="l04473" name="l04473"></a><span class="lineno"> 4473</span>    <span class="keyword">static</span> inputDlg dlg;</div>
<div class="line"><a id="l04474" name="l04474"></a><span class="lineno"> 4474</span> </div>
<div class="line"><a id="l04475" name="l04475"></a><span class="lineno"> 4475</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04476" name="l04476"></a><span class="lineno"> 4476</span>    <span class="comment">//  layout    </span></div>
<div class="line"><a id="l04477" name="l04477"></a><span class="lineno"> 4477</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04478" name="l04478"></a><span class="lineno"> 4478</span> </div>
<div class="line"><a id="l04479" name="l04479"></a><span class="lineno"> 4479</span>    dlg.dialogBox (layout);</div>
<div class="line"><a id="l04480" name="l04480"></a><span class="lineno"> 4480</span> </div>
<div class="line"><a id="l04481" name="l04481"></a><span class="lineno"> 4481</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04482" name="l04482"></a><span class="lineno"> 4482</span>    <span class="comment">//      .   ,   </span></div>
<div class="line"><a id="l04483" name="l04483"></a><span class="lineno"> 4483</span>    <span class="comment">//           , , . </span></div>
<div class="line"><a id="l04484" name="l04484"></a><span class="lineno"> 4484</span>    <span class="comment">//     ,     .</span></div>
<div class="line"><a id="l04485" name="l04485"></a><span class="lineno"> 4485</span>    <span class="comment">//-------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04486" name="l04486"></a><span class="lineno"> 4486</span> </div>
<div class="line"><a id="l04487" name="l04487"></a><span class="lineno"> 4487</span>    <span class="keywordflow">return</span> dlg.str;</div>
<div class="line"><a id="l04488" name="l04488"></a><span class="lineno"> 4488</span>    }</div>
<div class="line"><a id="l04489" name="l04489"></a><span class="lineno"> 4489</span> </div>
<div class="line"><a id="l04491" name="l04491"></a><span class="lineno"> 4491</span><span class="comment">//}</span></div>
<div class="line"><a id="l04492" name="l04492"></a><span class="lineno"> 4492</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04493" name="l04493"></a><span class="lineno"> 4493</span> </div>
<div class="line"><a id="l04494" name="l04494"></a><span class="lineno"> 4494</span><span class="comment">//}</span></div>
<div class="line"><a id="l04495" name="l04495"></a><span class="lineno"> 4495</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04496" name="l04496"></a><span class="lineno"> 4496</span> </div>
<div class="line"><a id="l04497" name="l04497"></a><span class="lineno"> 4497</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04498" name="l04498"></a><span class="lineno"> 4498</span><span class="comment">//{          TXLIB IMPLEMENTATION</span></div>
<div class="line"><a id="l04499" name="l04499"></a><span class="lineno"> 4499</span><span class="comment">//             </span></div>
<div class="line"><a id="l04500" name="l04500"></a><span class="lineno"> 4500</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04502" name="l04502"></a><span class="lineno"> 4502</span><span class="comment"></span> </div>
<div class="line"><a id="l04503" name="l04503"></a><span class="lineno"> 4503</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04504" name="l04504"></a><span class="lineno"> 4504</span><span class="comment">//{          [Internal] Function prototypes, macros and constants</span></div>
<div class="line"><a id="l04505" name="l04505"></a><span class="lineno"> 4505</span><span class="comment">//             ,   </span></div>
<div class="line"><a id="l04506" name="l04506"></a><span class="lineno"> 4506</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04507" name="l04507"></a><span class="lineno"> 4507</span> </div>
<div class="line"><a id="l04508" name="l04508"></a><span class="lineno"> 4508</span><span class="keyword">const</span> <span class="keywordtype">int</span>     _TX_CP                = 1251;   <span class="comment">//   </span></div>
<div class="line"><a id="l04509" name="l04509"></a><span class="lineno"> 4509</span><span class="keyword">const</span> <span class="keywordtype">char</span>    _TX_LC_CTYPE[]        = <span class="stringliteral">&quot;Russian&quot;</span>;</div>
<div class="line"><a id="l04510" name="l04510"></a><span class="lineno"> 4510</span><span class="keyword">const</span> <span class="keywordtype">wchar_t</span> _TX_LC_CTYPE_W[]      = L<span class="stringliteral">&quot;Russian_Russia.ACP&quot;</span>;</div>
<div class="line"><a id="l04511" name="l04511"></a><span class="lineno"> 4511</span> </div>
<div class="line"><a id="l04512" name="l04512"></a><span class="lineno"> 4512</span><span class="keyword">const</span> <span class="keywordtype">int</span>     _TX_IDM_ABOUT         = 40000;  <span class="comment">//    </span></div>
<div class="line"><a id="l04513" name="l04513"></a><span class="lineno"> 4513</span><span class="keyword">const</span> <span class="keywordtype">int</span>     _TX_IDM_CONSOLE       = 40001;</div>
<div class="line"><a id="l04514" name="l04514"></a><span class="lineno"> 4514</span> </div>
<div class="line"><a id="l04515" name="l04515"></a><span class="lineno"> 4515</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04516" name="l04516"></a><span class="lineno"> 4516</span> </div>
<div class="line"><a id="l04517" name="l04517"></a><span class="lineno"> 4517</span><span class="keywordtype">int</span>              _txInitialize();</div>
<div class="line"><a id="l04518" name="l04518"></a><span class="lineno"> 4518</span><span class="keywordtype">void</span>             _txCleanup();</div>
<div class="line"><a id="l04519" name="l04519"></a><span class="lineno"> 4519</span> </div>
<div class="line"><a id="l04520" name="l04520"></a><span class="lineno"> 4520</span>HWND             _txCanvas_CreateWindow (SIZE* size);</div>
<div class="line"><a id="l04521" name="l04521"></a><span class="lineno"> 4521</span><span class="keyword">inline</span> <span class="keywordtype">bool</span>      _txCanvas_OK();</div>
<div class="line"><a id="l04522" name="l04522"></a><span class="lineno"> 4522</span> </div>
<div class="line"><a id="l04523" name="l04523"></a><span class="lineno"> 4523</span><span class="keywordtype">bool</span>             _txCanvas_OnCREATE     (HWND wnd);</div>
<div class="line"><a id="l04524" name="l04524"></a><span class="lineno"> 4524</span><span class="keywordtype">bool</span>             _txCanvas_OnDESTROY    (HWND wnd);</div>
<div class="line"><a id="l04525" name="l04525"></a><span class="lineno"> 4525</span><span class="keywordtype">bool</span>             _txCanvas_OnCLOSE      (HWND);</div>
<div class="line"><a id="l04526" name="l04526"></a><span class="lineno"> 4526</span><span class="keywordtype">bool</span>             _txCanvas_OnPAINT      (HWND wnd);</div>
<div class="line"><a id="l04527" name="l04527"></a><span class="lineno"> 4527</span><span class="keywordtype">bool</span>             _txCanvas_OnKEYDOWN    (HWND wnd, WPARAM vk, LPARAM info);</div>
<div class="line"><a id="l04528" name="l04528"></a><span class="lineno"> 4528</span><span class="keywordtype">bool</span>             _txCanvas_OnCHAR       (HWND wnd, WPARAM ch, LPARAM info);</div>
<div class="line"><a id="l04529" name="l04529"></a><span class="lineno"> 4529</span><span class="keywordtype">bool</span>             _txCanvas_OnTIMER      (HWND wnd, WPARAM <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l04530" name="l04530"></a><span class="lineno"> 4530</span><span class="keywordtype">bool</span>             _txCanvas_OnMOUSEMOVE  (HWND wnd, WPARAM buttons, LPARAM coords);</div>
<div class="line"><a id="l04531" name="l04531"></a><span class="lineno"> 4531</span><span class="keywordtype">bool</span>             _txCanvas_OnCmdCONSOLE (HWND wnd, WPARAM cmd);</div>
<div class="line"><a id="l04532" name="l04532"></a><span class="lineno"> 4532</span><span class="keywordtype">bool</span>             _txCanvas_OnCmdABOUT   (HWND wnd, WPARAM cmd);</div>
<div class="line"><a id="l04533" name="l04533"></a><span class="lineno"> 4533</span> </div>
<div class="line"><a id="l04534" name="l04534"></a><span class="lineno"> 4534</span><span class="keywordtype">unsigned</span> WINAPI  _txCanvas_ThreadProc (<span class="keywordtype">void</span>* data);</div>
<div class="line"><a id="l04535" name="l04535"></a><span class="lineno"> 4535</span>LRESULT CALLBACK _txCanvas_WndProc (HWND wnd, UINT msg, WPARAM wpar, LPARAM lpar);</div>
<div class="line"><a id="l04536" name="l04536"></a><span class="lineno"> 4536</span> </div>
<div class="line"><a id="l04537" name="l04537"></a><span class="lineno"> 4537</span><span class="keywordtype">int</span>              _txCanvas_SetRefreshLock (<span class="keywordtype">int</span> count);</div>
<div class="line"><a id="l04538" name="l04538"></a><span class="lineno"> 4538</span> </div>
<div class="line"><a id="l04539" name="l04539"></a><span class="lineno"> 4539</span>HDC              _txBuffer_Create (HWND wnd, <span class="keyword">const</span> POINT* size = NULL, HBITMAP bmap = NULL);</div>
<div class="line"><a id="l04540" name="l04540"></a><span class="lineno"> 4540</span><span class="keywordtype">bool</span>             _txBuffer_Delete (HDC* dc);</div>
<div class="line"><a id="l04541" name="l04541"></a><span class="lineno"> 4541</span><span class="keywordtype">bool</span>             _txBuffer_Select (HGDIOBJ obj, HDC dc = <a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>());</div>
<div class="line"><a id="l04542" name="l04542"></a><span class="lineno"> 4542</span> </div>
<div class="line"><a id="l04543" name="l04543"></a><span class="lineno"> 4543</span>HWND             _txConsole_Attach();</div>
<div class="line"><a id="l04544" name="l04544"></a><span class="lineno"> 4544</span><span class="keywordtype">bool</span>             _txConsole_OK();</div>
<div class="line"><a id="l04545" name="l04545"></a><span class="lineno"> 4545</span><span class="keywordtype">bool</span>             _txConsole_Detach (<span class="keywordtype">bool</span> activate);</div>
<div class="line"><a id="l04546" name="l04546"></a><span class="lineno"> 4546</span><span class="keywordtype">bool</span>             _txConsole_Draw (HDC dc);</div>
<div class="line"><a id="l04547" name="l04547"></a><span class="lineno"> 4547</span><span class="keywordtype">bool</span>             _txConsole_SetUnicodeFont();</div>
<div class="line"><a id="l04548" name="l04548"></a><span class="lineno"> 4548</span> </div>
<div class="line"><a id="l04549" name="l04549"></a><span class="lineno"> 4549</span><span class="keywordtype">int</span>              _txSetFinishedText (HWND wnd);</div>
<div class="line"><a id="l04550" name="l04550"></a><span class="lineno"> 4550</span><span class="keywordtype">void</span>             _txPauseBeforeTermination (HWND canvas);</div>
<div class="line"><a id="l04551" name="l04551"></a><span class="lineno"> 4551</span><span class="keywordtype">bool</span>             _txIsParentWaitable (DWORD* parentPID = NULL);</div>
<div class="line"><a id="l04552" name="l04552"></a><span class="lineno"> 4552</span>PROCESSENTRY32*  _txFindProcess (<span class="keywordtype">unsigned</span> pid = GetCurrentProcessId());</div>
<div class="line"><a id="l04553" name="l04553"></a><span class="lineno"> 4553</span><span class="keywordtype">bool</span>             _txKillProcess (DWORD pid);</div>
<div class="line"><a id="l04554" name="l04554"></a><span class="lineno"> 4554</span>PROC             _txSetProcAddress (HMODULE module, <span class="keyword">const</span> <span class="keywordtype">char</span>* dllName, <span class="keyword">const</span> <span class="keywordtype">char</span>* funcName, PROC newFunc);</div>
<div class="line"><a id="l04555" name="l04555"></a><span class="lineno"> 4555</span><span class="keywordtype">bool</span>             _txInDll();</div>
<div class="line"><a id="l04556" name="l04556"></a><span class="lineno"> 4556</span><span class="keywordtype">int</span>              _txGetInput();</div>
<div class="line"><a id="l04557" name="l04557"></a><span class="lineno"> 4557</span><span class="keywordtype">void</span>             _tx_cexit();</div>
<div class="line"><a id="l04558" name="l04558"></a><span class="lineno"> 4558</span> </div>
<div class="line"><a id="l04559" name="l04559"></a><span class="lineno"> 4559</span><span class="keywordtype">bool</span>             _txCreateShortcut (<span class="keyword">const</span> <span class="keywordtype">char</span> shortcutName[],</div>
<div class="line"><a id="l04560" name="l04560"></a><span class="lineno"> 4560</span>                                    <span class="keyword">const</span> <span class="keywordtype">char</span> fileToLink[], <span class="keyword">const</span> <span class="keywordtype">char</span> args[] = NULL, <span class="keyword">const</span> <span class="keywordtype">char</span> workDir[] = NULL,</div>
<div class="line"><a id="l04561" name="l04561"></a><span class="lineno"> 4561</span>                                    <span class="keyword">const</span> <span class="keywordtype">char</span> description[] = NULL, <span class="keywordtype">int</span> cmdShow = SW_SHOWNORMAL,</div>
<div class="line"><a id="l04562" name="l04562"></a><span class="lineno"> 4562</span>                                    <span class="keyword">const</span> <span class="keywordtype">char</span> iconFile[] = NULL, <span class="keywordtype">int</span> iconIndex = 0, <span class="keywordtype">int</span> fontSize = 0,</div>
<div class="line"><a id="l04563" name="l04563"></a><span class="lineno"> 4563</span>                                    COORD bufSize = <a class="code hl_define" href="group___misc.html#gade9b60c36576ef735b3e1d1f628ad9c6">ZERO</a> (COORD), COORD wndSize = <a class="code hl_define" href="group___misc.html#gade9b60c36576ef735b3e1d1f628ad9c6">ZERO</a> (COORD), COORD wndOrg = <a class="code hl_define" href="group___misc.html#gade9b60c36576ef735b3e1d1f628ad9c6">ZERO</a> (COORD));</div>
<div class="line"><a id="l04564" name="l04564"></a><span class="lineno"> 4564</span> </div>
<div class="line"><a id="l04565" name="l04565"></a><span class="lineno"> 4565</span><span class="keywordtype">void</span>*            _tx_DLGTEMPLATE_Create (<span class="keywordtype">void</span>* globalMem, <span class="keywordtype">size_t</span> bufsize, DWORD style, DWORD exStyle,</div>
<div class="line"><a id="l04566" name="l04566"></a><span class="lineno"> 4566</span>                                         WORD controls, <span class="keywordtype">short</span> x, <span class="keywordtype">short</span> y, <span class="keywordtype">short</span> cx, <span class="keywordtype">short</span> cy,</div>
<div class="line"><a id="l04567" name="l04567"></a><span class="lineno"> 4567</span>                                         <span class="keyword">const</span> <span class="keywordtype">char</span> caption[], <span class="keyword">const</span> <span class="keywordtype">char</span> font[], WORD fontsize,</div>
<div class="line"><a id="l04568" name="l04568"></a><span class="lineno"> 4568</span>                                         HANDLE menu);</div>
<div class="line"><a id="l04569" name="l04569"></a><span class="lineno"> 4569</span> </div>
<div class="line"><a id="l04570" name="l04570"></a><span class="lineno"> 4570</span><span class="keywordtype">void</span>*            _tx_DLGTEMPLATE_Add    (<span class="keywordtype">void</span>* dlgTemplatePtr, <span class="keywordtype">size_t</span> bufsize, DWORD style, DWORD exStyle,</div>
<div class="line"><a id="l04571" name="l04571"></a><span class="lineno"> 4571</span>                                         <span class="keywordtype">short</span> x, <span class="keywordtype">short</span> y, <span class="keywordtype">short</span> cx, <span class="keywordtype">short</span> cy,</div>
<div class="line"><a id="l04572" name="l04572"></a><span class="lineno"> 4572</span>                                         WORD <span class="keywordtype">id</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> wclass[], <span class="keyword">const</span> <span class="keywordtype">char</span> caption[]);</div>
<div class="line"><a id="l04573" name="l04573"></a><span class="lineno"> 4573</span> </div>
<div class="line"><a id="l04574" name="l04574"></a><span class="lineno"> 4574</span><span class="keyword">const</span> <span class="keywordtype">char</span>*      _txError        (<span class="keyword">const</span> <span class="keywordtype">char</span> file[] = NULL, <span class="keywordtype">int</span> line = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> func[] = NULL,</div>
<div class="line"><a id="l04575" name="l04575"></a><span class="lineno"> 4575</span>                                  <span class="keyword">const</span> <span class="keywordtype">char</span> msg[] = NULL, ...) _TX_CHECK_FORMAT (4);</div>
<div class="line"><a id="l04576" name="l04576"></a><span class="lineno"> 4576</span> </div>
<div class="line"><a id="l04577" name="l04577"></a><span class="lineno"> 4577</span>HICON            _txCreateTXIcon (<span class="keywordtype">int</span> size);</div>
<div class="line"><a id="l04578" name="l04578"></a><span class="lineno"> 4578</span> </div>
<div class="line"><a id="l04579" name="l04579"></a><span class="lineno"> 4579</span><span class="keywordtype">void</span>             _txOnSignal (<span class="keywordtype">int</span> signal = 0, <span class="keywordtype">int</span> fpe = 0);</div>
<div class="line"><a id="l04580" name="l04580"></a><span class="lineno"> 4580</span><span class="keywordtype">void</span>             _txOnTerminate();</div>
<div class="line"><a id="l04581" name="l04581"></a><span class="lineno"> 4581</span><span class="keywordtype">void</span>             _txOnUnexpected();</div>
<div class="line"><a id="l04582" name="l04582"></a><span class="lineno"> 4582</span> </div>
<div class="line"><a id="l04583" name="l04583"></a><span class="lineno"> 4583</span>FARPROC          _txDllImport (const <span class="keywordtype">char</span> dllFileName[], const <span class="keywordtype">char</span> funcName[], <span class="keywordtype">bool</span> required = true);</div>
<div class="line"><a id="l04584" name="l04584"></a><span class="lineno"> 4584</span> </div>
<div class="line"><a id="l04585" name="l04585"></a><span class="lineno"> 4585</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04586" name="l04586"></a><span class="lineno"> 4586</span> </div>
<div class="line"><a id="l04587" name="l04587"></a><span class="lineno"> 4587</span><span class="comment">// These are macros for __FILE__ and __LINE__ to work properly.</span></div>
<div class="line"><a id="l04588" name="l04588"></a><span class="lineno"> 4588</span> </div>
<div class="line"><a id="l04589" name="l04589"></a><span class="lineno"> 4589</span><span class="preprocessor">#if !defined (NDEBUG)</span></div>
<div class="line"><a id="l04590" name="l04590"></a><span class="lineno"> 4590</span><span class="preprocessor">    #define  _TX_IF_ARGUMENT_FAILED( cond )    if (!assert (cond) &amp;&amp; (SetLastErrorEx (ERROR_BAD_ARGUMENTS, 0),   1))</span></div>
<div class="line"><a id="l04591" name="l04591"></a><span class="lineno"> 4591</span> </div>
<div class="line"><a id="l04592" name="l04592"></a><span class="lineno"> 4592</span><span class="preprocessor">    #define  _TX_IF_TXWINDOW_FAILED            if (       !txOK() &amp;&amp; (SetLastErrorEx (ERROR_INVALID_DATA,  0),   1) &amp;&amp; \</span></div>
<div class="line"><a id="l04593" name="l04593"></a><span class="lineno"> 4593</span><span class="preprocessor">                                                  (TX_ERROR (&quot;\a&quot;</span> &quot;       &quot;), 1))</div>
<div class="line"><a id="l04594" name="l04594"></a><span class="lineno"> 4594</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l04595" name="l04595"></a><span class="lineno"> 4595</span><span class="preprocessor">    #define  _TX_IF_ARGUMENT_FAILED( cond )    if (!       (cond) &amp;&amp; (SetLastErrorEx (ERROR_BAD_ARGUMENTS, 0),   1))</span></div>
<div class="line"><a id="l04596" name="l04596"></a><span class="lineno"> 4596</span> </div>
<div class="line"><a id="l04597" name="l04597"></a><span class="lineno"> 4597</span><span class="preprocessor">    #define  _TX_IF_TXWINDOW_FAILED            if (       !txOK() &amp;&amp; (SetLastErrorEx (ERROR_INVALID_DATA,  0),   1))</span></div>
<div class="line"><a id="l04598" name="l04598"></a><span class="lineno"> 4598</span> </div>
<div class="line"><a id="l04599" name="l04599"></a><span class="lineno"> 4599</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04600" name="l04600"></a><span class="lineno"> 4600</span> </div>
<div class="line"><a id="l04601" name="l04601"></a><span class="lineno"> 4601</span><span class="comment">// Take action in debug configuration only.</span></div>
<div class="line"><a id="l04602" name="l04602"></a><span class="lineno"> 4602</span><span class="comment">// Definition ({ expr; }) would be better, but some old dinosaurs (yes it is MSVC 6) reject it. So sad. :&#39;(</span></div>
<div class="line"><a id="l04603" name="l04603"></a><span class="lineno"> 4603</span> </div>
<div class="line"><a id="l04604" name="l04604"></a><span class="lineno"> 4604</span><span class="preprocessor">#if !defined (NDEBUG)</span></div>
<div class="line"><a id="l04605" name="l04605"></a><span class="lineno"> 4605</span><span class="preprocessor">    #define  _TX_ON_DEBUG( code )              { code; }</span></div>
<div class="line"><a id="l04606" name="l04606"></a><span class="lineno"> 4606</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l04607" name="l04607"></a><span class="lineno"> 4607</span><span class="preprocessor">    #define  _TX_ON_DEBUG( code )              ;</span></div>
<div class="line"><a id="l04608" name="l04608"></a><span class="lineno"> 4608</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04609" name="l04609"></a><span class="lineno"> 4609</span> </div>
<div class="line"><a id="l04610" name="l04610"></a><span class="lineno"> 4610</span><span class="comment">// This is a macro because cond is an expression and not always a function. Lack of lambdas in pre-C++0x.</span></div>
<div class="line"><a id="l04611" name="l04611"></a><span class="lineno"> 4611</span> </div>
<div class="line"><a id="l04612" name="l04612"></a><span class="lineno"> 4612</span><span class="preprocessor">#define      _txWaitFor( cond, time )          { for (DWORD _t = GetTickCount() + (time); \</span></div>
<div class="line"><a id="l04613" name="l04613"></a><span class="lineno"> 4613</span><span class="preprocessor">                                                      !(cond) &amp;&amp; GetTickCount() &lt; _t;     \</span></div>
<div class="line"><a id="l04614" name="l04614"></a><span class="lineno"> 4614</span><span class="preprocessor">                                                      Sleep (_txWindowUpdateInterval)) ;  \</span></div>
<div class="line"><a id="l04615" name="l04615"></a><span class="lineno"> 4615</span><span class="preprocessor">                                                 if  (!(cond))                            \</span></div>
<div class="line"><a id="l04616" name="l04616"></a><span class="lineno"> 4616</span><span class="preprocessor">                                                      _txTrace (__FILE__, __LINE__, &quot;WARNING: Timeout: &quot;</span> #cond &quot;.&quot;); }</div>
<div class="line"><a id="l04617" name="l04617"></a><span class="lineno"> 4617</span><span class="comment">//}</span></div>
<div class="line"><a id="l04618" name="l04618"></a><span class="lineno"> 4618</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04619" name="l04619"></a><span class="lineno"> 4619</span> </div>
<div class="line"><a id="l04620" name="l04620"></a><span class="lineno"> 4620</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04621" name="l04621"></a><span class="lineno"> 4621</span><span class="comment">//{          [Internal] DLL functions import</span></div>
<div class="line"><a id="l04623" name="l04623"></a><span class="lineno"> 4623</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04625" name="l04625"></a><span class="lineno"> 4625</span><span class="comment"></span> </div>
<div class="line"><a id="l04626" name="l04626"></a><span class="lineno"> 4626</span>FARPROC _txDllImport (<span class="keyword">const</span> <span class="keywordtype">char</span> dllFileName[], <span class="keyword">const</span> <span class="keywordtype">char</span> funcName[], <span class="keywordtype">bool</span> required <span class="comment">/*= true*/</span>)</div>
<div class="line"><a id="l04627" name="l04627"></a><span class="lineno"> 4627</span>    {</div>
<div class="line"><a id="l04628" name="l04628"></a><span class="lineno"> 4628</span>    _TX_IF_ARGUMENT_FAILED (!(dllFileName &amp;&amp; !*dllFileName)) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l04629" name="l04629"></a><span class="lineno"> 4629</span>    _TX_IF_ARGUMENT_FAILED (  funcName    &amp;&amp;  *funcName)     <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l04630" name="l04630"></a><span class="lineno"> 4630</span> </div>
<div class="line"><a id="l04631" name="l04631"></a><span class="lineno"> 4631</span>    HMODULE                  dll = GetModuleHandle (dllFileName);</div>
<div class="line"><a id="l04632" name="l04632"></a><span class="lineno"> 4632</span>    <span class="keywordflow">if</span> (!dll &amp;&amp; dllFileName) dll = LoadLibrary     (dllFileName);</div>
<div class="line"><a id="l04633" name="l04633"></a><span class="lineno"> 4633</span>    <span class="keywordflow">if</span> (!dll &amp;&amp; required)  <a class="code hl_define" href="group___misc.html#ga3e4a82a10130528f63b6f19476a0943a">TX_ERROR</a> (<span class="stringliteral">&quot;\a&quot;</span> <span class="stringliteral">&quot;Cannot load library \&quot;%s\&quot;&quot;</span> <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> dllFileName);</div>
<div class="line"><a id="l04634" name="l04634"></a><span class="lineno"> 4634</span> </div>
<div class="line"><a id="l04635" name="l04635"></a><span class="lineno"> 4635</span>    <span class="keywordflow">if</span> (!dll) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l04636" name="l04636"></a><span class="lineno"> 4636</span> </div>
<div class="line"><a id="l04637" name="l04637"></a><span class="lineno"> 4637</span>    FARPROC addr = GetProcAddress (dll, funcName);</div>
<div class="line"><a id="l04638" name="l04638"></a><span class="lineno"> 4638</span>    <span class="keywordflow">if</span> (!addr &amp;&amp; required) <a class="code hl_define" href="group___misc.html#ga3e4a82a10130528f63b6f19476a0943a">TX_ERROR</a> (<span class="stringliteral">&quot;\a&quot;</span> <span class="stringliteral">&quot;Cannot import \&quot;%s\&quot; from library \&quot;%s\&quot;&quot;</span> <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> funcName <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> dllFileName);</div>
<div class="line"><a id="l04639" name="l04639"></a><span class="lineno"> 4639</span> </div>
<div class="line"><a id="l04640" name="l04640"></a><span class="lineno"> 4640</span>    <span class="keywordflow">return</span> addr;</div>
<div class="line"><a id="l04641" name="l04641"></a><span class="lineno"> 4641</span>    }</div>
<div class="line"><a id="l04642" name="l04642"></a><span class="lineno"> 4642</span> </div>
<div class="line"><a id="l04643" name="l04643"></a><span class="lineno"> 4643</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04644" name="l04644"></a><span class="lineno"> 4644</span><span class="comment">//           Import helpers</span></div>
<div class="line"><a id="l04645" name="l04645"></a><span class="lineno"> 4645</span><span class="comment">//            </span></div>
<div class="line"><a id="l04646" name="l04646"></a><span class="lineno"> 4646</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04647" name="l04647"></a><span class="lineno"> 4647</span> </div>
<div class="line"><a id="l04648" name="l04648"></a><span class="lineno"> 4648</span><span class="preprocessor">#define _TX_DLLIMPORT(     lib, retval, name, params ) \</span></div>
<div class="line"><a id="l04649" name="l04649"></a><span class="lineno"> 4649</span><span class="preprocessor">     retval (WINAPI* name) params = (retval (WINAPI*) params) _txDllImport (lib &quot;.dll&quot;</span>, #name, true)</div>
<div class="line"><a id="l04650" name="l04650"></a><span class="lineno"> 4650</span> </div>
<div class="line"><a id="l04651" name="l04651"></a><span class="lineno"> 4651</span><span class="preprocessor">#define _TX_DLLIMPORT_OPT( lib, retval, name, params ) \</span></div>
<div class="line"><a id="l04652" name="l04652"></a><span class="lineno"> 4652</span><span class="preprocessor">     retval (WINAPI* name) params = (retval (WINAPI*) params) _txDllImport (lib &quot;.dll&quot;</span>, #name, false)</div>
<div class="line"><a id="l04653" name="l04653"></a><span class="lineno"> 4653</span> </div>
<div class="line"><a id="l04654" name="l04654"></a><span class="lineno"> 4654</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04655" name="l04655"></a><span class="lineno"> 4655</span><span class="comment">// Some IDEs don&#39;t link with these libs by default in console projects, so do sunrise by hand. :(</span></div>
<div class="line"><a id="l04656" name="l04656"></a><span class="lineno"> 4656</span><span class="comment">//{ &lt;tears&gt;</span></div>
<div class="line"><a id="l04657" name="l04657"></a><span class="lineno"> 4657</span> </div>
<div class="line"><a id="l04658" name="l04658"></a><span class="lineno"> 4658</span><span class="keyword">namespace </span>Win32 {</div>
<div class="line"><a id="l04659" name="l04659"></a><span class="lineno"> 4659</span> </div>
<div class="line"><a id="l04660" name="l04660"></a><span class="lineno"> 4660</span><span class="preprocessor">#ifdef _MSC_VER_6</span></div>
<div class="line"><a id="l04661" name="l04661"></a><span class="lineno"> 4661</span><span class="keyword">struct </span>CONSOLE_FONT_INFO;</div>
<div class="line"><a id="l04662" name="l04662"></a><span class="lineno"> 4662</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04663" name="l04663"></a><span class="lineno"> 4663</span> </div>
<div class="line"><a id="l04664" name="l04664"></a><span class="lineno"> 4664</span><span class="keyword">struct </span>NT_CONSOLE_PROPS;</div>
<div class="line"><a id="l04665" name="l04665"></a><span class="lineno"> 4665</span><span class="keyword">struct </span>CONSOLE_FONT_INFOEX;</div>
<div class="line"><a id="l04666" name="l04666"></a><span class="lineno"> 4666</span> </div>
<div class="line"><a id="l04667" name="l04667"></a><span class="lineno"> 4667</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    HDC,      CreateCompatibleDC,       (HDC dc));</div>
<div class="line"><a id="l04668" name="l04668"></a><span class="lineno"> 4668</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    HBITMAP,  CreateCompatibleBitmap,   (HDC dc, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height));</div>
<div class="line"><a id="l04669" name="l04669"></a><span class="lineno"> 4669</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    HGDIOBJ,  GetStockObject,           (<span class="keywordtype">int</span> <span class="keywordtype">object</span>));</div>
<div class="line"><a id="l04670" name="l04670"></a><span class="lineno"> 4670</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    HGDIOBJ,  SelectObject,             (HDC dc, HGDIOBJ <span class="keywordtype">object</span>));</div>
<div class="line"><a id="l04671" name="l04671"></a><span class="lineno"> 4671</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    HGDIOBJ,  GetCurrentObject,         (HDC dc, <span class="keywordtype">unsigned</span> objectType));</div>
<div class="line"><a id="l04672" name="l04672"></a><span class="lineno"> 4672</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    <span class="keywordtype">int</span>,      GetObjectA,               (HGDIOBJ obj, <span class="keywordtype">int</span> bufsize, <span class="keywordtype">void</span>* buffer));</div>
<div class="line"><a id="l04673" name="l04673"></a><span class="lineno"> 4673</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    DWORD,    GetObjectType,            (HGDIOBJ <span class="keywordtype">object</span>));</div>
<div class="line"><a id="l04674" name="l04674"></a><span class="lineno"> 4674</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     DeleteDC,                 (HDC dc));</div>
<div class="line"><a id="l04675" name="l04675"></a><span class="lineno"> 4675</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     DeleteObject,             (HGDIOBJ <span class="keywordtype">object</span>));</div>
<div class="line"><a id="l04676" name="l04676"></a><span class="lineno"> 4676</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    COLORREF, SetTextColor,             (HDC dc, COLORREF color));</div>
<div class="line"><a id="l04677" name="l04677"></a><span class="lineno"> 4677</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    COLORREF, SetBkColor,               (HDC dc, COLORREF color));</div>
<div class="line"><a id="l04678" name="l04678"></a><span class="lineno"> 4678</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    <span class="keywordtype">int</span>,      SetBkMode,                (HDC dc, <span class="keywordtype">int</span> bkMode));</div>
<div class="line"><a id="l04679" name="l04679"></a><span class="lineno"> 4679</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    HFONT,    CreateFontA,              (<span class="keywordtype">int</span> height, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> escapement, <span class="keywordtype">int</span> orientation,</div>
<div class="line"><a id="l04680" name="l04680"></a><span class="lineno"> 4680</span>                                                                    <span class="keywordtype">int</span> weight, DWORD italic, DWORD underline, DWORD strikeout,</div>
<div class="line"><a id="l04681" name="l04681"></a><span class="lineno"> 4681</span>                                                                    DWORD charSet, DWORD outputPrec, DWORD clipPrec,</div>
<div class="line"><a id="l04682" name="l04682"></a><span class="lineno"> 4682</span>                                                                    DWORD quality, DWORD pitchAndFamily, <span class="keyword">const</span> <span class="keywordtype">char</span> face[]));</div>
<div class="line"><a id="l04683" name="l04683"></a><span class="lineno"> 4683</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    <span class="keywordtype">int</span>,      EnumFontFamiliesExA,      (HDC dc, LPLOGFONT logFont, FONTENUMPROC enumProc,</div>
<div class="line"><a id="l04684" name="l04684"></a><span class="lineno"> 4684</span>                                                                    LPARAM lParam, DWORD reserved));</div>
<div class="line"><a id="l04685" name="l04685"></a><span class="lineno"> 4685</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    COLORREF, SetPixel,                 (HDC dc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, COLORREF color));</div>
<div class="line"><a id="l04686" name="l04686"></a><span class="lineno"> 4686</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    COLORREF, GetPixel,                 (HDC dc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y));</div>
<div class="line"><a id="l04687" name="l04687"></a><span class="lineno"> 4687</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    HPEN,     CreatePen,                (<span class="keywordtype">int</span> penStyle, <span class="keywordtype">int</span> width, COLORREF color));</div>
<div class="line"><a id="l04688" name="l04688"></a><span class="lineno"> 4688</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    HBRUSH,   CreateSolidBrush,         (COLORREF color));</div>
<div class="line"><a id="l04689" name="l04689"></a><span class="lineno"> 4689</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     MoveToEx,                 (HDC dc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, POINT* point));</div>
<div class="line"><a id="l04690" name="l04690"></a><span class="lineno"> 4690</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     LineTo,                   (HDC dc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y));</div>
<div class="line"><a id="l04691" name="l04691"></a><span class="lineno"> 4691</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     Polygon,                  (HDC dc, <span class="keyword">const</span> POINT points[], <span class="keywordtype">int</span> count));</div>
<div class="line"><a id="l04692" name="l04692"></a><span class="lineno"> 4692</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     Rectangle,                (HDC dc, <span class="keywordtype">int</span> x0, <span class="keywordtype">int</span> y0, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1));</div>
<div class="line"><a id="l04693" name="l04693"></a><span class="lineno"> 4693</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     RoundRect,                (HDC dc, <span class="keywordtype">int</span> x0, <span class="keywordtype">int</span> y0, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, <span class="keywordtype">int</span> sizeX, <span class="keywordtype">int</span> sizeY));</div>
<div class="line"><a id="l04694" name="l04694"></a><span class="lineno"> 4694</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     Ellipse,                  (HDC dc, <span class="keywordtype">int</span> x0, <span class="keywordtype">int</span> y0, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1));</div>
<div class="line"><a id="l04695" name="l04695"></a><span class="lineno"> 4695</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     Arc,                      (HDC dc, <span class="keywordtype">int</span> x0, <span class="keywordtype">int</span> y0, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1,</div>
<div class="line"><a id="l04696" name="l04696"></a><span class="lineno"> 4696</span>                                                                    <span class="keywordtype">int</span> xStart, <span class="keywordtype">int</span> yStart, <span class="keywordtype">int</span> xEnd, <span class="keywordtype">int</span> yEnd));</div>
<div class="line"><a id="l04697" name="l04697"></a><span class="lineno"> 4697</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     Pie,                      (HDC dc, <span class="keywordtype">int</span> x0, <span class="keywordtype">int</span> y0, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1,</div>
<div class="line"><a id="l04698" name="l04698"></a><span class="lineno"> 4698</span>                                                                    <span class="keywordtype">int</span> xStart, <span class="keywordtype">int</span> yStart, <span class="keywordtype">int</span> xEnd, <span class="keywordtype">int</span> yEnd));</div>
<div class="line"><a id="l04699" name="l04699"></a><span class="lineno"> 4699</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     Chord,                    (HDC dc, <span class="keywordtype">int</span> x0, <span class="keywordtype">int</span> y0, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1,</div>
<div class="line"><a id="l04700" name="l04700"></a><span class="lineno"> 4700</span>                                                                    <span class="keywordtype">int</span> xStart, <span class="keywordtype">int</span> yStart, <span class="keywordtype">int</span> xEnd, <span class="keywordtype">int</span> yEnd));</div>
<div class="line"><a id="l04701" name="l04701"></a><span class="lineno"> 4701</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     TextOutA,                 (HDC dc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">char</span> <span class="keywordtype">string</span>[], <span class="keywordtype">int</span> length));</div>
<div class="line"><a id="l04702" name="l04702"></a><span class="lineno"> 4702</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    UINT,     SetTextAlign,             (HDC dc, <span class="keywordtype">unsigned</span> mode));</div>
<div class="line"><a id="l04703" name="l04703"></a><span class="lineno"> 4703</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     GetTextExtentPoint32A,    (HDC dc, <span class="keyword">const</span> <span class="keywordtype">char</span> <span class="keywordtype">string</span>[], <span class="keywordtype">int</span> length, SIZE* size));</div>
<div class="line"><a id="l04704" name="l04704"></a><span class="lineno"> 4704</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     ExtFloodFill,             (HDC dc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, COLORREF color, <span class="keywordtype">unsigned</span> type));</div>
<div class="line"><a id="l04705" name="l04705"></a><span class="lineno"> 4705</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     BitBlt,                   (HDC dest, <span class="keywordtype">int</span> xDest, <span class="keywordtype">int</span> yDest, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height,</div>
<div class="line"><a id="l04706" name="l04706"></a><span class="lineno"> 4706</span>                                                                    HDC src,  <span class="keywordtype">int</span> xSrc,  <span class="keywordtype">int</span> ySrc,  DWORD rOp));</div>
<div class="line"><a id="l04707" name="l04707"></a><span class="lineno"> 4707</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    <span class="keywordtype">int</span>,      SetDIBitsToDevice,        (HDC dc, <span class="keywordtype">int</span> xDest, <span class="keywordtype">int</span> yDest, DWORD width, DWORD height,</div>
<div class="line"><a id="l04708" name="l04708"></a><span class="lineno"> 4708</span>                                                                    <span class="keywordtype">int</span> xSrc, <span class="keywordtype">int</span> ySrc, <span class="keywordtype">unsigned</span> startLine, <span class="keywordtype">unsigned</span> numLines,</div>
<div class="line"><a id="l04709" name="l04709"></a><span class="lineno"> 4709</span>                                                                    <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <span class="keyword">const</span> BITMAPINFO* info, <span class="keywordtype">unsigned</span> colorUse));</div>
<div class="line"><a id="l04710" name="l04710"></a><span class="lineno"> 4710</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    <span class="keywordtype">int</span>,      GetDIBits,                (HDC hdc, HBITMAP hbmp, <span class="keywordtype">unsigned</span> uStartScan, <span class="keywordtype">unsigned</span> cScanLines,</div>
<div class="line"><a id="l04711" name="l04711"></a><span class="lineno"> 4711</span>                                                                    <span class="keywordtype">void</span>* lpvBits, BITMAPINFO* lpbi, <span class="keywordtype">unsigned</span> usage));</div>
<div class="line"><a id="l04712" name="l04712"></a><span class="lineno"> 4712</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     PatBlt,                   (HDC dc, <span class="keywordtype">int</span> x0, <span class="keywordtype">int</span> y0, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, DWORD rOp));</div>
<div class="line"><a id="l04713" name="l04713"></a><span class="lineno"> 4713</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    <span class="keywordtype">int</span>,      SetROP2,                  (HDC dc, <span class="keywordtype">int</span> mode));</div>
<div class="line"><a id="l04714" name="l04714"></a><span class="lineno"> 4714</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    HRGN,     CreateRectRgn,            (<span class="keywordtype">int</span> x0, <span class="keywordtype">int</span> y0, <span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1));</div>
<div class="line"><a id="l04715" name="l04715"></a><span class="lineno"> 4715</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;GDI32&quot;</span>,    BOOL,     GetBitmapDimensionEx,     (HBITMAP bitmap, SIZE* dimensions));</div>
<div class="line"><a id="l04716" name="l04716"></a><span class="lineno"> 4716</span> </div>
<div class="line"><a id="l04717" name="l04717"></a><span class="lineno"> 4717</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;User32&quot;</span>,   <span class="keywordtype">int</span>,      DrawTextA,                (HDC dc, <span class="keyword">const</span> <span class="keywordtype">char</span> text[], <span class="keywordtype">int</span> length, RECT* rect, <span class="keywordtype">unsigned</span> format));</div>
<div class="line"><a id="l04718" name="l04718"></a><span class="lineno"> 4718</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;User32&quot;</span>,   HANDLE,   LoadImageA,               (HINSTANCE inst, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], <span class="keywordtype">unsigned</span> type,</div>
<div class="line"><a id="l04719" name="l04719"></a><span class="lineno"> 4719</span>                                                                   <span class="keywordtype">int</span> sizex, <span class="keywordtype">int</span> sizey, <span class="keywordtype">unsigned</span> mode));</div>
<div class="line"><a id="l04720" name="l04720"></a><span class="lineno"> 4720</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;User32&quot;</span>,   BOOL,     IsHungAppWindow,          (HWND wnd));</div>
<div class="line"><a id="l04721" name="l04721"></a><span class="lineno"> 4721</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;User32&quot;</span>,   HWND,     GhostWindowFromHungWindow,(HWND wnd));</div>
<div class="line"><a id="l04722" name="l04722"></a><span class="lineno"> 4722</span> </div>
<div class="line"><a id="l04723" name="l04723"></a><span class="lineno"> 4723</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;WinMM&quot;</span>,    BOOL,     PlaySound,                (<span class="keyword">const</span> <span class="keywordtype">char</span> sound[], HMODULE mod, DWORD mode));</div>
<div class="line"><a id="l04724" name="l04724"></a><span class="lineno"> 4724</span> </div>
<div class="line"><a id="l04725" name="l04725"></a><span class="lineno"> 4725</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;MSImg32&quot;</span>,  BOOL,     TransparentBlt,           (HDC dest, <span class="keywordtype">int</span> destX, <span class="keywordtype">int</span> destY, <span class="keywordtype">int</span> destWidth, <span class="keywordtype">int</span> destHeight,</div>
<div class="line"><a id="l04726" name="l04726"></a><span class="lineno"> 4726</span>                                                                    HDC src,  <span class="keywordtype">int</span> srcX,  <span class="keywordtype">int</span> srcY,  <span class="keywordtype">int</span> srcWidth,  <span class="keywordtype">int</span> srcHeight,</div>
<div class="line"><a id="l04727" name="l04727"></a><span class="lineno"> 4727</span>                                                                    <span class="keywordtype">unsigned</span> transparentColor));</div>
<div class="line"><a id="l04728" name="l04728"></a><span class="lineno"> 4728</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;MSImg32&quot;</span>,  BOOL,     AlphaBlend,               (HDC dest, <span class="keywordtype">int</span> destX, <span class="keywordtype">int</span> destY, <span class="keywordtype">int</span> destWidth, <span class="keywordtype">int</span> destHeight,</div>
<div class="line"><a id="l04729" name="l04729"></a><span class="lineno"> 4729</span>                                                                    HDC src,  <span class="keywordtype">int</span> srcX,  <span class="keywordtype">int</span> srcY,  <span class="keywordtype">int</span> srcWidth,  <span class="keywordtype">int</span> srcHeight,</div>
<div class="line"><a id="l04730" name="l04730"></a><span class="lineno"> 4730</span>                                                                    BLENDFUNCTION blending));</div>
<div class="line"><a id="l04731" name="l04731"></a><span class="lineno"> 4731</span> </div>
<div class="line"><a id="l04732" name="l04732"></a><span class="lineno"> 4732</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;Kernel32&quot;</span>, HWND,     GetConsoleWindow,         (<span class="keywordtype">void</span>));</div>
<div class="line"><a id="l04733" name="l04733"></a><span class="lineno"> 4733</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;Kernel32&quot;</span>, BOOL,     SetConsoleFont,           (HANDLE con, DWORD fontIndex));</div>
<div class="line"><a id="l04734" name="l04734"></a><span class="lineno"> 4734</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;Kernel32&quot;</span>, BOOL,     GetConsoleFontInfo,       (HANDLE con, <span class="keywordtype">bool</span> fullScr, DWORD nFonts, CONSOLE_FONT_INFO* info));</div>
<div class="line"><a id="l04735" name="l04735"></a><span class="lineno"> 4735</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;Kernel32&quot;</span>, DWORD,    GetNumberOfConsoleFonts,  (<span class="keywordtype">void</span>));</div>
<div class="line"><a id="l04736" name="l04736"></a><span class="lineno"> 4736</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;Kernel32&quot;</span>, BOOL,     GetCurrentConsoleFont,    (HANDLE con, <span class="keywordtype">bool</span> maxWnd, CONSOLE_FONT_INFO*   curFont));</div>
<div class="line"><a id="l04737" name="l04737"></a><span class="lineno"> 4737</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;Kernel32&quot;</span>, BOOL,     GetCurrentConsoleFontEx,  (HANDLE con, <span class="keywordtype">bool</span> maxWnd, CONSOLE_FONT_INFOEX* curFont));</div>
<div class="line"><a id="l04738" name="l04738"></a><span class="lineno"> 4738</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;Kernel32&quot;</span>, BOOL,     SetCurrentConsoleFontEx,  (HANDLE con, <span class="keywordtype">bool</span> maxWnd, CONSOLE_FONT_INFOEX* curFont));</div>
<div class="line"><a id="l04739" name="l04739"></a><span class="lineno"> 4739</span> </div>
<div class="line"><a id="l04740" name="l04740"></a><span class="lineno"> 4740</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;OLE32&quot;</span>,    HRESULT,  CoInitialize,             (<span class="keywordtype">void</span>*));</div>
<div class="line"><a id="l04741" name="l04741"></a><span class="lineno"> 4741</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;OLE32&quot;</span>,    HRESULT,  CoCreateInstance,         (REFCLSID clsid, LPUNKNOWN, DWORD, REFIID iid, PVOID* value));</div>
<div class="line"><a id="l04742" name="l04742"></a><span class="lineno"> 4742</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;OLE32&quot;</span>,    <span class="keywordtype">void</span>,     CoUninitialize,           (<span class="keywordtype">void</span>));</div>
<div class="line"><a id="l04743" name="l04743"></a><span class="lineno"> 4743</span> </div>
<div class="line"><a id="l04744" name="l04744"></a><span class="lineno"> 4744</span>_TX_DLLIMPORT     (<span class="stringliteral">&quot;Shell32&quot;</span>,  HINSTANCE,ShellExecuteA,            (HWND wnd, <span class="keyword">const</span> <span class="keywordtype">char</span> operation[], <span class="keyword">const</span> <span class="keywordtype">char</span> file[],</div>
<div class="line"><a id="l04745" name="l04745"></a><span class="lineno"> 4745</span>                                                                    <span class="keyword">const</span> <span class="keywordtype">char</span> parameters[], <span class="keyword">const</span> <span class="keywordtype">char</span> directory[], <span class="keywordtype">int</span> showCmd));</div>
<div class="line"><a id="l04746" name="l04746"></a><span class="lineno"> 4746</span> </div>
<div class="line"><a id="l04747" name="l04747"></a><span class="lineno"> 4747</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;NTDLL&quot;</span>,    <span class="keywordtype">char</span>*,    wine_get_version,         (<span class="keywordtype">void</span>));</div>
<div class="line"><a id="l04748" name="l04748"></a><span class="lineno"> 4748</span> </div>
<div class="line"><a id="l04749" name="l04749"></a><span class="lineno"> 4749</span>_TX_DLLIMPORT_OPT (<span class="stringliteral">&quot;MSVCRT&quot;</span>,   <span class="keywordtype">void</span>,     _cexit,                   (<span class="keywordtype">void</span>));</div>
<div class="line"><a id="l04750" name="l04750"></a><span class="lineno"> 4750</span> </div>
<div class="line"><a id="l04751" name="l04751"></a><span class="lineno"> 4751</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04752" name="l04752"></a><span class="lineno"> 4752</span><span class="comment">// Another issue, some of structs, consts and interfaces aren&#39;t defined in MinGW some ealry headers.</span></div>
<div class="line"><a id="l04753" name="l04753"></a><span class="lineno"> 4753</span><span class="comment">// Copied from Windows SDK 7.0a.</span></div>
<div class="line"><a id="l04754" name="l04754"></a><span class="lineno"> 4754</span> </div>
<div class="line"><a id="l04755" name="l04755"></a><span class="lineno"> 4755</span><span class="preprocessor">#ifndef AC_SRC_ALPHA</span></div>
<div class="line"><a id="l04756" name="l04756"></a><span class="lineno"> 4756</span><span class="preprocessor">#define AC_SRC_ALPHA          0x01</span></div>
<div class="line"><a id="l04757" name="l04757"></a><span class="lineno"> 4757</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04758" name="l04758"></a><span class="lineno"> 4758</span> </div>
<div class="line"><a id="l04759" name="l04759"></a><span class="lineno"> 4759</span><span class="preprocessor">#ifndef SMTO_ERRORONEXIT</span></div>
<div class="line"><a id="l04760" name="l04760"></a><span class="lineno"> 4760</span><span class="preprocessor">#define SMTO_ERRORONEXIT      0x0020</span></div>
<div class="line"><a id="l04761" name="l04761"></a><span class="lineno"> 4761</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04762" name="l04762"></a><span class="lineno"> 4762</span> </div>
<div class="line"><a id="l04763" name="l04763"></a><span class="lineno"> 4763</span><span class="preprocessor">#ifndef NT_CONSOLE_PROPS_SIG</span></div>
<div class="line"><a id="l04764" name="l04764"></a><span class="lineno"> 4764</span><span class="preprocessor">#define NT_CONSOLE_PROPS_SIG  0xA0000002</span></div>
<div class="line"><a id="l04765" name="l04765"></a><span class="lineno"> 4765</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04766" name="l04766"></a><span class="lineno"> 4766</span> </div>
<div class="line"><a id="l04767" name="l04767"></a><span class="lineno"> 4767</span><span class="preprocessor">#ifndef NIIF_INFO</span></div>
<div class="line"><a id="l04768" name="l04768"></a><span class="lineno"> 4768</span><span class="preprocessor">#define NIIF_INFO             0x00000001</span></div>
<div class="line"><a id="l04769" name="l04769"></a><span class="lineno"> 4769</span><span class="preprocessor">#define NIIF_WARNING          0x00000002</span></div>
<div class="line"><a id="l04770" name="l04770"></a><span class="lineno"> 4770</span><span class="preprocessor">#define NIIF_ERROR            0x00000003</span></div>
<div class="line"><a id="l04771" name="l04771"></a><span class="lineno"> 4771</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04772" name="l04772"></a><span class="lineno"> 4772</span> </div>
<div class="line"><a id="l04773" name="l04773"></a><span class="lineno"> 4773</span><span class="preprocessor">#ifndef NIF_INFO</span></div>
<div class="line"><a id="l04774" name="l04774"></a><span class="lineno"> 4774</span><span class="preprocessor">#define NIF_STATE             0x00000008</span></div>
<div class="line"><a id="l04775" name="l04775"></a><span class="lineno"> 4775</span><span class="preprocessor">#define NIF_INFO              0x00000010</span></div>
<div class="line"><a id="l04776" name="l04776"></a><span class="lineno"> 4776</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04777" name="l04777"></a><span class="lineno"> 4777</span> </div>
<div class="line"><a id="l04778" name="l04778"></a><span class="lineno"> 4778</span><span class="preprocessor">#pragma pack (push, 1)</span></div>
<div class="line"><a id="l04779" name="l04779"></a><span class="lineno"> 4779</span> </div>
<div class="line"><a id="l04780" name="l04780"></a><span class="lineno"> 4780</span><span class="preprocessor">#ifdef _MSC_VER_6</span></div>
<div class="line"><a id="l04781" name="l04781"></a><span class="lineno"> 4781</span> </div>
<div class="line"><a id="l04782" name="l04782"></a><span class="lineno"> 4782</span><span class="keyword">struct </span>CONSOLE_FONT_INFO</div>
<div class="line"><a id="l04783" name="l04783"></a><span class="lineno"> 4783</span>    {</div>
<div class="line"><a id="l04784" name="l04784"></a><span class="lineno"> 4784</span>    DWORD  nFont;</div>
<div class="line"><a id="l04785" name="l04785"></a><span class="lineno"> 4785</span>    COORD  dwFontSize;</div>
<div class="line"><a id="l04786" name="l04786"></a><span class="lineno"> 4786</span>    };</div>
<div class="line"><a id="l04787" name="l04787"></a><span class="lineno"> 4787</span> </div>
<div class="line"><a id="l04788" name="l04788"></a><span class="lineno"> 4788</span><span class="keyword">struct </span>NOTIFYICONDATA</div>
<div class="line"><a id="l04789" name="l04789"></a><span class="lineno"> 4789</span>    {</div>
<div class="line"><a id="l04790" name="l04790"></a><span class="lineno"> 4790</span>    DWORD cbSize;</div>
<div class="line"><a id="l04791" name="l04791"></a><span class="lineno"> 4791</span>    HWND  hWnd;</div>
<div class="line"><a id="l04792" name="l04792"></a><span class="lineno"> 4792</span>    UINT  uID;</div>
<div class="line"><a id="l04793" name="l04793"></a><span class="lineno"> 4793</span>    UINT  uFlags;</div>
<div class="line"><a id="l04794" name="l04794"></a><span class="lineno"> 4794</span>    UINT  uCallbackMessage;</div>
<div class="line"><a id="l04795" name="l04795"></a><span class="lineno"> 4795</span>    HICON hIcon;</div>
<div class="line"><a id="l04796" name="l04796"></a><span class="lineno"> 4796</span> </div>
<div class="line"><a id="l04797" name="l04797"></a><span class="lineno"> 4797</span>    CHAR  szTip[128];</div>
<div class="line"><a id="l04798" name="l04798"></a><span class="lineno"> 4798</span>    DWORD dwState;</div>
<div class="line"><a id="l04799" name="l04799"></a><span class="lineno"> 4799</span>    DWORD dwStateMask;</div>
<div class="line"><a id="l04800" name="l04800"></a><span class="lineno"> 4800</span>    CHAR  szInfo[256];</div>
<div class="line"><a id="l04801" name="l04801"></a><span class="lineno"> 4801</span> </div>
<div class="line"><a id="l04802" name="l04802"></a><span class="lineno"> 4802</span>    <span class="keyword">union </span>{</div>
<div class="line"><a id="l04803" name="l04803"></a><span class="lineno"> 4803</span>        UINT uTimeout;</div>
<div class="line"><a id="l04804" name="l04804"></a><span class="lineno"> 4804</span>        UINT uVersion;</div>
<div class="line"><a id="l04805" name="l04805"></a><span class="lineno"> 4805</span>        } u;</div>
<div class="line"><a id="l04806" name="l04806"></a><span class="lineno"> 4806</span> </div>
<div class="line"><a id="l04807" name="l04807"></a><span class="lineno"> 4807</span>    CHAR  szInfoTitle[64];</div>
<div class="line"><a id="l04808" name="l04808"></a><span class="lineno"> 4808</span>    DWORD dwInfoFlags;</div>
<div class="line"><a id="l04809" name="l04809"></a><span class="lineno"> 4809</span>    };</div>
<div class="line"><a id="l04810" name="l04810"></a><span class="lineno"> 4810</span> </div>
<div class="line"><a id="l04811" name="l04811"></a><span class="lineno"> 4811</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04812" name="l04812"></a><span class="lineno"> 4812</span> </div>
<div class="line"><a id="l04813" name="l04813"></a><span class="lineno"> 4813</span><span class="keyword">struct </span>CONSOLE_FONT_INFOEX</div>
<div class="line"><a id="l04814" name="l04814"></a><span class="lineno"> 4814</span>    {</div>
<div class="line"><a id="l04815" name="l04815"></a><span class="lineno"> 4815</span>    ULONG cbSize;</div>
<div class="line"><a id="l04816" name="l04816"></a><span class="lineno"> 4816</span>    DWORD nFont;</div>
<div class="line"><a id="l04817" name="l04817"></a><span class="lineno"> 4817</span>    COORD dwFontSize;</div>
<div class="line"><a id="l04818" name="l04818"></a><span class="lineno"> 4818</span>    UINT  FontFamily;</div>
<div class="line"><a id="l04819" name="l04819"></a><span class="lineno"> 4819</span>    UINT  FontWeight;</div>
<div class="line"><a id="l04820" name="l04820"></a><span class="lineno"> 4820</span>    WCHAR FaceName[LF_FACESIZE];</div>
<div class="line"><a id="l04821" name="l04821"></a><span class="lineno"> 4821</span>    };</div>
<div class="line"><a id="l04822" name="l04822"></a><span class="lineno"> 4822</span> </div>
<div class="line"><a id="l04823" name="l04823"></a><span class="lineno"> 4823</span><span class="keyword">struct </span>DATABLOCK_HEADER</div>
<div class="line"><a id="l04824" name="l04824"></a><span class="lineno"> 4824</span>    {</div>
<div class="line"><a id="l04825" name="l04825"></a><span class="lineno"> 4825</span>    DWORD cbSize;</div>
<div class="line"><a id="l04826" name="l04826"></a><span class="lineno"> 4826</span>    DWORD dwSignature;</div>
<div class="line"><a id="l04827" name="l04827"></a><span class="lineno"> 4827</span>    };</div>
<div class="line"><a id="l04828" name="l04828"></a><span class="lineno"> 4828</span> </div>
<div class="line"><a id="l04829" name="l04829"></a><span class="lineno"> 4829</span><span class="keyword">struct </span>NT_CONSOLE_PROPS</div>
<div class="line"><a id="l04830" name="l04830"></a><span class="lineno"> 4830</span>    {</div>
<div class="line"><a id="l04831" name="l04831"></a><span class="lineno"> 4831</span>    DATABLOCK_HEADER dbh;</div>
<div class="line"><a id="l04832" name="l04832"></a><span class="lineno"> 4832</span> </div>
<div class="line"><a id="l04833" name="l04833"></a><span class="lineno"> 4833</span>    WORD  wFillAttribute;</div>
<div class="line"><a id="l04834" name="l04834"></a><span class="lineno"> 4834</span>    WORD  wPopupFillAttribute;</div>
<div class="line"><a id="l04835" name="l04835"></a><span class="lineno"> 4835</span>    COORD dwScreenBufferSize;</div>
<div class="line"><a id="l04836" name="l04836"></a><span class="lineno"> 4836</span>    COORD dwWindowSize;</div>
<div class="line"><a id="l04837" name="l04837"></a><span class="lineno"> 4837</span>    COORD dwWindowOrigin;</div>
<div class="line"><a id="l04838" name="l04838"></a><span class="lineno"> 4838</span>    DWORD nFont;</div>
<div class="line"><a id="l04839" name="l04839"></a><span class="lineno"> 4839</span>    DWORD nInputBufferSize;</div>
<div class="line"><a id="l04840" name="l04840"></a><span class="lineno"> 4840</span>    COORD dwFontSize;</div>
<div class="line"><a id="l04841" name="l04841"></a><span class="lineno"> 4841</span>    UINT  uFontFamily;</div>
<div class="line"><a id="l04842" name="l04842"></a><span class="lineno"> 4842</span>    UINT  uFontWeight;</div>
<div class="line"><a id="l04843" name="l04843"></a><span class="lineno"> 4843</span>    WCHAR FaceName[LF_FACESIZE];</div>
<div class="line"><a id="l04844" name="l04844"></a><span class="lineno"> 4844</span>    UINT  uCursorSize;</div>
<div class="line"><a id="l04845" name="l04845"></a><span class="lineno"> 4845</span>    BOOL  bFullScreen;</div>
<div class="line"><a id="l04846" name="l04846"></a><span class="lineno"> 4846</span>    BOOL  bQuickEdit;</div>
<div class="line"><a id="l04847" name="l04847"></a><span class="lineno"> 4847</span>    BOOL  bInsertMode;</div>
<div class="line"><a id="l04848" name="l04848"></a><span class="lineno"> 4848</span>    BOOL  bAutoPosition;</div>
<div class="line"><a id="l04849" name="l04849"></a><span class="lineno"> 4849</span>    UINT  uHistoryBufferSize;</div>
<div class="line"><a id="l04850" name="l04850"></a><span class="lineno"> 4850</span>    UINT  uNumberOfHistoryBuffers;</div>
<div class="line"><a id="l04851" name="l04851"></a><span class="lineno"> 4851</span>    BOOL  bHistoryNoDup;</div>
<div class="line"><a id="l04852" name="l04852"></a><span class="lineno"> 4852</span> </div>
<div class="line"><a id="l04853" name="l04853"></a><span class="lineno"> 4853</span>    COLORREF ColorTable[16];</div>
<div class="line"><a id="l04854" name="l04854"></a><span class="lineno"> 4854</span>    };</div>
<div class="line"><a id="l04855" name="l04855"></a><span class="lineno"> 4855</span> </div>
<div class="line"><a id="l04856" name="l04856"></a><span class="lineno"> 4856</span><span class="preprocessor">#pragma pack (pop)</span></div>
<div class="line"><a id="l04857" name="l04857"></a><span class="lineno"> 4857</span> </div>
<div class="line"><a id="l04858" name="l04858"></a><span class="lineno"> 4858</span><span class="preprocessor">#undef  INTERFACE</span></div>
<div class="line"><a id="l04859" name="l04859"></a><span class="lineno"> 4859</span><span class="preprocessor">#define INTERFACE IShellLinkDataList</span></div>
<div class="line"><a id="l04860" name="l04860"></a><span class="lineno"> 4860</span> </div>
<div class="line"><a id="l04861" name="l04861"></a><span class="lineno"> 4861</span>DECLARE_INTERFACE_ (IShellLinkDataList, IUnknown)</div>
<div class="line"><a id="l04862" name="l04862"></a><span class="lineno"> 4862</span>    {</div>
<div class="line"><a id="l04863" name="l04863"></a><span class="lineno"> 4863</span>    <span class="comment">// *** IUnknown methods ***</span></div>
<div class="line"><a id="l04864" name="l04864"></a><span class="lineno"> 4864</span>    STDMETHOD (QueryInterface)  (THIS_ REFIID iid, <span class="keywordtype">void</span>** value)    PURE;</div>
<div class="line"><a id="l04865" name="l04865"></a><span class="lineno"> 4865</span>    STDMETHOD_(ULONG, AddRef)   (THIS)                              PURE;</div>
<div class="line"><a id="l04866" name="l04866"></a><span class="lineno"> 4866</span>    STDMETHOD_(ULONG, Release)  (THIS)                              PURE;</div>
<div class="line"><a id="l04867" name="l04867"></a><span class="lineno"> 4867</span> </div>
<div class="line"><a id="l04868" name="l04868"></a><span class="lineno"> 4868</span>    <span class="comment">// *** IShellLinkDataList methods ***</span></div>
<div class="line"><a id="l04869" name="l04869"></a><span class="lineno"> 4869</span>    STDMETHOD (AddDataBlock)    (THIS_ <span class="keywordtype">void</span>* dataBlock)             PURE;</div>
<div class="line"><a id="l04870" name="l04870"></a><span class="lineno"> 4870</span>    STDMETHOD (CopyDataBlock)   (THIS_ DWORD sig, <span class="keywordtype">void</span>** dataBlock) PURE;</div>
<div class="line"><a id="l04871" name="l04871"></a><span class="lineno"> 4871</span>    STDMETHOD (RemoveDataBlock) (THIS_ DWORD sig)                   PURE;</div>
<div class="line"><a id="l04872" name="l04872"></a><span class="lineno"> 4872</span>    STDMETHOD (GetFlags)        (THIS_ DWORD* flags)                PURE;</div>
<div class="line"><a id="l04873" name="l04873"></a><span class="lineno"> 4873</span>    STDMETHOD (SetFlags)        (THIS_ DWORD  flags)                PURE;</div>
<div class="line"><a id="l04874" name="l04874"></a><span class="lineno"> 4874</span> </div>
<div class="line"><a id="l04875" name="l04875"></a><span class="lineno"> 4875</span>    <span class="keyword">protected</span>:</div>
<div class="line"><a id="l04876" name="l04876"></a><span class="lineno"> 4876</span>    <span class="keyword">virtual</span> ~IShellLinkDataList();</div>
<div class="line"><a id="l04877" name="l04877"></a><span class="lineno"> 4877</span>    };</div>
<div class="line"><a id="l04878" name="l04878"></a><span class="lineno"> 4878</span> </div>
<div class="line"><a id="l04879" name="l04879"></a><span class="lineno"> 4879</span><span class="keyword">const</span> GUID IID_IShellLink         = {0x000214ee, 0x0000, 0x0000, {0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x46}};</div>
<div class="line"><a id="l04880" name="l04880"></a><span class="lineno"> 4880</span><span class="keyword">const</span> GUID IID_IShellLinkDataList = {0x45e2b4ae, 0xb1c3, 0x11d0, {0xb9,0x2f,0x00,0xa0,0xc9,0x03,0x12,0xe1}};</div>
<div class="line"><a id="l04881" name="l04881"></a><span class="lineno"> 4881</span><span class="keyword">const</span> GUID IID_IPersistFile       = {0x0000010b, 0x0000, 0x0000, {0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x46}};</div>
<div class="line"><a id="l04882" name="l04882"></a><span class="lineno"> 4882</span> </div>
<div class="line"><a id="l04883" name="l04883"></a><span class="lineno"> 4883</span><span class="preprocessor">#undef  INTERFACE</span></div>
<div class="line"><a id="l04884" name="l04884"></a><span class="lineno"> 4884</span> </div>
<div class="line"><a id="l04885" name="l04885"></a><span class="lineno"> 4885</span>}  <span class="comment">// namespace Win32</span></div>
<div class="line"><a id="l04886" name="l04886"></a><span class="lineno"> 4886</span> </div>
<div class="line"><a id="l04887" name="l04887"></a><span class="lineno"> 4887</span><span class="preprocessor">#ifdef _MSC_VER_6</span></div>
<div class="line"><a id="l04888" name="l04888"></a><span class="lineno"> 4888</span><span class="keyword">using namespace </span>Win32;</div>
<div class="line"><a id="l04889" name="l04889"></a><span class="lineno"> 4889</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l04890" name="l04890"></a><span class="lineno"> 4890</span> </div>
<div class="line"><a id="l04891" name="l04891"></a><span class="lineno"> 4891</span><span class="comment">//} &lt;/tears&gt;</span></div>
<div class="line"><a id="l04892" name="l04892"></a><span class="lineno"> 4892</span> </div>
<div class="line"><a id="l04894" name="l04894"></a><span class="lineno"> 4894</span><span class="comment">//}</span></div>
<div class="line"><a id="l04895" name="l04895"></a><span class="lineno"> 4895</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04896" name="l04896"></a><span class="lineno"> 4896</span> </div>
<div class="line"><a id="l04897" name="l04897"></a><span class="lineno"> 4897</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04898" name="l04898"></a><span class="lineno"> 4898</span><span class="comment">//{          [Internal] Global data</span></div>
<div class="line"><a id="l04900" name="l04900"></a><span class="lineno"> 4900</span><span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a id="l04901" name="l04901"></a><span class="lineno"> 4901</span><span class="comment">//                 ,  ,      :)</span></div>
<div class="line"><a id="l04902" name="l04902"></a><span class="lineno"> 4902</span><span class="comment">//</span></div>
<div class="line"><a id="l04903" name="l04903"></a><span class="lineno"> 4903</span><span class="comment">//                  TXLib.h  ,        .</span></div>
<div class="line"><a id="l04904" name="l04904"></a><span class="lineno"> 4904</span><span class="comment">//                 .</span></div>
<div class="line"><a id="l04905" name="l04905"></a><span class="lineno"> 4905</span><span class="comment">//</span></div>
<div class="line"><a id="l04906" name="l04906"></a><span class="lineno"> 4906</span><span class="comment">//            ,         .</span></div>
<div class="line"><a id="l04907" name="l04907"></a><span class="lineno"> 4907</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04909" name="l04909"></a><span class="lineno"> 4909</span><span class="comment"></span> </div>
<div class="line"><a id="l04910" name="l04910"></a><span class="lineno"> 4910</span><span class="keywordtype">int</span>                     _txInitialized         = <a class="code hl_define" href="group___technical.html#gaab281ee20ea6be5eae34d0e15bf03dcf">_TX_NOINIT</a> || _txInitialize();</div>
<div class="line"><a id="l04911" name="l04911"></a><span class="lineno"> 4911</span> </div>
<div class="line"><a id="l04912" name="l04912"></a><span class="lineno"> 4912</span><span class="keywordtype">unsigned</span>       <span class="keyword">volatile</span> _txMainThreadId        = 0;      <span class="comment">// ID ,   main()</span></div>
<div class="line"><a id="l04913" name="l04913"></a><span class="lineno"> 4913</span> </div>
<div class="line"><a id="l04914" name="l04914"></a><span class="lineno"> 4914</span><span class="keywordtype">unsigned</span>       <span class="keyword">volatile</span> _txCanvas_ThreadId     = 0;      <span class="comment">// ID ,    TXLib</span></div>
<div class="line"><a id="l04915" name="l04915"></a><span class="lineno"> 4915</span>HANDLE         <span class="keyword">volatile</span> _txCanvas_Thread       = NULL;   <span class="comment">//   </span></div>
<div class="line"><a id="l04916" name="l04916"></a><span class="lineno"> 4916</span>HWND           <span class="keyword">volatile</span> _txCanvas_Window       = NULL;   <span class="comment">//    TXLib</span></div>
<div class="line"><a id="l04917" name="l04917"></a><span class="lineno"> 4917</span> </div>
<div class="line"><a id="l04918" name="l04918"></a><span class="lineno"> 4918</span>UINT                    _txCanvas_RefreshTimer = 0;      <span class="comment">// Timer to redraw TXLib window</span></div>
<div class="line"><a id="l04919" name="l04919"></a><span class="lineno"> 4919</span><span class="keywordtype">int</span>            <span class="keyword">volatile</span> _txCanvas_RefreshLock  = 0;      <span class="comment">// Blocks auto on-timer canvas update, see txBegin/txEnd</span></div>
<div class="line"><a id="l04920" name="l04920"></a><span class="lineno"> 4920</span> </div>
<div class="line"><a id="l04921" name="l04921"></a><span class="lineno"> 4921</span>HDC                     _txCanvas_BackBuf[2]   = {NULL,  <span class="comment">// [0] Main working TXLib memory DC, where user picture lies</span></div>
<div class="line"><a id="l04922" name="l04922"></a><span class="lineno"> 4922</span>                                                  NULL}; <span class="comment">// [1] Image ready for auto-refresh, see txCanvas_OnPAINT()</span></div>
<div class="line"><a id="l04923" name="l04923"></a><span class="lineno"> 4923</span>CRITICAL_SECTION        _txCanvas_LockBackBuf  = {0,-1}; <span class="comment">// Prevent simultaneous access to back buffer, see txLock()</span></div>
<div class="line"><a id="l04924" name="l04924"></a><span class="lineno"> 4924</span> </div>
<div class="line"><a id="l04925" name="l04925"></a><span class="lineno"> 4925</span>std::vector&lt;HDC&gt;*       _txCanvas_UserDCs      = NULL;   <span class="comment">// List of DCs allocated, for auto-free</span></div>
<div class="line"><a id="l04926" name="l04926"></a><span class="lineno"> 4926</span> </div>
<div class="line"><a id="l04927" name="l04927"></a><span class="lineno"> 4927</span><span class="keywordtype">bool</span>           <span class="keyword">volatile</span> _txConsole_IsBlinking  = <span class="keyword">true</span>;   <span class="comment">// To blink or not to blink, that is the question.</span></div>
<div class="line"><a id="l04928" name="l04928"></a><span class="lineno"> 4928</span> </div>
<div class="line"><a id="l04929" name="l04929"></a><span class="lineno"> 4929</span><span class="keywordtype">bool</span>                    _txConsole             = <span class="keyword">false</span>;  <span class="comment">// Only first TXLib module in app owns it</span></div>
<div class="line"><a id="l04930" name="l04930"></a><span class="lineno"> 4930</span><span class="keywordtype">bool</span>                    _txMain                = <span class="keyword">false</span>;  <span class="comment">// First TXLib wnd opened (closing it terminates program)</span></div>
<div class="line"><a id="l04931" name="l04931"></a><span class="lineno"> 4931</span><span class="keywordtype">bool</span>                    _txIsDll               = <span class="keyword">false</span>;  <span class="comment">// TXLib module is in DLL</span></div>
<div class="line"><a id="l04932" name="l04932"></a><span class="lineno"> 4932</span><span class="keywordtype">bool</span>           <span class="keyword">volatile</span> _txRunning             = <span class="keyword">false</span>;  <span class="comment">// main() is still running</span></div>
<div class="line"><a id="l04933" name="l04933"></a><span class="lineno"> 4933</span><span class="keywordtype">bool</span>           <span class="keyword">volatile</span> _txExit                = <span class="keyword">false</span>;  <span class="comment">// exit() is active</span></div>
<div class="line"><a id="l04934" name="l04934"></a><span class="lineno"> 4934</span><span class="keywordtype">bool</span>           <span class="keyword">volatile</span> _txAllowTrace          = <span class="keyword">true</span>;   <span class="comment">// Internal TX trace is active</span></div>
<div class="line"><a id="l04935" name="l04935"></a><span class="lineno"> 4935</span> </div>
<div class="line"><a id="l04936" name="l04936"></a><span class="lineno"> 4936</span>POINT                   _txMousePos            = {0};    <span class="comment">// Ask Captn Obviouos about it. See txCanvas_OnMOUSE()</span></div>
<div class="line"><a id="l04937" name="l04937"></a><span class="lineno"> 4937</span><span class="keywordtype">int</span>                     _txMouseButtons        =  0;</div>
<div class="line"><a id="l04938" name="l04938"></a><span class="lineno"> 4938</span> </div>
<div class="line"><a id="l04939" name="l04939"></a><span class="lineno"> 4939</span>WNDPROC        <span class="keyword">volatile</span> _txAltWndProc          = NULL;   <span class="comment">//   . . txSetWindowsHook().</span></div>
<div class="line"><a id="l04940" name="l04940"></a><span class="lineno"> 4940</span> </div>
<div class="line"><a id="l04941" name="l04941"></a><span class="lineno"> 4941</span><span class="keyword">const</span> <span class="keywordtype">char</span>*    <span class="keyword">volatile</span> _txFile                = NULL;   <span class="comment">// Current execution point tracking, see $ macro</span></div>
<div class="line"><a id="l04942" name="l04942"></a><span class="lineno"> 4942</span><span class="keywordtype">int</span>            <span class="keyword">volatile</span> _txLine                = 0;</div>
<div class="line"><a id="l04943" name="l04943"></a><span class="lineno"> 4943</span><span class="keyword">const</span> <span class="keywordtype">char</span>*    <span class="keyword">volatile</span> _txFunc                = NULL;</div>
<div class="line"><a id="l04944" name="l04944"></a><span class="lineno"> 4944</span>_TX_THREAD <span class="keywordtype">int</span> <span class="keyword">volatile</span> _txInTX                = 0;      <span class="comment">// We are inside one of TXLib&#39;s functions</span></div>
<div class="line"><a id="l04945" name="l04945"></a><span class="lineno"> 4945</span> </div>
<div class="line"><a id="l04947" name="l04947"></a><span class="lineno"> 4947</span><span class="comment">//}</span></div>
<div class="line"><a id="l04948" name="l04948"></a><span class="lineno"> 4948</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04949" name="l04949"></a><span class="lineno"> 4949</span> </div>
<div class="line"><a id="l04950" name="l04950"></a><span class="lineno"> 4950</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04951" name="l04951"></a><span class="lineno"> 4951</span><span class="comment">//{          TXLib engine init/check/cleanup</span></div>
<div class="line"><a id="l04953" name="l04953"></a><span class="lineno"> 4953</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l04955" name="l04955"></a><span class="lineno"> 4955</span><span class="comment"></span> </div>
<div class="line"><a id="l04956" name="l04956"></a><span class="lineno"> 4956</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04957" name="l04957"></a><span class="lineno"> 4957</span><span class="comment">//{          Early initialization</span></div>
<div class="line"><a id="l04958" name="l04958"></a><span class="lineno"> 4958</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l04959" name="l04959"></a><span class="lineno"> 4959</span> </div>
<div class="line"><a id="l04960" name="l04960"></a><span class="lineno"> 4960</span><span class="keywordtype">int</span> _txInitialize()</div>
<div class="line"><a id="l04961" name="l04961"></a><span class="lineno"> 4961</span>    {</div>
<div class="line"><a id="l04962" name="l04962"></a><span class="lineno"> 4962</span><span class="preprocessor">    #if defined (_TX_ALLOC_BREAK) &amp;&amp; defined (_MSC_VER)</span></div>
<div class="line"><a id="l04963" name="l04963"></a><span class="lineno"> 4963</span>    _CrtSetBreakAlloc (_TX_ALLOC_BREAK);</div>
<div class="line"><a id="l04964" name="l04964"></a><span class="lineno"> 4964</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l04965" name="l04965"></a><span class="lineno"> 4965</span> </div>
<div class="line"><a id="l04966" name="l04966"></a><span class="lineno"> 4966</span>    _TX_ON_DEBUG (OutputDebugString (<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l04967" name="l04967"></a><span class="lineno"> 4967</span>                  OutputDebugString (<a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a> <span class="stringliteral">&quot; - The Dumb Artist Library, &quot;</span> _TX_AUTHOR <span class="stringliteral">&quot;: \&quot;&quot;</span> __FILE__ <span class="stringliteral">&quot;\&quot; &quot;</span></div>
<div class="line"><a id="l04968" name="l04968"></a><span class="lineno"> 4968</span>                                     <span class="stringliteral">&quot;compiled &quot;</span> __DATE__ <span class="stringliteral">&quot; &quot;</span> __TIME__ <span class="stringliteral">&quot;, &quot;</span> <a class="code hl_define" href="group___misc.html#ga3e287c38947fea870d01588fbd2a5fc9">_TX_BUILDMODE</a> <span class="stringliteral">&quot; mode, module: &quot;</span> <a class="code hl_define" href="group___misc.html#ga43d277b4418068ebef1fd2bdbaf550f6">_TX_MODULE</a> <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l04969" name="l04969"></a><span class="lineno"> 4969</span>                  OutputDebugString (<span class="stringliteral">&quot;\n&quot;</span>));</div>
<div class="line"><a id="l04970" name="l04970"></a><span class="lineno"> 4970</span> </div>
<div class="line"><a id="l04971" name="l04971"></a><span class="lineno"> 4971</span>    _txMainThreadId = GetCurrentThreadId();</div>
<div class="line"><a id="l04972" name="l04972"></a><span class="lineno"> 4972</span> </div>
<div class="line"><a id="l04973" name="l04973"></a><span class="lineno"> 4973</span>$1  _txIsDll = _txInDll();</div>
<div class="line"><a id="l04974" name="l04974"></a><span class="lineno"> 4974</span> </div>
<div class="line"><a id="l04975" name="l04975"></a><span class="lineno"> 4975</span>$   <span class="keywordflow">if</span> (!_txIsDll)</div>
<div class="line"><a id="l04976" name="l04976"></a><span class="lineno"> 4976</span>        {</div>
<div class="line"><a id="l04977" name="l04977"></a><span class="lineno"> 4977</span>$       _txConsole = ! FindAtom (<span class="stringliteral">&quot;_txConsole&quot;</span>);  <span class="comment">// Not a thread-safe</span></div>
<div class="line"><a id="l04978" name="l04978"></a><span class="lineno"> 4978</span>$       (<span class="keywordtype">void</span>)          AddAtom (<span class="stringliteral">&quot;_txConsole&quot;</span>);</div>
<div class="line"><a id="l04979" name="l04979"></a><span class="lineno"> 4979</span>        }</div>
<div class="line"><a id="l04980" name="l04980"></a><span class="lineno"> 4980</span> </div>
<div class="line"><a id="l04981" name="l04981"></a><span class="lineno"> 4981</span>$   <span class="keywordflow">if</span> (_txConsole)</div>
<div class="line"><a id="l04982" name="l04982"></a><span class="lineno"> 4982</span>        {</div>
<div class="line"><a id="l04983" name="l04983"></a><span class="lineno"> 4983</span>$       _txOnSignal();</div>
<div class="line"><a id="l04984" name="l04984"></a><span class="lineno"> 4984</span>$       SetErrorMode (SEM_FAILCRITICALERRORS | SEM_NOGPFAULTERRORBOX);</div>
<div class="line"><a id="l04985" name="l04985"></a><span class="lineno"> 4985</span> </div>
<div class="line"><a id="l04986" name="l04986"></a><span class="lineno"> 4986</span><span class="preprocessor">        #if defined (_MSC_VER)</span></div>
<div class="line"><a id="l04987" name="l04987"></a><span class="lineno"> 4987</span>$       _CrtSetDbgFlag    (_CRTDBG_ALLOC_MEM_DF | _CRTDBG_CHECK_ALWAYS_DF | _CRTDBG_LEAK_CHECK_DF);</div>
<div class="line"><a id="l04988" name="l04988"></a><span class="lineno"> 4988</span>$       _CrtSetReportMode (_CRT_WARN,   _CRTDBG_MODE_FILE | _CRTDBG_MODE_DEBUG);</div>
<div class="line"><a id="l04989" name="l04989"></a><span class="lineno"> 4989</span>$       _CrtSetReportMode (_CRT_ERROR,  _CRTDBG_MODE_FILE | _CRTDBG_MODE_DEBUG | _CRTDBG_MODE_WNDW);</div>
<div class="line"><a id="l04990" name="l04990"></a><span class="lineno"> 4990</span>$       _CrtSetReportMode (_CRT_ASSERT, _CRTDBG_MODE_FILE | _CRTDBG_MODE_DEBUG | _CRTDBG_MODE_WNDW);</div>
<div class="line"><a id="l04991" name="l04991"></a><span class="lineno"> 4991</span>$       _CrtSetReportFile (_CRT_WARN,   _CRTDBG_FILE_STDERR);</div>
<div class="line"><a id="l04992" name="l04992"></a><span class="lineno"> 4992</span>$       _CrtSetReportFile (_CRT_ERROR,  _CRTDBG_FILE_STDERR);</div>
<div class="line"><a id="l04993" name="l04993"></a><span class="lineno"> 4993</span>$       _CrtSetReportFile (_CRT_ASSERT, _CRTDBG_FILE_STDERR);</div>
<div class="line"><a id="l04994" name="l04994"></a><span class="lineno"> 4994</span><span class="preprocessor">        #endif</span></div>
<div class="line"><a id="l04995" name="l04995"></a><span class="lineno"> 4995</span> </div>
<div class="line"><a id="l04996" name="l04996"></a><span class="lineno"> 4996</span><span class="preprocessor">        #ifndef _MSC_VER_6</span></div>
<div class="line"><a id="l04997" name="l04997"></a><span class="lineno"> 4997</span>$       std::set_unexpected (_txOnUnexpected);</div>
<div class="line"><a id="l04998" name="l04998"></a><span class="lineno"> 4998</span>$       std::set_terminate  (_txOnTerminate);</div>
<div class="line"><a id="l04999" name="l04999"></a><span class="lineno"> 4999</span><span class="preprocessor">        #endif</span></div>
<div class="line"><a id="l05000" name="l05000"></a><span class="lineno"> 5000</span> </div>
<div class="line"><a id="l05001" name="l05001"></a><span class="lineno"> 5001</span>$       HWND console = _txConsole_Attach();</div>
<div class="line"><a id="l05002" name="l05002"></a><span class="lineno"> 5002</span>$       SetWindowTextA (console, <a class="code hl_function" href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">txGetModuleFileName</a> (<span class="keyword">false</span>));</div>
<div class="line"><a id="l05003" name="l05003"></a><span class="lineno"> 5003</span>        }</div>
<div class="line"><a id="l05004" name="l05004"></a><span class="lineno"> 5004</span> </div>
<div class="line"><a id="l05005" name="l05005"></a><span class="lineno"> 5005</span>$   InitializeCriticalSection (&amp;_txCanvas_LockBackBuf);</div>
<div class="line"><a id="l05006" name="l05006"></a><span class="lineno"> 5006</span> </div>
<div class="line"><a id="l05007" name="l05007"></a><span class="lineno"> 5007</span>$   _txCanvas_UserDCs = <span class="keyword">new</span> std::vector &lt;HDC&gt;;</div>
<div class="line"><a id="l05008" name="l05008"></a><span class="lineno"> 5008</span> </div>
<div class="line"><a id="l05009" name="l05009"></a><span class="lineno"> 5009</span><span class="preprocessor">#if defined (_GCC_VER)</span></div>
<div class="line"><a id="l05010" name="l05010"></a><span class="lineno"> 5010</span>$   _txSetProcAddress (GetModuleHandle (NULL), <span class="stringliteral">&quot;MSVCRT.DLL&quot;</span>, <span class="stringliteral">&quot;_cexit&quot;</span>, (PROC) _tx_cexit);  <span class="comment">// See _tx_cexit()</span></div>
<div class="line"><a id="l05011" name="l05011"></a><span class="lineno"> 5011</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l05012" name="l05012"></a><span class="lineno"> 5012</span> </div>
<div class="line"><a id="l05013" name="l05013"></a><span class="lineno"> 5013</span>$   atexit (_txCleanup);</div>
<div class="line"><a id="l05014" name="l05014"></a><span class="lineno"> 5014</span> </div>
<div class="line"><a id="l05015" name="l05015"></a><span class="lineno"> 5015</span>$   (<span class="keywordtype">void</span>) Win32::SetDIBitsToDevice;                     <span class="comment">// Just to suppress &quot;defined but not used&quot; warning</span></div>
<div class="line"><a id="l05016" name="l05016"></a><span class="lineno"> 5016</span>$   (<span class="keywordtype">void</span>) Win32::GetDIBits;</div>
<div class="line"><a id="l05017" name="l05017"></a><span class="lineno"> 5017</span>$   (<span class="keywordtype">void</span>) Win32::RoundRect;</div>
<div class="line"><a id="l05018" name="l05018"></a><span class="lineno"> 5018</span>$   (<span class="keywordtype">void</span>) Win32::CreateRectRgn;</div>
<div class="line"><a id="l05019" name="l05019"></a><span class="lineno"> 5019</span>$   (<span class="keywordtype">void</span>) Win32::GetBitmapDimensionEx;</div>
<div class="line"><a id="l05020" name="l05020"></a><span class="lineno"> 5020</span>$   (<span class="keywordtype">void</span>) Win32::GetConsoleFontInfo;</div>
<div class="line"><a id="l05021" name="l05021"></a><span class="lineno"> 5021</span> </div>
<div class="line"><a id="l05022" name="l05022"></a><span class="lineno"> 5022</span>$   <span class="keywordflow">if</span> (_txConsole)</div>
<div class="line"><a id="l05023" name="l05023"></a><span class="lineno"> 5023</span>        {</div>
<div class="line"><a id="l05024" name="l05024"></a><span class="lineno"> 5024</span>$       <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (0x07);</div>
<div class="line"><a id="l05025" name="l05025"></a><span class="lineno"> 5025</span>$       SetLastError (0);</div>
<div class="line"><a id="l05026" name="l05026"></a><span class="lineno"> 5026</span> </div>
<div class="line"><a id="l05027" name="l05027"></a><span class="lineno"> 5027</span>$       <span class="keywordtype">unsigned</span> old87 = 0, new87 = 0x0008001C; <span class="comment">// _EM_INVALID | _EM_DENORMAL | _EM_ZERODIVIDE | _EM_OVERFLOW</span></div>
<div class="line"><a id="l05028" name="l05028"></a><span class="lineno"> 5028</span>$       <span class="keywordflow">if</span> (_controlfp_s (&amp;old87, 0, 0) == 0)</div>
<div class="line"><a id="l05029" name="l05029"></a><span class="lineno"> 5029</span>            { $ (<span class="keywordtype">void</span>) _controlfp_s (&amp;old87, old87 &amp; ~new87, 0x0008001F <span class="comment">/* _MCW_EM */</span>); }</div>
<div class="line"><a id="l05030" name="l05030"></a><span class="lineno"> 5030</span>        }</div>
<div class="line"><a id="l05031" name="l05031"></a><span class="lineno"> 5031</span> </div>
<div class="line"><a id="l05032" name="l05032"></a><span class="lineno"> 5032</span>$   <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l05033" name="l05033"></a><span class="lineno"> 5033</span>    }</div>
<div class="line"><a id="l05034" name="l05034"></a><span class="lineno"> 5034</span> </div>
<div class="line"><a id="l05035" name="l05035"></a><span class="lineno"> 5035</span><span class="comment">//}</span></div>
<div class="line"><a id="l05036" name="l05036"></a><span class="lineno"> 5036</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05037" name="l05037"></a><span class="lineno"> 5037</span> </div>
<div class="line"><a id="l05038" name="l05038"></a><span class="lineno"> 5038</span>HWND <a class="code hl_function" href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab">txCreateWindow</a> (<span class="keywordtype">double</span> sizeX, <span class="keywordtype">double</span> sizeY, <span class="keywordtype">bool</span> centered <span class="comment">/*= true*/</span>)</div>
<div class="line"><a id="l05039" name="l05039"></a><span class="lineno"> 5039</span>    {</div>
<div class="line"><a id="l05040" name="l05040"></a><span class="lineno"> 5040</span>$1  <span class="keywordflow">if</span> (!_txInitialized) _txInitialized = _txInitialize();</div>
<div class="line"><a id="l05041" name="l05041"></a><span class="lineno"> 5041</span> </div>
<div class="line"><a id="l05042" name="l05042"></a><span class="lineno"> 5042</span>$   <span class="keywordflow">if</span> (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>())</div>
<div class="line"><a id="l05043" name="l05043"></a><span class="lineno"> 5043</span>        {</div>
<div class="line"><a id="l05044" name="l05044"></a><span class="lineno"> 5044</span>$       SetLastErrorEx (ERROR_INVALID_DATA, 0);</div>
<div class="line"><a id="l05045" name="l05045"></a><span class="lineno"> 5045</span>$       _TX_ON_DEBUG (<a class="code hl_define" href="group___misc.html#ga3e4a82a10130528f63b6f19476a0943a">TX_ERROR</a> (<span class="stringliteral">&quot;\a&quot;</span> <span class="stringliteral">&quot;   &quot;</span>));</div>
<div class="line"><a id="l05046" name="l05046"></a><span class="lineno"> 5046</span>$       <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>();</div>
<div class="line"><a id="l05047" name="l05047"></a><span class="lineno"> 5047</span>        }</div>
<div class="line"><a id="l05048" name="l05048"></a><span class="lineno"> 5048</span> </div>
<div class="line"><a id="l05049" name="l05049"></a><span class="lineno"> 5049</span>$   <span class="keywordflow">if</span> (!_txIsDll)</div>
<div class="line"><a id="l05050" name="l05050"></a><span class="lineno"> 5050</span>        {</div>
<div class="line"><a id="l05051" name="l05051"></a><span class="lineno"> 5051</span>$       _txMain = ! FindAtom (<span class="stringliteral">&quot;_txMain&quot;</span>);  <span class="comment">// Not a thread-safe</span></div>
<div class="line"><a id="l05052" name="l05052"></a><span class="lineno"> 5052</span>$       (<span class="keywordtype">void</span>)       AddAtom (<span class="stringliteral">&quot;_txMain&quot;</span>);</div>
<div class="line"><a id="l05053" name="l05053"></a><span class="lineno"> 5053</span>        }</div>
<div class="line"><a id="l05054" name="l05054"></a><span class="lineno"> 5054</span> </div>
<div class="line"><a id="l05055" name="l05055"></a><span class="lineno"> 5055</span>$   <span class="keywordflow">if</span> (<a class="code hl_variable" href="group___technical.html#ga04cf6a2f12ea617b5a29ce939f673085">_txWindowUpdateInterval</a> &lt; 10) { $ <a class="code hl_variable" href="group___technical.html#ga04cf6a2f12ea617b5a29ce939f673085">_txWindowUpdateInterval</a> = 10; }</div>
<div class="line"><a id="l05056" name="l05056"></a><span class="lineno"> 5056</span> </div>
<div class="line"><a id="l05057" name="l05057"></a><span class="lineno"> 5057</span>$   _txRunning = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05058" name="l05058"></a><span class="lineno"> 5058</span> </div>
<div class="line"><a id="l05059" name="l05059"></a><span class="lineno"> 5059</span>    <span class="comment">// Store the size</span></div>
<div class="line"><a id="l05060" name="l05060"></a><span class="lineno"> 5060</span> </div>
<div class="line"><a id="l05061" name="l05061"></a><span class="lineno"> 5061</span>$   <span class="keyword">static</span> SIZE size = { <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (sizeX), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (sizeY) };</div>
<div class="line"><a id="l05062" name="l05062"></a><span class="lineno"> 5062</span>$   <span class="keywordflow">if</span> (centered) { size.cx *= -1; size.cy *= -1; }</div>
<div class="line"><a id="l05063" name="l05063"></a><span class="lineno"> 5063</span> </div>
<div class="line"><a id="l05064" name="l05064"></a><span class="lineno"> 5064</span>    <span class="comment">// In Thread, where REAL creation lies...</span></div>
<div class="line"><a id="l05065" name="l05065"></a><span class="lineno"> 5065</span> </div>
<div class="line"><a id="l05066" name="l05066"></a><span class="lineno"> 5066</span><span class="preprocessor">    #if !( defined (_MSC_VER) &amp;&amp; (_MSC_VER &lt; 1400) &amp;&amp; !defined (_MT) )</span></div>
<div class="line"><a id="l05067" name="l05067"></a><span class="lineno"> 5067</span>$   <span class="keywordtype">unsigned</span> <span class="keywordtype">id</span> = 0;</div>
<div class="line"><a id="l05068" name="l05068"></a><span class="lineno"> 5068</span>$   _txCanvas_Thread = (HANDLE) _beginthreadex (NULL, 0,                        _txCanvas_ThreadProc, &amp;size, 0, &amp;<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l05069" name="l05069"></a><span class="lineno"> 5069</span><span class="preprocessor">    #else</span></div>
<div class="line"><a id="l05070" name="l05070"></a><span class="lineno"> 5070</span>$   DWORD    <span class="keywordtype">id</span> = 0;</div>
<div class="line"><a id="l05071" name="l05071"></a><span class="lineno"> 5071</span>$   _txCanvas_Thread =          CreateThread   (NULL, 0, (PTHREAD_START_ROUTINE)_txCanvas_ThreadProc, &amp;size, 0, &amp;<span class="keywordtype">id</span>);</div>
<div class="line"><a id="l05072" name="l05072"></a><span class="lineno"> 5072</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l05073" name="l05073"></a><span class="lineno"> 5073</span> </div>
<div class="line"><a id="l05074" name="l05074"></a><span class="lineno"> 5074</span>$   <span class="keywordflow">if</span> (!_txCanvas_Thread) <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;\a&quot;</span> <span class="stringliteral">&quot;Cannot start canvas thread.&quot;</span>), (HWND)NULL;</div>
<div class="line"><a id="l05075" name="l05075"></a><span class="lineno"> 5075</span> </div>
<div class="line"><a id="l05076" name="l05076"></a><span class="lineno"> 5076</span>$   _txWaitFor (_txRunning, 30*<a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>);</div>
<div class="line"><a id="l05077" name="l05077"></a><span class="lineno"> 5077</span> </div>
<div class="line"><a id="l05078" name="l05078"></a><span class="lineno"> 5078</span>$   <span class="keywordflow">if</span> (!_txRunning)       <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;\a&quot;</span> <span class="stringliteral">&quot;Cannot create canvas window.&quot;</span>),(HWND)NULL;</div>
<div class="line"><a id="l05079" name="l05079"></a><span class="lineno"> 5079</span>$   <span class="keywordflow">if</span> (!<a class="code hl_function" href="group___drawing.html#ga6971b22d5486b242e20a8dea1f21422a">txOK</a>())           <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;\a&quot;</span> <span class="stringliteral">&quot;Canvas window is not OK.&quot;</span>),    (HWND)NULL;</div>
<div class="line"><a id="l05080" name="l05080"></a><span class="lineno"> 5080</span> </div>
<div class="line"><a id="l05081" name="l05081"></a><span class="lineno"> 5081</span>$   Sleep (100);</div>
<div class="line"><a id="l05082" name="l05082"></a><span class="lineno"> 5082</span> </div>
<div class="line"><a id="l05083" name="l05083"></a><span class="lineno"> 5083</span>$   errno = _doserrno = 0;</div>
<div class="line"><a id="l05084" name="l05084"></a><span class="lineno"> 5084</span>$   SetLastError (0);</div>
<div class="line"><a id="l05085" name="l05085"></a><span class="lineno"> 5085</span> </div>
<div class="line"><a id="l05086" name="l05086"></a><span class="lineno"> 5086</span>$   <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>();</div>
<div class="line"><a id="l05087" name="l05087"></a><span class="lineno"> 5087</span>    }</div>
<div class="line"><a id="l05088" name="l05088"></a><span class="lineno"> 5088</span> </div>
<div class="line"><a id="l05089" name="l05089"></a><span class="lineno"> 5089</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05090" name="l05090"></a><span class="lineno"> 5090</span> </div>
<div class="line"><a id="l05091" name="l05091"></a><span class="lineno"> 5091</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gae05b7bb52b782b86796201f9f96d0f58">txSetDefaults</a>()</div>
<div class="line"><a id="l05092" name="l05092"></a><span class="lineno"> 5092</span>    {</div>
<div class="line"><a id="l05093" name="l05093"></a><span class="lineno"> 5093</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05094" name="l05094"></a><span class="lineno"> 5094</span> </div>
<div class="line"><a id="l05095" name="l05095"></a><span class="lineno"> 5095</span>$   <a class="code hl_function" href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41">txUpdateWindow</a> (<span class="keyword">false</span>);</div>
<div class="line"><a id="l05096" name="l05096"></a><span class="lineno"> 5096</span>$   <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a> _lock;</div>
<div class="line"><a id="l05097" name="l05097"></a><span class="lineno"> 5097</span> </div>
<div class="line"><a id="l05098" name="l05098"></a><span class="lineno"> 5098</span>$   RECT r = {0};</div>
<div class="line"><a id="l05099" name="l05099"></a><span class="lineno"> 5099</span> </div>
<div class="line"><a id="l05100" name="l05100"></a><span class="lineno"> 5100</span>$   GetClientRect (_txCanvas_Window, &amp;r) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05101" name="l05101"></a><span class="lineno"> 5101</span>$   SIZE szCanvas    = { r.right - r.left, r.bottom - r.top };</div>
<div class="line"><a id="l05102" name="l05102"></a><span class="lineno"> 5102</span> </div>
<div class="line"><a id="l05103" name="l05103"></a><span class="lineno"> 5103</span>$   GetClientRect (Win32::GetConsoleWindow(), &amp;r) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05104" name="l05104"></a><span class="lineno"> 5104</span>$   SIZE szCon    = { r.right - r.left, r.bottom - r.top };</div>
<div class="line"><a id="l05105" name="l05105"></a><span class="lineno"> 5105</span> </div>
<div class="line"><a id="l05106" name="l05106"></a><span class="lineno"> 5106</span>$   HANDLE out = GetStdHandle (STD_OUTPUT_HANDLE);</div>
<div class="line"><a id="l05107" name="l05107"></a><span class="lineno"> 5107</span> </div>
<div class="line"><a id="l05108" name="l05108"></a><span class="lineno"> 5108</span>$   CONSOLE_SCREEN_BUFFER_INFO con = {{80, 25}, {0}, 0, {0, 0, 80-1, 25-1}, {80, 25}};</div>
<div class="line"><a id="l05109" name="l05109"></a><span class="lineno"> 5109</span>$   GetConsoleScreenBufferInfo (out, &amp;con);</div>
<div class="line"><a id="l05110" name="l05110"></a><span class="lineno"> 5110</span> </div>
<div class="line"><a id="l05111" name="l05111"></a><span class="lineno"> 5111</span>$   SIZE szTxt = { (short) (con.srWindow.Right  - con.srWindow.Left + 1),</div>
<div class="line"><a id="l05112" name="l05112"></a><span class="lineno"> 5112</span>                   (short) (con.srWindow.Bottom - con.srWindow.Top  + 1) };</div>
<div class="line"><a id="l05113" name="l05113"></a><span class="lineno"> 5113</span> </div>
<div class="line"><a id="l05114" name="l05114"></a><span class="lineno"> 5114</span><span class="comment">//{ Set defaults for graphics layer</span></div>
<div class="line"><a id="l05115" name="l05115"></a><span class="lineno"> 5115</span> </div>
<div class="line"><a id="l05116" name="l05116"></a><span class="lineno"> 5116</span>$   _txBuffer_Select (Win32::GetStockObject (WHITE_PEN),   <a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>()) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05117" name="l05117"></a><span class="lineno"> 5117</span>$   _txBuffer_Select (Win32::GetStockObject (WHITE_BRUSH), <a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>()) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05118" name="l05118"></a><span class="lineno"> 5118</span> </div>
<div class="line"><a id="l05119" name="l05119"></a><span class="lineno"> 5119</span>$   _txBuffer_Select (Win32::CreateFont (szCon.cy/szTxt.cy, szCon.cx/szTxt.cx,</div>
<div class="line"><a id="l05120" name="l05120"></a><span class="lineno"> 5120</span>                                         0, 0, FW_REGULAR, FALSE, FALSE, FALSE,</div>
<div class="line"><a id="l05121" name="l05121"></a><span class="lineno"> 5121</span>                                         RUSSIAN_CHARSET, OUT_DEFAULT_PRECIS, CLIP_DEFAULT_PRECIS,</div>
<div class="line"><a id="l05122" name="l05122"></a><span class="lineno"> 5122</span>                                         DEFAULT_QUALITY, DEFAULT_PITCH, <a class="code hl_variable" href="group___technical.html#ga61836072e0c3887ed70841ff2d12c0d9">_txConsoleFont</a>),</div>
<div class="line"><a id="l05123" name="l05123"></a><span class="lineno"> 5123</span>                      <a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>()) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05124" name="l05124"></a><span class="lineno"> 5124</span> </div>
<div class="line"><a id="l05125" name="l05125"></a><span class="lineno"> 5125</span>$   (Win32::SetTextColor (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_variable" href="group___drawing.html#ga90c5bf9144d5eed4926fb92ba854eca9">TX_WHITE</a>) != CLR_INVALID) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05126" name="l05126"></a><span class="lineno"> 5126</span>$    Win32::SetBkMode    (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), TRANSPARENT)              <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05127" name="l05127"></a><span class="lineno"> 5127</span> </div>
<div class="line"><a id="l05128" name="l05128"></a><span class="lineno"> 5128</span>$    Win32::SetROP2      (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), R2_COPYPEN)               <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05129" name="l05129"></a><span class="lineno"> 5129</span> </div>
<div class="line"><a id="l05130" name="l05130"></a><span class="lineno"> 5130</span><span class="comment">//}</span></div>
<div class="line"><a id="l05131" name="l05131"></a><span class="lineno"> 5131</span> </div>
<div class="line"><a id="l05132" name="l05132"></a><span class="lineno"> 5132</span><span class="comment">//{ Set defaults for console  layer</span></div>
<div class="line"><a id="l05133" name="l05133"></a><span class="lineno"> 5133</span> </div>
<div class="line"><a id="l05134" name="l05134"></a><span class="lineno"> 5134</span>$   HGDIOBJ font = <a class="code hl_function" href="group___drawing.html#ga1dc38c08e812d5f5a3c8f752a97c2bb2">txFontExist</a> (<a class="code hl_variable" href="group___technical.html#ga61836072e0c3887ed70841ff2d12c0d9">_txConsoleFont</a>)?</div>
<div class="line"><a id="l05135" name="l05135"></a><span class="lineno"> 5135</span>                       Win32::CreateFont ((<span class="keywordtype">int</span>) (1.0 * szCanvas.cy/szTxt.cy), (<span class="keywordtype">int</span>) (1.0 * szCanvas.cx/szTxt.cx),</div>
<div class="line"><a id="l05136" name="l05136"></a><span class="lineno"> 5136</span>                                          0, 0, FW_REGULAR, FALSE, FALSE, FALSE,</div>
<div class="line"><a id="l05137" name="l05137"></a><span class="lineno"> 5137</span>                                          RUSSIAN_CHARSET, OUT_DEFAULT_PRECIS, CLIP_DEFAULT_PRECIS,</div>
<div class="line"><a id="l05138" name="l05138"></a><span class="lineno"> 5138</span>                                          DEFAULT_QUALITY, FIXED_PITCH, <a class="code hl_variable" href="group___technical.html#ga61836072e0c3887ed70841ff2d12c0d9">_txConsoleFont</a>)</div>
<div class="line"><a id="l05139" name="l05139"></a><span class="lineno"> 5139</span>                       :</div>
<div class="line"><a id="l05140" name="l05140"></a><span class="lineno"> 5140</span>                       Win32::GetStockObject (SYSTEM_FIXED_FONT);</div>
<div class="line"><a id="l05141" name="l05141"></a><span class="lineno"> 5141</span> </div>
<div class="line"><a id="l05142" name="l05142"></a><span class="lineno"> 5142</span>$   _txBuffer_Select (font, _txCanvas_BackBuf[1]) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05143" name="l05143"></a><span class="lineno"> 5143</span><span class="comment">//}</span></div>
<div class="line"><a id="l05144" name="l05144"></a><span class="lineno"> 5144</span> </div>
<div class="line"><a id="l05145" name="l05145"></a><span class="lineno"> 5145</span><span class="comment">//{ Scroll the console for text to go above top of window and don&#39;t mix with graphics</span></div>
<div class="line"><a id="l05146" name="l05146"></a><span class="lineno"> 5146</span> </div>
<div class="line"><a id="l05147" name="l05147"></a><span class="lineno"> 5147</span>$   if (con.dwCursorPosition.X) _putch (&#39;\n&#39;);</div>
<div class="line"><a id="l05148" name="l05148"></a><span class="lineno"> 5148</span> </div>
<div class="line"><a id="l05149" name="l05149"></a><span class="lineno"> 5149</span>$   <span class="keywordtype">short</span> delta = (<span class="keywordtype">short</span>) (con.dwCursorPosition.Y - con.srWindow.Top);</div>
<div class="line"><a id="l05150" name="l05150"></a><span class="lineno"> 5150</span> </div>
<div class="line"><a id="l05151" name="l05151"></a><span class="lineno"> 5151</span>$   con.srWindow.Top    = (<span class="keywordtype">short</span>) (con.srWindow.Top    + delta);</div>
<div class="line"><a id="l05152" name="l05152"></a><span class="lineno"> 5152</span>$   con.srWindow.Bottom = (<span class="keywordtype">short</span>) (con.srWindow.Bottom + delta);</div>
<div class="line"><a id="l05153" name="l05153"></a><span class="lineno"> 5153</span> </div>
<div class="line"><a id="l05154" name="l05154"></a><span class="lineno"> 5154</span>$   SMALL_RECT src  = {0, 0, (short) (con.dwSize.X - 1), (short) (con.dwSize.Y - 1) };</div>
<div class="line"><a id="l05155" name="l05155"></a><span class="lineno"> 5155</span>$   CHAR_INFO  fill = {{<span class="charliteral">&#39; &#39;</span>}, 0x07};        <span class="comment">// Fill with spaces, light-gray on black</span></div>
<div class="line"><a id="l05156" name="l05156"></a><span class="lineno"> 5156</span>$   COORD      dest = {0, (short) -delta};  <span class="comment">// New UL-corner of src, scroll up</span></div>
<div class="line"><a id="l05157" name="l05157"></a><span class="lineno"> 5157</span> </div>
<div class="line"><a id="l05158" name="l05158"></a><span class="lineno"> 5158</span>$   con.dwCursorPosition.X = 0;</div>
<div class="line"><a id="l05159" name="l05159"></a><span class="lineno"> 5159</span>$   con.dwCursorPosition.Y = (short) (con.dwCursorPosition.Y - delta);</div>
<div class="line"><a id="l05160" name="l05160"></a><span class="lineno"> 5160</span> </div>
<div class="line"><a id="l05161" name="l05161"></a><span class="lineno"> 5161</span>$   (con.srWindow.Bottom &lt; con.dwSize.Y &amp;&amp;                        <span class="comment">// Move the &quot;window&quot;</span></div>
<div class="line"><a id="l05162" name="l05162"></a><span class="lineno"> 5162</span>     SetConsoleWindowInfo      (out, <span class="keyword">true</span>, &amp;con.srWindow))</div>
<div class="line"><a id="l05163" name="l05163"></a><span class="lineno"> 5163</span>    ||</div>
<div class="line"><a id="l05164" name="l05164"></a><span class="lineno"> 5164</span>    (ScrollConsoleScreenBuffer (out, &amp;src, NULL, dest, &amp;fill),    <span class="comment">// Or scroll the buffer</span></div>
<div class="line"><a id="l05165" name="l05165"></a><span class="lineno"> 5165</span>     SetConsoleCursorPosition  (out, con.dwCursorPosition));</div>
<div class="line"><a id="l05166" name="l05166"></a><span class="lineno"> 5166</span><span class="comment">//}</span></div>
<div class="line"><a id="l05167" name="l05167"></a><span class="lineno"> 5167</span> </div>
<div class="line"><a id="l05168" name="l05168"></a><span class="lineno"> 5168</span>$   <a class="code hl_function" href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41">txUpdateWindow</a> (<span class="keyword">true</span>);</div>
<div class="line"><a id="l05169" name="l05169"></a><span class="lineno"> 5169</span> </div>
<div class="line"><a id="l05170" name="l05170"></a><span class="lineno"> 5170</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05171" name="l05171"></a><span class="lineno"> 5171</span>    }</div>
<div class="line"><a id="l05172" name="l05172"></a><span class="lineno"> 5172</span> </div>
<div class="line"><a id="l05173" name="l05173"></a><span class="lineno"> 5173</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05174" name="l05174"></a><span class="lineno"> 5174</span> </div>
<div class="line"><a id="l05175" name="l05175"></a><span class="lineno"> 5175</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga6971b22d5486b242e20a8dea1f21422a">txOK</a>()</div>
<div class="line"><a id="l05176" name="l05176"></a><span class="lineno"> 5176</span>    {</div>
<div class="line"><a id="l05177" name="l05177"></a><span class="lineno"> 5177</span>$1  <span class="keywordflow">return</span> _txCanvas_OK();</div>
<div class="line"><a id="l05178" name="l05178"></a><span class="lineno"> 5178</span>    }</div>
<div class="line"><a id="l05179" name="l05179"></a><span class="lineno"> 5179</span> </div>
<div class="line"><a id="l05180" name="l05180"></a><span class="lineno"> 5180</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05181" name="l05181"></a><span class="lineno"> 5181</span> </div>
<div class="line"><a id="l05182" name="l05182"></a><span class="lineno"> 5182</span><span class="comment">// In GCC, implicit std(MSVCRT.dll)::_cexit() call before _txCleanup leads to hands in _cexit handlers chain.</span></div>
<div class="line"><a id="l05183" name="l05183"></a><span class="lineno"> 5183</span><span class="comment">// So redefining std::_cexit(). Do it dynamically via PE Import Table hook to avoid duplicate symbols in linking</span></div>
<div class="line"><a id="l05184" name="l05184"></a><span class="lineno"> 5184</span><span class="comment">// serveral modules including TXLib.h. See _txSetProcAddress() call in _txInitialize().</span></div>
<div class="line"><a id="l05185" name="l05185"></a><span class="lineno"> 5185</span> </div>
<div class="line"><a id="l05186" name="l05186"></a><span class="lineno"> 5186</span><span class="preprocessor">#if defined (_GCC_VER)</span></div>
<div class="line"><a id="l05187" name="l05187"></a><span class="lineno"> 5187</span> </div>
<div class="line"><a id="l05188" name="l05188"></a><span class="lineno"> 5188</span><span class="keywordtype">void</span> _tx_cexit()</div>
<div class="line"><a id="l05189" name="l05189"></a><span class="lineno"> 5189</span>    {</div>
<div class="line"><a id="l05190" name="l05190"></a><span class="lineno"> 5190</span>$1  _txCleanup();</div>
<div class="line"><a id="l05191" name="l05191"></a><span class="lineno"> 5191</span> </div>
<div class="line"><a id="l05192" name="l05192"></a><span class="lineno"> 5192</span>    <span class="keywordflow">if</span> (Win32::_cexit) { $ Win32::_cexit(); }</div>
<div class="line"><a id="l05193" name="l05193"></a><span class="lineno"> 5193</span> </div>
<div class="line"><a id="l05194" name="l05194"></a><span class="lineno"> 5194</span>$   <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05195" name="l05195"></a><span class="lineno"> 5195</span>    }</div>
<div class="line"><a id="l05196" name="l05196"></a><span class="lineno"> 5196</span> </div>
<div class="line"><a id="l05197" name="l05197"></a><span class="lineno"> 5197</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l05198" name="l05198"></a><span class="lineno"> 5198</span> </div>
<div class="line"><a id="l05199" name="l05199"></a><span class="lineno"> 5199</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05200" name="l05200"></a><span class="lineno"> 5200</span> </div>
<div class="line"><a id="l05201" name="l05201"></a><span class="lineno"> 5201</span><span class="keywordtype">void</span> _txCleanup()</div>
<div class="line"><a id="l05202" name="l05202"></a><span class="lineno"> 5202</span>    {</div>
<div class="line"><a id="l05203" name="l05203"></a><span class="lineno"> 5203</span>$1  <span class="keywordflow">if</span> (!_txInitialized) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l05204" name="l05204"></a><span class="lineno"> 5204</span>    <span class="keywordflow">else</span> _txInitialized = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05205" name="l05205"></a><span class="lineno"> 5205</span> </div>
<div class="line"><a id="l05206" name="l05206"></a><span class="lineno"> 5206</span>$   <a class="code hl_function" href="group___drawing.html#ga56227ddccbe156355eaca50264bf3334">txSleep</a> (<a class="code hl_variable" href="group___technical.html#ga04cf6a2f12ea617b5a29ce939f673085">_txWindowUpdateInterval</a>);</div>
<div class="line"><a id="l05207" name="l05207"></a><span class="lineno"> 5207</span> </div>
<div class="line"><a id="l05208" name="l05208"></a><span class="lineno"> 5208</span>$   _txRunning = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05209" name="l05209"></a><span class="lineno"> 5209</span>$   _txConsole_IsBlinking = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05210" name="l05210"></a><span class="lineno"> 5210</span> </div>
<div class="line"><a id="l05211" name="l05211"></a><span class="lineno"> 5211</span>$   HWND canvas     = <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>();</div>
<div class="line"><a id="l05212" name="l05212"></a><span class="lineno"> 5212</span>$   HWND console    = Win32::GetConsoleWindow();</div>
<div class="line"><a id="l05213" name="l05213"></a><span class="lineno"> 5213</span>$   <span class="keywordtype">unsigned</span> thread = GetCurrentThreadId();</div>
<div class="line"><a id="l05214" name="l05214"></a><span class="lineno"> 5214</span> </div>
<div class="line"><a id="l05215" name="l05215"></a><span class="lineno"> 5215</span>$   HWND wnd        = (canvas)? canvas : console;</div>
<div class="line"><a id="l05216" name="l05216"></a><span class="lineno"> 5216</span> </div>
<div class="line"><a id="l05217" name="l05217"></a><span class="lineno"> 5217</span>$   <span class="keywordtype">bool</span> externTerm = (thread != _txMainThreadId &amp;&amp;</div>
<div class="line"><a id="l05218" name="l05218"></a><span class="lineno"> 5218</span>                       thread != _txCanvas_ThreadId);</div>
<div class="line"><a id="l05219" name="l05219"></a><span class="lineno"> 5219</span>$   DWORD parent = 0;</div>
<div class="line"><a id="l05220" name="l05220"></a><span class="lineno"> 5220</span>$   <span class="keywordtype">bool</span> waitableParent = !externTerm &amp;&amp; _txIsParentWaitable (&amp;parent);</div>
<div class="line"><a id="l05221" name="l05221"></a><span class="lineno"> 5221</span> </div>
<div class="line"><a id="l05222" name="l05222"></a><span class="lineno"> 5222</span>$   <span class="keywordflow">if</span> (_txConsole)</div>
<div class="line"><a id="l05223" name="l05223"></a><span class="lineno"> 5223</span>        {</div>
<div class="line"><a id="l05224" name="l05224"></a><span class="lineno"> 5224</span>$       <span class="keywordflow">if</span> (_txMain) <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (0x07);</div>
<div class="line"><a id="l05225" name="l05225"></a><span class="lineno"> 5225</span>$       <span class="keywordflow">if</span> (console) EnableWindow (console, <span class="keyword">true</span>);</div>
<div class="line"><a id="l05226" name="l05226"></a><span class="lineno"> 5226</span>        }</div>
<div class="line"><a id="l05227" name="l05227"></a><span class="lineno"> 5227</span> </div>
<div class="line"><a id="l05228" name="l05228"></a><span class="lineno"> 5228</span>$   <span class="keywordflow">if</span> (_txMain &amp;&amp; !externTerm &amp;&amp; wnd != NULL)</div>
<div class="line"><a id="l05229" name="l05229"></a><span class="lineno"> 5229</span>        { $ _txSetFinishedText (wnd); }</div>
<div class="line"><a id="l05230" name="l05230"></a><span class="lineno"> 5230</span> </div>
<div class="line"><a id="l05231" name="l05231"></a><span class="lineno"> 5231</span>$   <span class="keywordflow">if</span> ((canvas? _txMain : _txConsole &amp;&amp; !waitableParent) &amp;&amp; !_txExit &amp;&amp;</div>
<div class="line"><a id="l05232" name="l05232"></a><span class="lineno"> 5232</span>        thread == _txMainThreadId)</div>
<div class="line"><a id="l05233" name="l05233"></a><span class="lineno"> 5233</span>        {</div>
<div class="line"><a id="l05234" name="l05234"></a><span class="lineno"> 5234</span>$       <span class="keywordflow">if</span> (wnd)</div>
<div class="line"><a id="l05235" name="l05235"></a><span class="lineno"> 5235</span>            {</div>
<div class="line"><a id="l05236" name="l05236"></a><span class="lineno"> 5236</span>$           ShowWindow          (wnd, SW_SHOW);</div>
<div class="line"><a id="l05237" name="l05237"></a><span class="lineno"> 5237</span>$           EnableWindow        (wnd, <span class="keyword">true</span>);</div>
<div class="line"><a id="l05238" name="l05238"></a><span class="lineno"> 5238</span>$           SetForegroundWindow (wnd);</div>
<div class="line"><a id="l05239" name="l05239"></a><span class="lineno"> 5239</span>$           BringWindowToTop    (wnd);</div>
<div class="line"><a id="l05240" name="l05240"></a><span class="lineno"> 5240</span>$           RedrawWindow        (wnd, NULL, NULL, RDW_INVALIDATE | RDW_INTERNALPAINT | RDW_UPDATENOW);</div>
<div class="line"><a id="l05241" name="l05241"></a><span class="lineno"> 5241</span>            }</div>
<div class="line"><a id="l05242" name="l05242"></a><span class="lineno"> 5242</span> </div>
<div class="line"><a id="l05243" name="l05243"></a><span class="lineno"> 5243</span>$       <span class="keywordflow">if</span> (console)</div>
<div class="line"><a id="l05244" name="l05244"></a><span class="lineno"> 5244</span>            { $ _txPauseBeforeTermination (canvas); }</div>
<div class="line"><a id="l05245" name="l05245"></a><span class="lineno"> 5245</span>        }</div>
<div class="line"><a id="l05246" name="l05246"></a><span class="lineno"> 5246</span> </div>
<div class="line"><a id="l05247" name="l05247"></a><span class="lineno"> 5247</span>$   <span class="keywordflow">if</span> (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>())</div>
<div class="line"><a id="l05248" name="l05248"></a><span class="lineno"> 5248</span>        { $ SendNotifyMessage (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), WM_DESTROY, 0, 0); }</div>
<div class="line"><a id="l05249" name="l05249"></a><span class="lineno"> 5249</span> </div>
<div class="line"><a id="l05250" name="l05250"></a><span class="lineno"> 5250</span>$   _txWaitFor (!<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), 5*<a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>);</div>
<div class="line"><a id="l05251" name="l05251"></a><span class="lineno"> 5251</span> </div>
<div class="line"><a id="l05252" name="l05252"></a><span class="lineno"> 5252</span>$   <span class="keywordflow">if</span> (!<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>())</div>
<div class="line"><a id="l05253" name="l05253"></a><span class="lineno"> 5253</span>        { $ DeleteCriticalSection (&amp;_txCanvas_LockBackBuf); _txCanvas_LockBackBuf = <a class="code hl_define" href="group___misc.html#gade9b60c36576ef735b3e1d1f628ad9c6">ZERO</a> (CRITICAL_SECTION); }</div>
<div class="line"><a id="l05254" name="l05254"></a><span class="lineno"> 5254</span> </div>
<div class="line"><a id="l05255" name="l05255"></a><span class="lineno"> 5255</span>$   <span class="keywordflow">if</span> (_txCanvas_Thread)</div>
<div class="line"><a id="l05256" name="l05256"></a><span class="lineno"> 5256</span>        { $ CloseHandle (_txCanvas_Thread) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>; _txCanvas_Thread = NULL; }</div>
<div class="line"><a id="l05257" name="l05257"></a><span class="lineno"> 5257</span> </div>
<div class="line"><a id="l05258" name="l05258"></a><span class="lineno"> 5258</span>$   <span class="keyword">delete</span> _txCanvas_UserDCs; _txCanvas_UserDCs = NULL;</div>
<div class="line"><a id="l05259" name="l05259"></a><span class="lineno"> 5259</span> </div>
<div class="line"><a id="l05260" name="l05260"></a><span class="lineno"> 5260</span>$   <span class="keywordflow">if</span> (_txMain &amp;&amp; canvas &amp;&amp; waitableParent &amp;&amp; _txNOP (<a class="code hl_define" href="group___technical.html#ga9a495d013c6f08cd50220aca99ca56c2">_TX_ALLOW_KILL_PARENT</a>))</div>
<div class="line"><a id="l05261" name="l05261"></a><span class="lineno"> 5261</span>        { $ waitableParent |= !_txKillProcess (parent); }</div>
<div class="line"><a id="l05262" name="l05262"></a><span class="lineno"> 5262</span> </div>
<div class="line"><a id="l05263" name="l05263"></a><span class="lineno"> 5263</span>$   <span class="keywordflow">if</span> (_txMain &amp;&amp; _txConsole)</div>
<div class="line"><a id="l05264" name="l05264"></a><span class="lineno"> 5264</span>        { $ _txConsole_Detach (waitableParent &amp;&amp; !externTerm); }</div>
<div class="line"><a id="l05265" name="l05265"></a><span class="lineno"> 5265</span> </div>
<div class="line"><a id="l05266" name="l05266"></a><span class="lineno"> 5266</span>    _TX_ON_DEBUG (OutputDebugString (<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l05267" name="l05267"></a><span class="lineno"> 5267</span>                  OutputDebugString (<a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a> <span class="stringliteral">&quot; - FINISHED: &quot;</span> <a class="code hl_define" href="group___misc.html#ga43d277b4418068ebef1fd2bdbaf550f6">_TX_MODULE</a> <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l05268" name="l05268"></a><span class="lineno"> 5268</span>                  OutputDebugString (<span class="stringliteral">&quot;\n&quot;</span>));</div>
<div class="line"><a id="l05269" name="l05269"></a><span class="lineno"> 5269</span>    }</div>
<div class="line"><a id="l05270" name="l05270"></a><span class="lineno"> 5270</span> </div>
<div class="line"><a id="l05271" name="l05271"></a><span class="lineno"> 5271</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05272" name="l05272"></a><span class="lineno"> 5272</span> </div>
<div class="line"><a id="l05273" name="l05273"></a><span class="lineno"> 5273</span><span class="keywordtype">int</span> _txSetFinishedText (HWND wnd)</div>
<div class="line"><a id="l05274" name="l05274"></a><span class="lineno"> 5274</span>    {</div>
<div class="line"><a id="l05275" name="l05275"></a><span class="lineno"> 5275</span>    <span class="keyword">struct </span>tools</div>
<div class="line"><a id="l05276" name="l05276"></a><span class="lineno"> 5276</span>        {</div>
<div class="line"><a id="l05277" name="l05277"></a><span class="lineno"> 5277</span>        <span class="keyword">static</span> LRESULT getWindowText (HWND window, <span class="keywordtype">wchar_t</span> text[], <span class="keywordtype">int</span> size)</div>
<div class="line"><a id="l05278" name="l05278"></a><span class="lineno"> 5278</span>            {</div>
<div class="line"><a id="l05279" name="l05279"></a><span class="lineno"> 5279</span>$1          memset (text, 0, size * <span class="keyword">sizeof</span> (*text));</div>
<div class="line"><a id="l05280" name="l05280"></a><span class="lineno"> 5280</span> </div>
<div class="line"><a id="l05281" name="l05281"></a><span class="lineno"> 5281</span>$           <span class="keywordflow">return</span> SendMessageTimeoutW (window, WM_GETTEXT, (WPARAM) size, (LPARAM) text, SMTO_BLOCK | SMTO_ABORTIFHUNG, <a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>, NULL);</div>
<div class="line"><a id="l05282" name="l05282"></a><span class="lineno"> 5282</span>            }</div>
<div class="line"><a id="l05283" name="l05283"></a><span class="lineno"> 5283</span> </div>
<div class="line"><a id="l05284" name="l05284"></a><span class="lineno"> 5284</span>        <span class="keyword">static</span> LRESULT setWindowText (HWND window, <span class="keywordtype">wchar_t</span> text[])</div>
<div class="line"><a id="l05285" name="l05285"></a><span class="lineno"> 5285</span>            {</div>
<div class="line"><a id="l05286" name="l05286"></a><span class="lineno"> 5286</span>$1          <span class="keywordflow">return</span> SendMessageTimeoutW (window, WM_SETTEXT, 0,             (LPARAM) text, SMTO_BLOCK | SMTO_ABORTIFHUNG, <a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>, NULL);</div>
<div class="line"><a id="l05287" name="l05287"></a><span class="lineno"> 5287</span>            }</div>
<div class="line"><a id="l05288" name="l05288"></a><span class="lineno"> 5288</span>        };</div>
<div class="line"><a id="l05289" name="l05289"></a><span class="lineno"> 5289</span> </div>
<div class="line"><a id="l05290" name="l05290"></a><span class="lineno"> 5290</span>$1  <span class="keyword">static</span> <span class="keywordtype">wchar_t</span> title [<a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>+15] = L<span class="stringliteral">&quot;TXLib&quot;</span>;</div>
<div class="line"><a id="l05291" name="l05291"></a><span class="lineno"> 5291</span> </div>
<div class="line"><a id="l05292" name="l05292"></a><span class="lineno"> 5292</span>$   tools::getWindowText (wnd, title, <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>-1);</div>
<div class="line"><a id="l05293" name="l05293"></a><span class="lineno"> 5293</span>$   <span class="keywordtype">unsigned</span> len = (unsigned) wcslen (title); <span class="keywordflow">if</span> (len &gt;= <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>) len = <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>-1;</div>
<div class="line"><a id="l05294" name="l05294"></a><span class="lineno"> 5294</span> </div>
<div class="line"><a id="l05295" name="l05295"></a><span class="lineno"> 5295</span>$   MultiByteToWideChar (_TX_CP, 0, <span class="stringliteral">&quot; []&quot;</span>, -1, title + len, <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a> - len);</div>
<div class="line"><a id="l05296" name="l05296"></a><span class="lineno"> 5296</span> </div>
<div class="line"><a id="l05297" name="l05297"></a><span class="lineno"> 5297</span>$   tools::setWindowText (wnd, title);</div>
<div class="line"><a id="l05298" name="l05298"></a><span class="lineno"> 5298</span>$   tools::getWindowText (wnd, title, <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>-1);</div>
<div class="line"><a id="l05299" name="l05299"></a><span class="lineno"> 5299</span>$   <span class="keywordflow">if</span> (len &lt;= <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>-1-2 &amp;&amp; title [len+2] == <span class="comment">/* &#39;&#39; */</span> (<span class="keywordtype">wchar_t</span>) 0x0417) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05300" name="l05300"></a><span class="lineno"> 5300</span> </div>
<div class="line"><a id="l05301" name="l05301"></a><span class="lineno"> 5301</span>$   MultiByteToWideChar (_TX_CP, 0, <span class="stringliteral">&quot; [FINISHED]&quot;</span>,  -1, title + len, <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a> - len);</div>
<div class="line"><a id="l05302" name="l05302"></a><span class="lineno"> 5302</span> </div>
<div class="line"><a id="l05303" name="l05303"></a><span class="lineno"> 5303</span>$   tools::setWindowText (wnd, title);</div>
<div class="line"><a id="l05304" name="l05304"></a><span class="lineno"> 5304</span>$   tools::getWindowText (wnd, title, <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>-1);</div>
<div class="line"><a id="l05305" name="l05305"></a><span class="lineno"> 5305</span>$   <span class="keywordflow">if</span> (len &lt;= <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>-1-2 &amp;&amp; title [len+2] == <span class="comment">/* &#39;F&#39; */</span> (<span class="keywordtype">wchar_t</span>) 0x0046) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l05306" name="l05306"></a><span class="lineno"> 5306</span> </div>
<div class="line"><a id="l05307" name="l05307"></a><span class="lineno"> 5307</span>$   <span class="keywordflow">return</span> 2;</div>
<div class="line"><a id="l05308" name="l05308"></a><span class="lineno"> 5308</span>    }</div>
<div class="line"><a id="l05309" name="l05309"></a><span class="lineno"> 5309</span> </div>
<div class="line"><a id="l05310" name="l05310"></a><span class="lineno"> 5310</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05311" name="l05311"></a><span class="lineno"> 5311</span> </div>
<div class="line"><a id="l05312" name="l05312"></a><span class="lineno"> 5312</span><span class="keywordtype">void</span> _txPauseBeforeTermination (HWND canvas)</div>
<div class="line"><a id="l05313" name="l05313"></a><span class="lineno"> 5313</span>    {</div>
<div class="line"><a id="l05314" name="l05314"></a><span class="lineno"> 5314</span>$1  <span class="keywordflow">while</span> (_kbhit()) (void)_getch();</div>
<div class="line"><a id="l05315" name="l05315"></a><span class="lineno"> 5315</span> </div>
<div class="line"><a id="l05316" name="l05316"></a><span class="lineno"> 5316</span>$   CONSOLE_SCREEN_BUFFER_INFO con = {{0}};</div>
<div class="line"><a id="l05317" name="l05317"></a><span class="lineno"> 5317</span>$   <span class="keywordtype">bool</span> kbRedir = !GetConsoleScreenBufferInfo (GetStdHandle (STD_OUTPUT_HANDLE), &amp;con);</div>
<div class="line"><a id="l05318" name="l05318"></a><span class="lineno"> 5318</span>$   <span class="keywordtype">bool</span> kbWait  = (_txGetInput() == EOF);</div>
<div class="line"><a id="l05319" name="l05319"></a><span class="lineno"> 5319</span>$   <span class="keywordtype">bool</span> wine    = !!Win32::wine_get_version;</div>
<div class="line"><a id="l05320" name="l05320"></a><span class="lineno"> 5320</span> </div>
<div class="line"><a id="l05321" name="l05321"></a><span class="lineno"> 5321</span>$   <span class="keywordflow">if</span> (kbWait &amp;&amp; !canvas &amp;&amp; !kbRedir &amp;&amp; !wine)</div>
<div class="line"><a id="l05322" name="l05322"></a><span class="lineno"> 5322</span>        {</div>
<div class="line"><a id="l05323" name="l05323"></a><span class="lineno"> 5323</span>$       printf (<span class="stringliteral">&quot;\n&quot;</span> <span class="stringliteral">&quot;[    ]&quot;</span>);</div>
<div class="line"><a id="l05324" name="l05324"></a><span class="lineno"> 5324</span>        }</div>
<div class="line"><a id="l05325" name="l05325"></a><span class="lineno"> 5325</span> </div>
<div class="line"><a id="l05326" name="l05326"></a><span class="lineno"> 5326</span>$   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; ; i++)</div>
<div class="line"><a id="l05327" name="l05327"></a><span class="lineno"> 5327</span>        {</div>
<div class="line"><a id="l05328" name="l05328"></a><span class="lineno"> 5328</span>$       Sleep (<a class="code hl_variable" href="group___technical.html#ga04cf6a2f12ea617b5a29ce939f673085">_txWindowUpdateInterval</a>);</div>
<div class="line"><a id="l05329" name="l05329"></a><span class="lineno"> 5329</span> </div>
<div class="line"><a id="l05330" name="l05330"></a><span class="lineno"> 5330</span>        <span class="keywordflow">if</span> (!kbWait || (kbRedir &amp;&amp; !canvas)) { $ <span class="keywordflow">break</span>; }  <span class="comment">// No need to run and hide</span></div>
<div class="line"><a id="l05331" name="l05331"></a><span class="lineno"> 5331</span> </div>
<div class="line"><a id="l05332" name="l05332"></a><span class="lineno"> 5332</span>        <span class="keywordflow">if</span> (!wine &amp;&amp; _txGetInput() != EOF)   { $ <span class="keywordflow">break</span>; }  <span class="comment">// Somebody hit something.</span></div>
<div class="line"><a id="l05333" name="l05333"></a><span class="lineno"> 5333</span> </div>
<div class="line"><a id="l05334" name="l05334"></a><span class="lineno"> 5334</span>        <span class="keywordflow">if</span> (canvas &amp;&amp; !_txCanvas_ThreadId)   { $ <span class="keywordflow">break</span>; }  <span class="comment">// There was a window, and now there is not.</span></div>
<div class="line"><a id="l05335" name="l05335"></a><span class="lineno"> 5335</span> </div>
<div class="line"><a id="l05336" name="l05336"></a><span class="lineno"> 5336</span>        <span class="keywordflow">if</span> (!Win32::GetConsoleWindow())      { $ <span class="keywordflow">break</span>; }  <span class="comment">// Console was destroyed</span></div>
<div class="line"><a id="l05337" name="l05337"></a><span class="lineno"> 5337</span> </div>
<div class="line"><a id="l05338" name="l05338"></a><span class="lineno"> 5338</span>        <span class="keywordflow">if</span> (Win32::GhostWindowFromHungWindow &amp;&amp; Win32::GhostWindowFromHungWindow (canvas))</div>
<div class="line"><a id="l05339" name="l05339"></a><span class="lineno"> 5339</span>            { $ <a class="code hl_define" href="group___misc.html#ga3e4a82a10130528f63b6f19476a0943a">TX_ERROR</a> (<span class="stringliteral">&quot;    .&quot;</span>); <span class="keywordflow">break</span>; }</div>
<div class="line"><a id="l05340" name="l05340"></a><span class="lineno"> 5340</span> </div>
<div class="line"><a id="l05341" name="l05341"></a><span class="lineno"> 5341</span>        <span class="keywordflow">if</span> (canvas &amp;&amp; Win32::IsHungAppWindow &amp;&amp; Win32::IsHungAppWindow (canvas))</div>
<div class="line"><a id="l05342" name="l05342"></a><span class="lineno"> 5342</span>            { $ _txTrace (__FILE__, __LINE__, <span class="stringliteral">&quot;WARNING:     .&quot;</span>);     <span class="keywordflow">break</span>; }</div>
<div class="line"><a id="l05343" name="l05343"></a><span class="lineno"> 5343</span> </div>
<div class="line"><a id="l05344" name="l05344"></a><span class="lineno"> 5344</span>        <span class="keywordflow">if</span> (canvas &amp;&amp; !SendMessageTimeout (canvas, WM_NULL, 0,0, SMTO_BLOCK | SMTO_ABORTIFHUNG, <a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>, NULL))</div>
<div class="line"><a id="l05345" name="l05345"></a><span class="lineno"> 5345</span>            { $ _txTrace (__FILE__, __LINE__, <span class="stringliteral">&quot;WARNING:      .&quot;</span>); <span class="keywordflow">break</span>; }</div>
<div class="line"><a id="l05346" name="l05346"></a><span class="lineno"> 5346</span> </div>
<div class="line"><a id="l05347" name="l05347"></a><span class="lineno"> 5347</span>        <span class="keywordflow">if</span> (!wine &amp;&amp; !(i % 100500))</div>
<div class="line"><a id="l05348" name="l05348"></a><span class="lineno"> 5348</span>            { $ printf (<span class="stringliteral">&quot;\r&quot;</span> <span class="stringliteral">&quot;[   -    ]&quot;</span>); }</div>
<div class="line"><a id="l05349" name="l05349"></a><span class="lineno"> 5349</span>        }</div>
<div class="line"><a id="l05350" name="l05350"></a><span class="lineno"> 5350</span> </div>
<div class="line"><a id="l05351" name="l05351"></a><span class="lineno"> 5351</span>$   <span class="keywordflow">while</span> (!wine &amp;&amp; _kbhit()) (void)_getch();</div>
<div class="line"><a id="l05352" name="l05352"></a><span class="lineno"> 5352</span> </div>
<div class="line"><a id="l05353" name="l05353"></a><span class="lineno"> 5353</span>$   printf (<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l05354" name="l05354"></a><span class="lineno"> 5354</span>    }</div>
<div class="line"><a id="l05355" name="l05355"></a><span class="lineno"> 5355</span> </div>
<div class="line"><a id="l05356" name="l05356"></a><span class="lineno"> 5356</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05357" name="l05357"></a><span class="lineno"> 5357</span> </div>
<div class="line"><a id="l05358" name="l05358"></a><span class="lineno"> 5358</span><span class="keywordtype">int</span> _txGetInput()</div>
<div class="line"><a id="l05359" name="l05359"></a><span class="lineno"> 5359</span>    {</div>
<div class="line"><a id="l05360" name="l05360"></a><span class="lineno"> 5360</span>$1  HANDLE con = GetStdHandle (STD_INPUT_HANDLE);</div>
<div class="line"><a id="l05361" name="l05361"></a><span class="lineno"> 5361</span> </div>
<div class="line"><a id="l05362" name="l05362"></a><span class="lineno"> 5362</span>$   DWORD nchars = 0;</div>
<div class="line"><a id="l05363" name="l05363"></a><span class="lineno"> 5363</span>$   <span class="keywordflow">if</span> (GetConsoleMode (con, &amp;nchars) == 0 &amp;&amp;</div>
<div class="line"><a id="l05364" name="l05364"></a><span class="lineno"> 5364</span>        PeekNamedPipe  (con, NULL, 0, NULL, &amp;nchars, NULL))</div>
<div class="line"><a id="l05365" name="l05365"></a><span class="lineno"> 5365</span>        {</div>
<div class="line"><a id="l05366" name="l05366"></a><span class="lineno"> 5366</span>$       <span class="keywordflow">return</span> (nchars)? fgetc (stdin) : EOF;</div>
<div class="line"><a id="l05367" name="l05367"></a><span class="lineno"> 5367</span>        }</div>
<div class="line"><a id="l05368" name="l05368"></a><span class="lineno"> 5368</span> </div>
<div class="line"><a id="l05369" name="l05369"></a><span class="lineno"> 5369</span>$   <span class="keywordflow">if</span> (_kbhit())</div>
<div class="line"><a id="l05370" name="l05370"></a><span class="lineno"> 5370</span>        {</div>
<div class="line"><a id="l05371" name="l05371"></a><span class="lineno"> 5371</span>$       <span class="keywordflow">return</span> _getch();</div>
<div class="line"><a id="l05372" name="l05372"></a><span class="lineno"> 5372</span>        }</div>
<div class="line"><a id="l05373" name="l05373"></a><span class="lineno"> 5373</span> </div>
<div class="line"><a id="l05374" name="l05374"></a><span class="lineno"> 5374</span><span class="preprocessor">#if defined (_MSC_VER) &amp;&amp; (_MSC_VER &lt; 1700)</span></div>
<div class="line"><a id="l05375" name="l05375"></a><span class="lineno"> 5375</span> </div>
<div class="line"><a id="l05376" name="l05376"></a><span class="lineno"> 5376</span>$   <span class="keywordflow">if</span> (fseek (stdin, 1, SEEK_CUR) != EOF)</div>
<div class="line"><a id="l05377" name="l05377"></a><span class="lineno"> 5377</span>        {</div>
<div class="line"><a id="l05378" name="l05378"></a><span class="lineno"> 5378</span>$       (<span class="keywordtype">void</span>) fseek (stdin, -1, SEEK_CUR);</div>
<div class="line"><a id="l05379" name="l05379"></a><span class="lineno"> 5379</span>$       <span class="keywordflow">return</span> fgetc (stdin);                              <span class="comment">// This causes blocking in MSVC 2011 beta</span></div>
<div class="line"><a id="l05380" name="l05380"></a><span class="lineno"> 5380</span>        }</div>
<div class="line"><a id="l05381" name="l05381"></a><span class="lineno"> 5381</span> </div>
<div class="line"><a id="l05382" name="l05382"></a><span class="lineno"> 5382</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l05383" name="l05383"></a><span class="lineno"> 5383</span> </div>
<div class="line"><a id="l05384" name="l05384"></a><span class="lineno"> 5384</span>$   <span class="keywordflow">return</span> EOF;</div>
<div class="line"><a id="l05385" name="l05385"></a><span class="lineno"> 5385</span>    }</div>
<div class="line"><a id="l05386" name="l05386"></a><span class="lineno"> 5386</span> </div>
<div class="line"><a id="l05387" name="l05387"></a><span class="lineno"> 5387</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05388" name="l05388"></a><span class="lineno"> 5388</span> </div>
<div class="line"><a id="l05389" name="l05389"></a><span class="lineno"> 5389</span><span class="keywordtype">bool</span> _txIsParentWaitable (DWORD* parentPID <span class="comment">/*= NULL*/</span>)</div>
<div class="line"><a id="l05390" name="l05390"></a><span class="lineno"> 5390</span>    {</div>
<div class="line"><a id="l05391" name="l05391"></a><span class="lineno"> 5391</span>$1  PROCESSENTRY32* info = _txFindProcess();</div>
<div class="line"><a id="l05392" name="l05392"></a><span class="lineno"> 5392</span>$   <span class="keywordflow">if</span> (!info) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05393" name="l05393"></a><span class="lineno"> 5393</span> </div>
<div class="line"><a id="l05394" name="l05394"></a><span class="lineno"> 5394</span>$   info = _txFindProcess (info-&gt;th32ParentProcessID);</div>
<div class="line"><a id="l05395" name="l05395"></a><span class="lineno"> 5395</span>$   <span class="keywordflow">if</span> (!info) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05396" name="l05396"></a><span class="lineno"> 5396</span> </div>
<div class="line"><a id="l05397" name="l05397"></a><span class="lineno"> 5397</span>$   <span class="keywordtype">char</span> parent [MAX_PATH] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l05398" name="l05398"></a><span class="lineno"> 5398</span>$   strncpy_s (parent, info-&gt;szExeFile, sizeof (parent) - 1);</div>
<div class="line"><a id="l05399" name="l05399"></a><span class="lineno"> 5399</span>$   <span class="keywordflow">if</span> (parentPID) *parentPID = info-&gt;th32ProcessID;</div>
<div class="line"><a id="l05400" name="l05400"></a><span class="lineno"> 5400</span> </div>
<div class="line"><a id="l05401" name="l05401"></a><span class="lineno"> 5401</span>$   info = _txFindProcess (info-&gt;th32ParentProcessID);          <span class="comment">// info: grandparent</span></div>
<div class="line"><a id="l05402" name="l05402"></a><span class="lineno"> 5402</span> </div>
<div class="line"><a id="l05403" name="l05403"></a><span class="lineno"> 5403</span>$   <span class="keywordtype">char</span> list[<a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>] = <a class="code hl_define" href="group___technical.html#ga2c0a4fe0612f109c5c88d6d55a061db5">_TX_WAITABLE_PARENTS</a>;</div>
<div class="line"><a id="l05404" name="l05404"></a><span class="lineno"> 5404</span>$   <span class="keywordtype">char</span>* ctx = NULL;</div>
<div class="line"><a id="l05405" name="l05405"></a><span class="lineno"> 5405</span> </div>
<div class="line"><a id="l05406" name="l05406"></a><span class="lineno"> 5406</span>$   <span class="keywordflow">for</span> (<span class="keywordtype">char</span>* p = strtok_s (list, <span class="stringliteral">&quot;, &quot;</span>, &amp;ctx); p; p = strtok_s (NULL, <span class="stringliteral">&quot;, &quot;</span>, &amp;ctx))</div>
<div class="line"><a id="l05407" name="l05407"></a><span class="lineno"> 5407</span>        {</div>
<div class="line"><a id="l05408" name="l05408"></a><span class="lineno"> 5408</span>$       <span class="keywordtype">char</span>* gp = strchr (p, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a id="l05409" name="l05409"></a><span class="lineno"> 5409</span> </div>
<div class="line"><a id="l05410" name="l05410"></a><span class="lineno"> 5410</span>$       <span class="keywordflow">if</span> (gp)</div>
<div class="line"><a id="l05411" name="l05411"></a><span class="lineno"> 5411</span>            {</div>
<div class="line"><a id="l05412" name="l05412"></a><span class="lineno"> 5412</span>$           *gp++ = 0;</div>
<div class="line"><a id="l05413" name="l05413"></a><span class="lineno"> 5413</span>$           <span class="keywordflow">if</span> (_stricmp (p, parent) != 0) { <span class="keywordflow">continue</span>; }</div>
<div class="line"><a id="l05414" name="l05414"></a><span class="lineno"> 5414</span> </div>
<div class="line"><a id="l05415" name="l05415"></a><span class="lineno"> 5415</span>$           <span class="keywordflow">if</span> (info) <span class="keywordflow">if</span> (_stricmp (gp, info-&gt;szExeFile) == 0)  <span class="comment">// Was &amp;&amp;, but OMG MSVC /analyze..</span></div>
<div class="line"><a id="l05416" name="l05416"></a><span class="lineno"> 5416</span>                { $ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a id="l05417" name="l05417"></a><span class="lineno"> 5417</span>            }</div>
<div class="line"><a id="l05418" name="l05418"></a><span class="lineno"> 5418</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l05419" name="l05419"></a><span class="lineno"> 5419</span>            {</div>
<div class="line"><a id="l05420" name="l05420"></a><span class="lineno"> 5420</span>$           <span class="keywordflow">if</span> (_stricmp (p, parent) == 0)</div>
<div class="line"><a id="l05421" name="l05421"></a><span class="lineno"> 5421</span>                { $ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a id="l05422" name="l05422"></a><span class="lineno"> 5422</span>            }</div>
<div class="line"><a id="l05423" name="l05423"></a><span class="lineno"> 5423</span>        }</div>
<div class="line"><a id="l05424" name="l05424"></a><span class="lineno"> 5424</span> </div>
<div class="line"><a id="l05425" name="l05425"></a><span class="lineno"> 5425</span>$   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05426" name="l05426"></a><span class="lineno"> 5426</span>    }</div>
<div class="line"><a id="l05427" name="l05427"></a><span class="lineno"> 5427</span> </div>
<div class="line"><a id="l05428" name="l05428"></a><span class="lineno"> 5428</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05429" name="l05429"></a><span class="lineno"> 5429</span> </div>
<div class="line"><a id="l05430" name="l05430"></a><span class="lineno"> 5430</span>PROCESSENTRY32* _txFindProcess (<span class="keywordtype">unsigned</span> pid <span class="comment">/*= GetCurrentProcessId()*/</span>)</div>
<div class="line"><a id="l05431" name="l05431"></a><span class="lineno"> 5431</span>    {</div>
<div class="line"><a id="l05432" name="l05432"></a><span class="lineno"> 5432</span>$1  <span class="keyword">static</span> PROCESSENTRY32 info = { <span class="keyword">sizeof</span> (info) };</div>
<div class="line"><a id="l05433" name="l05433"></a><span class="lineno"> 5433</span>$   <span class="keywordflow">if</span> (!pid) <span class="keywordflow">return</span> &amp;info;</div>
<div class="line"><a id="l05434" name="l05434"></a><span class="lineno"> 5434</span> </div>
<div class="line"><a id="l05435" name="l05435"></a><span class="lineno"> 5435</span>$   HANDLE sshot = CreateToolhelp32Snapshot (TH32CS_SNAPPROCESS, 0);</div>
<div class="line"><a id="l05436" name="l05436"></a><span class="lineno"> 5436</span>$   <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (sshot); <span class="keywordflow">if</span> (!sshot) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05437" name="l05437"></a><span class="lineno"> 5437</span> </div>
<div class="line"><a id="l05438" name="l05438"></a><span class="lineno"> 5438</span>$   <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> ok = !!Process32First (sshot, &amp;info); ok; ok = !!Process32Next (sshot, &amp;info))</div>
<div class="line"><a id="l05439" name="l05439"></a><span class="lineno"> 5439</span>        <span class="keywordflow">if</span> (info.th32ProcessID == pid) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05440" name="l05440"></a><span class="lineno"> 5440</span> </div>
<div class="line"><a id="l05441" name="l05441"></a><span class="lineno"> 5441</span>$   CloseHandle (sshot);</div>
<div class="line"><a id="l05442" name="l05442"></a><span class="lineno"> 5442</span> </div>
<div class="line"><a id="l05443" name="l05443"></a><span class="lineno"> 5443</span>$   <span class="keywordflow">return</span> &amp;info;</div>
<div class="line"><a id="l05444" name="l05444"></a><span class="lineno"> 5444</span>    }</div>
<div class="line"><a id="l05445" name="l05445"></a><span class="lineno"> 5445</span> </div>
<div class="line"><a id="l05446" name="l05446"></a><span class="lineno"> 5446</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05447" name="l05447"></a><span class="lineno"> 5447</span> </div>
<div class="line"><a id="l05448" name="l05448"></a><span class="lineno"> 5448</span><span class="keywordtype">bool</span> _txInDll()</div>
<div class="line"><a id="l05449" name="l05449"></a><span class="lineno"> 5449</span>    {</div>
<div class="line"><a id="l05450" name="l05450"></a><span class="lineno"> 5450</span>$1  MODULEENTRY32 mod = { <span class="keyword">sizeof</span> (mod) };</div>
<div class="line"><a id="l05451" name="l05451"></a><span class="lineno"> 5451</span> </div>
<div class="line"><a id="l05452" name="l05452"></a><span class="lineno"> 5452</span>$   HANDLE sshot = CreateToolhelp32Snapshot (TH32CS_SNAPMODULE, 0);</div>
<div class="line"><a id="l05453" name="l05453"></a><span class="lineno"> 5453</span>$   <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (sshot); <span class="keywordflow">if</span> (!sshot) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05454" name="l05454"></a><span class="lineno"> 5454</span> </div>
<div class="line"><a id="l05455" name="l05455"></a><span class="lineno"> 5455</span>$   <span class="keywordtype">bool</span> inDll = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05456" name="l05456"></a><span class="lineno"> 5456</span> </div>
<div class="line"><a id="l05457" name="l05457"></a><span class="lineno"> 5457</span>$   <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> ok = !!Module32First (sshot, &amp;mod); ok; ok = !!Module32Next (sshot, &amp;mod))</div>
<div class="line"><a id="l05458" name="l05458"></a><span class="lineno"> 5458</span>        {</div>
<div class="line"><a id="l05459" name="l05459"></a><span class="lineno"> 5459</span>$       <span class="keywordflow">if</span> (!mod.modBaseAddr) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05460" name="l05460"></a><span class="lineno"> 5460</span> </div>
<div class="line"><a id="l05461" name="l05461"></a><span class="lineno"> 5461</span>$       IMAGE_DOS_HEADER* dosHdr = (IMAGE_DOS_HEADER*)  mod.modBaseAddr;</div>
<div class="line"><a id="l05462" name="l05462"></a><span class="lineno"> 5462</span>$       IMAGE_NT_HEADERS* ntHdr  = (IMAGE_NT_HEADERS*) (mod.modBaseAddr + dosHdr-&gt;e_lfanew);</div>
<div class="line"><a id="l05463" name="l05463"></a><span class="lineno"> 5463</span> </div>
<div class="line"><a id="l05464" name="l05464"></a><span class="lineno"> 5464</span>$       inDll = (dosHdr-&gt;e_magic  == IMAGE_DOS_SIGNATURE &amp;&amp;</div>
<div class="line"><a id="l05465" name="l05465"></a><span class="lineno"> 5465</span>                 ntHdr-&gt;Signature == IMAGE_NT_SIGNATURE  &amp;&amp;</div>
<div class="line"><a id="l05466" name="l05466"></a><span class="lineno"> 5466</span>                (ntHdr-&gt;FileHeader.Characteristics &amp; IMAGE_FILE_DLL) != 0);</div>
<div class="line"><a id="l05467" name="l05467"></a><span class="lineno"> 5467</span> </div>
<div class="line"><a id="l05468" name="l05468"></a><span class="lineno"> 5468</span>$       <span class="keywordflow">if</span> (<a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> ((BYTE*)(ptrdiff_t)_txInDll, mod.modBaseAddr, mod.modBaseAddr + mod.modBaseSize)) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05469" name="l05469"></a><span class="lineno"> 5469</span>        }</div>
<div class="line"><a id="l05470" name="l05470"></a><span class="lineno"> 5470</span> </div>
<div class="line"><a id="l05471" name="l05471"></a><span class="lineno"> 5471</span>$   CloseHandle (sshot);</div>
<div class="line"><a id="l05472" name="l05472"></a><span class="lineno"> 5472</span>$   <span class="keywordflow">return</span> inDll;</div>
<div class="line"><a id="l05473" name="l05473"></a><span class="lineno"> 5473</span>    }</div>
<div class="line"><a id="l05474" name="l05474"></a><span class="lineno"> 5474</span> </div>
<div class="line"><a id="l05475" name="l05475"></a><span class="lineno"> 5475</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05476" name="l05476"></a><span class="lineno"> 5476</span> </div>
<div class="line"><a id="l05477" name="l05477"></a><span class="lineno"> 5477</span><span class="comment">// You are here, little hacker?</span></div>
<div class="line"><a id="l05478" name="l05478"></a><span class="lineno"> 5478</span> </div>
<div class="line"><a id="l05479" name="l05479"></a><span class="lineno"> 5479</span><span class="keywordtype">bool</span> _txKillProcess (DWORD pid)</div>
<div class="line"><a id="l05480" name="l05480"></a><span class="lineno"> 5480</span>    {</div>
<div class="line"><a id="l05481" name="l05481"></a><span class="lineno"> 5481</span>$1  _TX_IF_ARGUMENT_FAILED (pid) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05482" name="l05482"></a><span class="lineno"> 5482</span> </div>
<div class="line"><a id="l05483" name="l05483"></a><span class="lineno"> 5483</span>$   HANDLE token = INVALID_HANDLE_VALUE;</div>
<div class="line"><a id="l05484" name="l05484"></a><span class="lineno"> 5484</span>$   OpenProcessToken (GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;token) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05485" name="l05485"></a><span class="lineno"> 5485</span> </div>
<div class="line"><a id="l05486" name="l05486"></a><span class="lineno"> 5486</span>$   LUID luid = {0};</div>
<div class="line"><a id="l05487" name="l05487"></a><span class="lineno"> 5487</span>$   LookupPrivilegeValue (NULL, SE_DEBUG_NAME, &amp;luid) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05488" name="l05488"></a><span class="lineno"> 5488</span> </div>
<div class="line"><a id="l05489" name="l05489"></a><span class="lineno"> 5489</span>$   TOKEN_PRIVILEGES priv = { 1, {{{ luid.LowPart, luid.HighPart}, SE_PRIVILEGE_ENABLED }}};</div>
<div class="line"><a id="l05490" name="l05490"></a><span class="lineno"> 5490</span>$   TOKEN_PRIVILEGES old  = {0};</div>
<div class="line"><a id="l05491" name="l05491"></a><span class="lineno"> 5491</span> </div>
<div class="line"><a id="l05492" name="l05492"></a><span class="lineno"> 5492</span>$   DWORD oldSz = 0;</div>
<div class="line"><a id="l05493" name="l05493"></a><span class="lineno"> 5493</span>$   AdjustTokenPrivileges (token, <span class="keyword">false</span>, &amp;priv, <span class="keyword">sizeof</span> (priv), &amp;old, &amp;oldSz) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05494" name="l05494"></a><span class="lineno"> 5494</span> </div>
<div class="line"><a id="l05495" name="l05495"></a><span class="lineno"> 5495</span>$   HANDLE proc = OpenProcess (PROCESS_ALL_ACCESS, 0, pid);</div>
<div class="line"><a id="l05496" name="l05496"></a><span class="lineno"> 5496</span>$   <span class="keywordflow">if</span> (!proc) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05497" name="l05497"></a><span class="lineno"> 5497</span> </div>
<div class="line"><a id="l05498" name="l05498"></a><span class="lineno"> 5498</span>$   <span class="keywordtype">bool</span> ok = !!TerminateProcess (proc, 0);</div>
<div class="line"><a id="l05499" name="l05499"></a><span class="lineno"> 5499</span>$   CloseHandle (proc);</div>
<div class="line"><a id="l05500" name="l05500"></a><span class="lineno"> 5500</span> </div>
<div class="line"><a id="l05501" name="l05501"></a><span class="lineno"> 5501</span>$   <span class="keywordflow">return</span> ok;</div>
<div class="line"><a id="l05502" name="l05502"></a><span class="lineno"> 5502</span>    }</div>
<div class="line"><a id="l05503" name="l05503"></a><span class="lineno"> 5503</span> </div>
<div class="line"><a id="l05504" name="l05504"></a><span class="lineno"> 5504</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05505" name="l05505"></a><span class="lineno"> 5505</span> </div>
<div class="line"><a id="l05506" name="l05506"></a><span class="lineno"> 5506</span><span class="comment">// TXLib continues to hack the reality to make your life better, sweeter and easier</span></div>
<div class="line"><a id="l05507" name="l05507"></a><span class="lineno"> 5507</span> </div>
<div class="line"><a id="l05508" name="l05508"></a><span class="lineno"> 5508</span>PROC _txSetProcAddress (HMODULE module, <span class="keyword">const</span> <span class="keywordtype">char</span>* dllName, <span class="keyword">const</span> <span class="keywordtype">char</span>* funcName, PROC newFunc)</div>
<div class="line"><a id="l05509" name="l05509"></a><span class="lineno"> 5509</span>    {</div>
<div class="line"><a id="l05510" name="l05510"></a><span class="lineno"> 5510</span>$1  _TX_IF_ARGUMENT_FAILED (module)  <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05511" name="l05511"></a><span class="lineno"> 5511</span>$   _TX_IF_ARGUMENT_FAILED (dllName) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05512" name="l05512"></a><span class="lineno"> 5512</span>$   _TX_IF_ARGUMENT_FAILED (newFunc) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05513" name="l05513"></a><span class="lineno"> 5513</span> </div>
<div class="line"><a id="l05514" name="l05514"></a><span class="lineno"> 5514</span>$   HMODULE dll = GetModuleHandle (dllName);</div>
<div class="line"><a id="l05515" name="l05515"></a><span class="lineno"> 5515</span>$   <span class="keywordflow">if</span> (!dll) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05516" name="l05516"></a><span class="lineno"> 5516</span> </div>
<div class="line"><a id="l05517" name="l05517"></a><span class="lineno"> 5517</span>$   PROC oldFunc = GetProcAddress (dll, funcName);</div>
<div class="line"><a id="l05518" name="l05518"></a><span class="lineno"> 5518</span>$   <span class="keywordflow">if</span> (!oldFunc) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05519" name="l05519"></a><span class="lineno"> 5519</span> </div>
<div class="line"><a id="l05520" name="l05520"></a><span class="lineno"> 5520</span><span class="preprocessor">    #define RVA_( type, addr )  ( (type) ((ptrdiff_t) module + (ptrdiff_t) (addr)) )</span></div>
<div class="line"><a id="l05521" name="l05521"></a><span class="lineno"> 5521</span> </div>
<div class="line"><a id="l05522" name="l05522"></a><span class="lineno"> 5522</span>$   IMAGE_DOS_HEADER* dosHdr = RVA_ (IMAGE_DOS_HEADER*, 0);</div>
<div class="line"><a id="l05523" name="l05523"></a><span class="lineno"> 5523</span>$   IMAGE_NT_HEADERS* ntHdr  = RVA_ (IMAGE_NT_HEADERS*, dosHdr-&gt;e_lfanew);</div>
<div class="line"><a id="l05524" name="l05524"></a><span class="lineno"> 5524</span> </div>
<div class="line"><a id="l05525" name="l05525"></a><span class="lineno"> 5525</span>$   <span class="keywordflow">if</span> (dosHdr-&gt;e_magic   != IMAGE_DOS_SIGNATURE ||</div>
<div class="line"><a id="l05526" name="l05526"></a><span class="lineno"> 5526</span>        ntHdr -&gt;Signature != IMAGE_NT_SIGNATURE) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05527" name="l05527"></a><span class="lineno"> 5527</span> </div>
<div class="line"><a id="l05528" name="l05528"></a><span class="lineno"> 5528</span>$   DWORD impOffset = ntHdr-&gt;OptionalHeader.DataDirectory[IMAGE_DIRECTORY_ENTRY_IMPORT].VirtualAddress;</div>
<div class="line"><a id="l05529" name="l05529"></a><span class="lineno"> 5529</span>$   IMAGE_IMPORT_DESCRIPTOR* desc = RVA_ (IMAGE_IMPORT_DESCRIPTOR*, impOffset);</div>
<div class="line"><a id="l05530" name="l05530"></a><span class="lineno"> 5530</span> </div>
<div class="line"><a id="l05531" name="l05531"></a><span class="lineno"> 5531</span>$   <span class="keywordflow">if</span> (desc == (IMAGE_IMPORT_DESCRIPTOR*) ntHdr) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05532" name="l05532"></a><span class="lineno"> 5532</span> </div>
<div class="line"><a id="l05533" name="l05533"></a><span class="lineno"> 5533</span>$   IMAGE_THUNK_DATA* thunk = NULL;</div>
<div class="line"><a id="l05534" name="l05534"></a><span class="lineno"> 5534</span>$   <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05535" name="l05535"></a><span class="lineno"> 5535</span> </div>
<div class="line"><a id="l05536" name="l05536"></a><span class="lineno"> 5536</span>    <span class="keywordflow">for</span> (; desc-&gt;Name; desc++)</div>
<div class="line"><a id="l05537" name="l05537"></a><span class="lineno"> 5537</span>        {</div>
<div class="line"><a id="l05538" name="l05538"></a><span class="lineno"> 5538</span>$       <span class="keywordflow">if</span> (_stricmp (RVA_ (<span class="keyword">const</span> <span class="keywordtype">char</span>*, desc-&gt;Name), dllName) != 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05539" name="l05539"></a><span class="lineno"> 5539</span> </div>
<div class="line"><a id="l05540" name="l05540"></a><span class="lineno"> 5540</span>$       <span class="keywordflow">for</span> (thunk = RVA_ (IMAGE_THUNK_DATA*, desc-&gt;FirstThunk); thunk-&gt;u1.Function; thunk++)</div>
<div class="line"><a id="l05541" name="l05541"></a><span class="lineno"> 5541</span>            <span class="keywordflow">if</span> ((ptrdiff_t) thunk-&gt;u1.Function == (ptrdiff_t) oldFunc) { found = <span class="keyword">true</span>; <span class="keywordflow">break</span>; }</div>
<div class="line"><a id="l05542" name="l05542"></a><span class="lineno"> 5542</span> </div>
<div class="line"><a id="l05543" name="l05543"></a><span class="lineno"> 5543</span>$       <span class="keywordflow">if</span> (found) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05544" name="l05544"></a><span class="lineno"> 5544</span>        }</div>
<div class="line"><a id="l05545" name="l05545"></a><span class="lineno"> 5545</span> </div>
<div class="line"><a id="l05546" name="l05546"></a><span class="lineno"> 5546</span>$   <span class="keywordflow">if</span> (!found) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05547" name="l05547"></a><span class="lineno"> 5547</span> </div>
<div class="line"><a id="l05548" name="l05548"></a><span class="lineno"> 5548</span>$   *(PROC*)&amp; thunk-&gt;u1.Function = newFunc;  <span class="comment">// In different MS-SDKs this field has different types (DWORD/DWORD*/etc)</span></div>
<div class="line"><a id="l05549" name="l05549"></a><span class="lineno"> 5549</span> </div>
<div class="line"><a id="l05550" name="l05550"></a><span class="lineno"> 5550</span>$   <span class="keywordflow">return</span> oldFunc;</div>
<div class="line"><a id="l05551" name="l05551"></a><span class="lineno"> 5551</span> </div>
<div class="line"><a id="l05552" name="l05552"></a><span class="lineno"> 5552</span>    #undef RVA_</div>
<div class="line"><a id="l05553" name="l05553"></a><span class="lineno"> 5553</span>    }</div>
<div class="line"><a id="l05554" name="l05554"></a><span class="lineno"> 5554</span> </div>
<div class="line"><a id="l05556" name="l05556"></a><span class="lineno"> 5556</span><span class="comment">//}</span></div>
<div class="line"><a id="l05557" name="l05557"></a><span class="lineno"> 5557</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l05558" name="l05558"></a><span class="lineno"> 5558</span> </div>
<div class="line"><a id="l05559" name="l05559"></a><span class="lineno"> 5559</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l05560" name="l05560"></a><span class="lineno"> 5560</span><span class="comment">//{          [Internal] TXLib window functions     (_txCanvas...)</span></div>
<div class="line"><a id="l05562" name="l05562"></a><span class="lineno"> 5562</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l05563" name="l05563"></a><span class="lineno"> 5563</span> </div>
<div class="line"><a id="l05564" name="l05564"></a><span class="lineno"> 5564</span><span class="comment">//{</span></div>
<div class="line"><a id="l05565" name="l05565"></a><span class="lineno"> 5565</span><span class="preprocessor">#if defined (_MSC_VER_6) || defined (_GCC_VER) &amp;&amp; (_GCC_VER &lt;= 345)</span></div>
<div class="line"><a id="l05566" name="l05566"></a><span class="lineno"> 5566</span> </div>
<div class="line"><a id="l05567" name="l05567"></a><span class="lineno"> 5567</span><span class="preprocessor">    #define SetClassLong_  SetClassLong</span></div>
<div class="line"><a id="l05568" name="l05568"></a><span class="lineno"> 5568</span><span class="preprocessor">    #define GCL_HICON_     GCL_HICON</span></div>
<div class="line"><a id="l05569" name="l05569"></a><span class="lineno"> 5569</span><span class="preprocessor">    #define GCL_HICONSM_   GCL_HICONSM</span></div>
<div class="line"><a id="l05570" name="l05570"></a><span class="lineno"> 5570</span><span class="preprocessor">    #define GCL_HCURSOR_   GCL_HCURSOR</span></div>
<div class="line"><a id="l05571" name="l05571"></a><span class="lineno"> 5571</span> </div>
<div class="line"><a id="l05572" name="l05572"></a><span class="lineno"> 5572</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l05573" name="l05573"></a><span class="lineno"> 5573</span><span class="preprocessor">    #define SetClassLong_  SetClassLongPtr</span></div>
<div class="line"><a id="l05574" name="l05574"></a><span class="lineno"> 5574</span><span class="preprocessor">    #define GCL_HICON_     GCLP_HICON</span></div>
<div class="line"><a id="l05575" name="l05575"></a><span class="lineno"> 5575</span><span class="preprocessor">    #define GCL_HICONSM_   GCLP_HICONSM</span></div>
<div class="line"><a id="l05576" name="l05576"></a><span class="lineno"> 5576</span><span class="preprocessor">    #define GCL_HCURSOR_   GCLP_HCURSOR</span></div>
<div class="line"><a id="l05577" name="l05577"></a><span class="lineno"> 5577</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l05578" name="l05578"></a><span class="lineno"> 5578</span><span class="comment">//}</span></div>
<div class="line"><a id="l05579" name="l05579"></a><span class="lineno"> 5579</span> </div>
<div class="line"><a id="l05580" name="l05580"></a><span class="lineno"> 5580</span><span class="keywordtype">unsigned</span> WINAPI _txCanvas_ThreadProc (<span class="keywordtype">void</span>* data)</div>
<div class="line"><a id="l05581" name="l05581"></a><span class="lineno"> 5581</span>    {</div>
<div class="line"><a id="l05582" name="l05582"></a><span class="lineno"> 5582</span>$1  _txCanvas_ThreadId = GetCurrentThreadId();</div>
<div class="line"><a id="l05583" name="l05583"></a><span class="lineno"> 5583</span> </div>
<div class="line"><a id="l05584" name="l05584"></a><span class="lineno"> 5584</span>$   _TX_IF_ARGUMENT_FAILED (data) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05585" name="l05585"></a><span class="lineno"> 5585</span> </div>
<div class="line"><a id="l05586" name="l05586"></a><span class="lineno"> 5586</span>$   HWND wnd = _txCanvas_CreateWindow ((SIZE*) data);</div>
<div class="line"><a id="l05587" name="l05587"></a><span class="lineno"> 5587</span>$   <span class="keywordflow">if</span> (!<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>()) <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;\a&quot;</span> <span class="stringliteral">&quot;Cannot create canvas&quot;</span>), 0;</div>
<div class="line"><a id="l05588" name="l05588"></a><span class="lineno"> 5588</span> </div>
<div class="line"><a id="l05589" name="l05589"></a><span class="lineno"> 5589</span>$   HICON   icon32 = LoadIcon   (GetModuleHandle (NULL), <span class="stringliteral">&quot;_TX_ICON&quot;</span>);</div>
<div class="line"><a id="l05590" name="l05590"></a><span class="lineno"> 5590</span>$   HICON   icon16 = LoadIcon   (GetModuleHandle (NULL), <span class="stringliteral">&quot;_TX_ICONSM&quot;</span>);</div>
<div class="line"><a id="l05591" name="l05591"></a><span class="lineno"> 5591</span>$   HCURSOR cursor = LoadCursor (GetModuleHandle (NULL), <span class="stringliteral">&quot;_TX_CURSOR&quot;</span>);</div>
<div class="line"><a id="l05592" name="l05592"></a><span class="lineno"> 5592</span> </div>
<div class="line"><a id="l05593" name="l05593"></a><span class="lineno"> 5593</span>$   SetClassLong_ (wnd, GCL_HICON_,   (DWORD)(ptrdiff_t) (icon32? icon32 : _txCreateTXIcon (32)));</div>
<div class="line"><a id="l05594" name="l05594"></a><span class="lineno"> 5594</span>$   SetClassLong_ (wnd, GCL_HICONSM_, (DWORD)(ptrdiff_t) (icon16? icon16 : _txCreateTXIcon (16)));</div>
<div class="line"><a id="l05595" name="l05595"></a><span class="lineno"> 5595</span>$   SetClassLong_ (wnd, GCL_HCURSOR_, (DWORD)(ptrdiff_t) (cursor? cursor : LoadCursor (NULL, IDC_ARROW)));</div>
<div class="line"><a id="l05596" name="l05596"></a><span class="lineno"> 5596</span> </div>
<div class="line"><a id="l05597" name="l05597"></a><span class="lineno"> 5597</span>$   HACCEL accel = LoadAccelerators (NULL, <span class="stringliteral">&quot;_TX_ACCELERATORS&quot;</span>);</div>
<div class="line"><a id="l05598" name="l05598"></a><span class="lineno"> 5598</span> </div>
<div class="line"><a id="l05599" name="l05599"></a><span class="lineno"> 5599</span>    _TX_ON_DEBUG (OutputDebugString (<a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a> <span class="stringliteral">&quot; - STARTED: &quot;</span> <a class="code hl_define" href="group___misc.html#ga43d277b4418068ebef1fd2bdbaf550f6">_TX_MODULE</a> <span class="stringliteral">&quot;\n&quot;</span>));</div>
<div class="line"><a id="l05600" name="l05600"></a><span class="lineno"> 5600</span> </div>
<div class="line"><a id="l05601" name="l05601"></a><span class="lineno"> 5601</span>$   _txRunning = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05602" name="l05602"></a><span class="lineno"> 5602</span> </div>
<div class="line"><a id="l05603" name="l05603"></a><span class="lineno"> 5603</span>$   ShowWindow          (wnd, SW_SHOW);</div>
<div class="line"><a id="l05604" name="l05604"></a><span class="lineno"> 5604</span>$   SetForegroundWindow (wnd);</div>
<div class="line"><a id="l05605" name="l05605"></a><span class="lineno"> 5605</span>$   UpdateWindow        (wnd);</div>
<div class="line"><a id="l05606" name="l05606"></a><span class="lineno"> 5606</span> </div>
<div class="line"><a id="l05607" name="l05607"></a><span class="lineno"> 5607</span>$   MSG msg = {0};</div>
<div class="line"><a id="l05608" name="l05608"></a><span class="lineno"> 5608</span>$   <span class="keywordflow">while</span> (GetMessage (&amp;msg, NULL, 0, 0))</div>
<div class="line"><a id="l05609" name="l05609"></a><span class="lineno"> 5609</span>        {</div>
<div class="line"><a id="l05610" name="l05610"></a><span class="lineno"> 5610</span>$       <span class="keywordflow">if</span> (!msg.hwnd) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05611" name="l05611"></a><span class="lineno"> 5611</span> </div>
<div class="line"><a id="l05612" name="l05612"></a><span class="lineno"> 5612</span>$       <span class="keywordflow">if</span> (accel != NULL &amp;&amp; TranslateAccelerator (wnd, accel, &amp;msg)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l05613" name="l05613"></a><span class="lineno"> 5613</span> </div>
<div class="line"><a id="l05614" name="l05614"></a><span class="lineno"> 5614</span>$       TranslateMessage (&amp;msg);</div>
<div class="line"><a id="l05615" name="l05615"></a><span class="lineno"> 5615</span>$       DispatchMessage  (&amp;msg);</div>
<div class="line"><a id="l05616" name="l05616"></a><span class="lineno"> 5616</span> </div>
<div class="line"><a id="l05617" name="l05617"></a><span class="lineno"> 5617</span>$       Sleep (0);</div>
<div class="line"><a id="l05618" name="l05618"></a><span class="lineno"> 5618</span>        }</div>
<div class="line"><a id="l05619" name="l05619"></a><span class="lineno"> 5619</span> </div>
<div class="line"><a id="l05620" name="l05620"></a><span class="lineno"> 5620</span>$   <span class="keywordflow">if</span> (icon16) DestroyIcon (icon16);  <span class="comment">// If Explorer is displaying Tray Notification, these</span></div>
<div class="line"><a id="l05621" name="l05621"></a><span class="lineno"> 5621</span>$   <span class="keywordflow">if</span> (icon32) DestroyIcon (icon32);  <span class="comment">// calls will possibly fail, and we&#39;ll get resource leak.</span></div>
<div class="line"><a id="l05622" name="l05622"></a><span class="lineno"> 5622</span> </div>
<div class="line"><a id="l05623" name="l05623"></a><span class="lineno"> 5623</span>$   LeaveCriticalSection (&amp;_txCanvas_LockBackBuf);</div>
<div class="line"><a id="l05624" name="l05624"></a><span class="lineno"> 5624</span> </div>
<div class="line"><a id="l05625" name="l05625"></a><span class="lineno"> 5625</span>$   <span class="keywordflow">if</span> (_txRunning &amp;&amp; _txMain)         <span class="comment">// Main window is destroyed but main() is still running.</span></div>
<div class="line"><a id="l05626" name="l05626"></a><span class="lineno"> 5626</span>        {                              <span class="comment">// No chances for good termination, so use exit().</span></div>
<div class="line"><a id="l05627" name="l05627"></a><span class="lineno"> 5627</span>$       exit ((<span class="keywordtype">int</span>) msg.wParam);</div>
<div class="line"><a id="l05628" name="l05628"></a><span class="lineno"> 5628</span>        }</div>
<div class="line"><a id="l05629" name="l05629"></a><span class="lineno"> 5629</span> </div>
<div class="line"><a id="l05630" name="l05630"></a><span class="lineno"> 5630</span>    _TX_ON_DEBUG (OutputDebugString (<a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a> <span class="stringliteral">&quot; - STOPPED: &quot;</span> <a class="code hl_define" href="group___misc.html#ga43d277b4418068ebef1fd2bdbaf550f6">_TX_MODULE</a> <span class="stringliteral">&quot;\n&quot;</span>));</div>
<div class="line"><a id="l05631" name="l05631"></a><span class="lineno"> 5631</span> </div>
<div class="line"><a id="l05632" name="l05632"></a><span class="lineno"> 5632</span>$   _txCanvas_ThreadId = 0;</div>
<div class="line"><a id="l05633" name="l05633"></a><span class="lineno"> 5633</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05634" name="l05634"></a><span class="lineno"> 5634</span>    }</div>
<div class="line"><a id="l05635" name="l05635"></a><span class="lineno"> 5635</span> </div>
<div class="line"><a id="l05636" name="l05636"></a><span class="lineno"> 5636</span><span class="comment">//{</span></div>
<div class="line"><a id="l05637" name="l05637"></a><span class="lineno"> 5637</span><span class="preprocessor">#undef SetClassLong</span></div>
<div class="line"><a id="l05638" name="l05638"></a><span class="lineno"> 5638</span><span class="preprocessor">#undef GCL_HICON_</span></div>
<div class="line"><a id="l05639" name="l05639"></a><span class="lineno"> 5639</span><span class="preprocessor">#undef GCL_HICONSM_</span></div>
<div class="line"><a id="l05640" name="l05640"></a><span class="lineno"> 5640</span><span class="preprocessor">#undef GCL_HCURSOR_</span></div>
<div class="line"><a id="l05641" name="l05641"></a><span class="lineno"> 5641</span><span class="comment">//}</span></div>
<div class="line"><a id="l05642" name="l05642"></a><span class="lineno"> 5642</span> </div>
<div class="line"><a id="l05643" name="l05643"></a><span class="lineno"> 5643</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05644" name="l05644"></a><span class="lineno"> 5644</span> </div>
<div class="line"><a id="l05645" name="l05645"></a><span class="lineno"> 5645</span>HWND _txCanvas_CreateWindow (SIZE* size)</div>
<div class="line"><a id="l05646" name="l05646"></a><span class="lineno"> 5646</span>    {</div>
<div class="line"><a id="l05647" name="l05647"></a><span class="lineno"> 5647</span>$1  _TX_IF_ARGUMENT_FAILED (size) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l05648" name="l05648"></a><span class="lineno"> 5648</span> </div>
<div class="line"><a id="l05649" name="l05649"></a><span class="lineno"> 5649</span>$   <span class="keyword">static</span> <span class="keywordtype">char</span> className[<a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l05650" name="l05650"></a><span class="lineno"> 5650</span>$   _snprintf_s (className, <span class="keyword">sizeof</span> (className) - 1 _TX_TRUNCATE,</div>
<div class="line"><a id="l05651" name="l05651"></a><span class="lineno"> 5651</span>                 <span class="stringliteral">&quot;/*---[TXLib]-------------------------- &quot;</span></div>
<div class="line"><a id="l05652" name="l05652"></a><span class="lineno"> 5652</span>                 <a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a> <span class="stringliteral">&quot;  &quot;</span> __FILE__ <span class="stringliteral">&quot;  WndClass %08X &quot;</span></div>
<div class="line"><a id="l05653" name="l05653"></a><span class="lineno"> 5653</span>                  <span class="stringliteral">&quot;--------------------------[TXLib]---*/&quot;</span>, (<span class="keywordtype">int</span>) GetTickCount());</div>
<div class="line"><a id="l05654" name="l05654"></a><span class="lineno"> 5654</span> </div>
<div class="line"><a id="l05655" name="l05655"></a><span class="lineno"> 5655</span>$   WNDCLASSEX wc    = { <span class="keyword">sizeof</span> (wc) };</div>
<div class="line"><a id="l05656" name="l05656"></a><span class="lineno"> 5656</span>$   wc.style         = CS_HREDRAW | CS_VREDRAW | CS_OWNDC;</div>
<div class="line"><a id="l05657" name="l05657"></a><span class="lineno"> 5657</span>$   wc.lpfnWndProc   = _txCanvas_WndProc;</div>
<div class="line"><a id="l05658" name="l05658"></a><span class="lineno"> 5658</span>$   wc.hCursor       = LoadCursor (NULL, IDC_ARROW);</div>
<div class="line"><a id="l05659" name="l05659"></a><span class="lineno"> 5659</span>$   wc.hbrBackground = (HBRUSH) Win32::GetStockObject (HOLLOW_BRUSH);</div>
<div class="line"><a id="l05660" name="l05660"></a><span class="lineno"> 5660</span>$   wc.lpszClassName = className;</div>
<div class="line"><a id="l05661" name="l05661"></a><span class="lineno"> 5661</span> </div>
<div class="line"><a id="l05662" name="l05662"></a><span class="lineno"> 5662</span>$   ATOM wndclass = RegisterClassEx (&amp;wc);</div>
<div class="line"><a id="l05663" name="l05663"></a><span class="lineno"> 5663</span>$   <span class="keywordflow">if</span> (!wndclass) <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;RegisterClass (\&quot;%s\&quot;) failed&quot;</span> <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> className), (HWND) NULL;</div>
<div class="line"><a id="l05664" name="l05664"></a><span class="lineno"> 5664</span> </div>
<div class="line"><a id="l05665" name="l05665"></a><span class="lineno"> 5665</span>$   <span class="keywordtype">int</span> centered = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05666" name="l05666"></a><span class="lineno"> 5666</span>$   <span class="keywordflow">if</span> (size-&gt;cx &lt; 0 &amp;&amp; size-&gt;cy &lt; 0) { size-&gt;cx *= -1; size-&gt;cy *= -1; centered = <span class="keyword">true</span>; }</div>
<div class="line"><a id="l05667" name="l05667"></a><span class="lineno"> 5667</span> </div>
<div class="line"><a id="l05668" name="l05668"></a><span class="lineno"> 5668</span>$   SIZE scr = { GetSystemMetrics (SM_CXSCREEN), GetSystemMetrics (SM_CYSCREEN) };</div>
<div class="line"><a id="l05669" name="l05669"></a><span class="lineno"> 5669</span>$   RECT r   = { 0, 0, size-&gt;cx, size-&gt;cy }; AdjustWindowRect (&amp;r, <a class="code hl_variable" href="group___technical.html#ga5df0d089d6da4f25e603b4fe726f702d">_txWindowStyle</a>, <span class="keyword">false</span>);</div>
<div class="line"><a id="l05670" name="l05670"></a><span class="lineno"> 5670</span>$   SIZE sz  = { r.right - r.left, r.bottom - r.top };</div>
<div class="line"><a id="l05671" name="l05671"></a><span class="lineno"> 5671</span> </div>
<div class="line"><a id="l05672" name="l05672"></a><span class="lineno"> 5672</span>$   HWND wnd = CreateWindowEx (WS_EX_APPWINDOW, className, <a class="code hl_function" href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">txGetModuleFileName</a> (<span class="keyword">false</span>), <a class="code hl_variable" href="group___technical.html#ga5df0d089d6da4f25e603b4fe726f702d">_txWindowStyle</a>,</div>
<div class="line"><a id="l05673" name="l05673"></a><span class="lineno"> 5673</span>                               centered? scr.cx/2 - sz.cx/2 : CW_USEDEFAULT,</div>
<div class="line"><a id="l05674" name="l05674"></a><span class="lineno"> 5674</span>                               centered? scr.cy/2 - sz.cy/2 : CW_USEDEFAULT,</div>
<div class="line"><a id="l05675" name="l05675"></a><span class="lineno"> 5675</span>                               sz.cx, sz.cy, NULL, NULL, NULL, NULL);</div>
<div class="line"><a id="l05676" name="l05676"></a><span class="lineno"> 5676</span> </div>
<div class="line"><a id="l05677" name="l05677"></a><span class="lineno"> 5677</span>$   <span class="keywordflow">if</span> (!wnd || !<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>()) <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;Cannot create canvas: CreateWindowEx (\&quot;%s\&quot;) failed&quot;</span> <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> className), (HWND) NULL;</div>
<div class="line"><a id="l05678" name="l05678"></a><span class="lineno"> 5678</span>$   HMENU menu = GetSystemMenu (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a id="l05679" name="l05679"></a><span class="lineno"> 5679</span>$   <span class="keywordflow">if</span> (!menu) <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>();</div>
<div class="line"><a id="l05680" name="l05680"></a><span class="lineno"> 5680</span> </div>
<div class="line"><a id="l05681" name="l05681"></a><span class="lineno"> 5681</span>$   AppendMenu (menu, MF_SEPARATOR, 0, NULL)                       <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05682" name="l05682"></a><span class="lineno"> 5682</span>$   AppendMenu (menu, MF_STRING, _TX_IDM_CONSOLE, <span class="stringliteral">&quot;Show &amp;Console&quot;</span>) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05683" name="l05683"></a><span class="lineno"> 5683</span>$   AppendMenu (menu, MF_STRING, _TX_IDM_ABOUT,   &quot;&amp;About...&quot;)     <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05684" name="l05684"></a><span class="lineno"> 5684</span> </div>
<div class="line"><a id="l05685" name="l05685"></a><span class="lineno"> 5685</span>$   HWND console = Win32::GetConsoleWindow();</div>
<div class="line"><a id="l05686" name="l05686"></a><span class="lineno"> 5686</span> </div>
<div class="line"><a id="l05687" name="l05687"></a><span class="lineno"> 5687</span>$   DWORD proc = 0;</div>
<div class="line"><a id="l05688" name="l05688"></a><span class="lineno"> 5688</span>$   GetWindowThreadProcessId (console, &amp;proc);</div>
<div class="line"><a id="l05689" name="l05689"></a><span class="lineno"> 5689</span> </div>
<div class="line"><a id="l05690" name="l05690"></a><span class="lineno"> 5690</span>$   if (console &amp;&amp; (proc == GetCurrentProcessId() || _txIsParentWaitable()))</div>
<div class="line"><a id="l05691" name="l05691"></a><span class="lineno"> 5691</span>        { $ ShowWindow (console, <a class="code hl_variable" href="group___technical.html#ga05631a37d79a52c0289b3dfa90215250">_txConsoleMode</a>); }</div>
<div class="line"><a id="l05692" name="l05692"></a><span class="lineno"> 5692</span> </div>
<div class="line"><a id="l05693" name="l05693"></a><span class="lineno"> 5693</span>$   CheckMenuItem (menu, _TX_IDM_CONSOLE, (console? (IsWindowVisible (console)? MF_CHECKED : 0) : MF_DISABLED));</div>
<div class="line"><a id="l05694" name="l05694"></a><span class="lineno"> 5694</span> </div>
<div class="line"><a id="l05695" name="l05695"></a><span class="lineno"> 5695</span>$   <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>();</div>
<div class="line"><a id="l05696" name="l05696"></a><span class="lineno"> 5696</span>    }</div>
<div class="line"><a id="l05697" name="l05697"></a><span class="lineno"> 5697</span> </div>
<div class="line"><a id="l05698" name="l05698"></a><span class="lineno"> 5698</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05699" name="l05699"></a><span class="lineno"> 5699</span> </div>
<div class="line"><a id="l05700" name="l05700"></a><span class="lineno"> 5700</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> _txCanvas_OK()</div>
<div class="line"><a id="l05701" name="l05701"></a><span class="lineno"> 5701</span>    {</div>
<div class="line"><a id="l05702" name="l05702"></a><span class="lineno"> 5702</span>$1  <span class="keywordflow">return</span> _txCanvas_ThreadId   &amp;&amp;</div>
<div class="line"><a id="l05703" name="l05703"></a><span class="lineno"> 5703</span>           _txCanvas_Window     &amp;&amp;</div>
<div class="line"><a id="l05704" name="l05704"></a><span class="lineno"> 5704</span>           _txCanvas_BackBuf[0] &amp;&amp;</div>
<div class="line"><a id="l05705" name="l05705"></a><span class="lineno"> 5705</span>           _txCanvas_BackBuf[1];</div>
<div class="line"><a id="l05706" name="l05706"></a><span class="lineno"> 5706</span>    }</div>
<div class="line"><a id="l05707" name="l05707"></a><span class="lineno"> 5707</span> </div>
<div class="line"><a id="l05708" name="l05708"></a><span class="lineno"> 5708</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05709" name="l05709"></a><span class="lineno"> 5709</span> </div>
<div class="line"><a id="l05710" name="l05710"></a><span class="lineno"> 5710</span><span class="keywordtype">int</span> _txCanvas_SetRefreshLock (<span class="keywordtype">int</span> count)</div>
<div class="line"><a id="l05711" name="l05711"></a><span class="lineno"> 5711</span>    {</div>
<div class="line"><a id="l05712" name="l05712"></a><span class="lineno"> 5712</span>$1  <span class="keywordtype">int</span> oldCount = _txCanvas_RefreshLock;</div>
<div class="line"><a id="l05713" name="l05713"></a><span class="lineno"> 5713</span> </div>
<div class="line"><a id="l05714" name="l05714"></a><span class="lineno"> 5714</span>$   _txCanvas_RefreshLock = count;</div>
<div class="line"><a id="l05715" name="l05715"></a><span class="lineno"> 5715</span> </div>
<div class="line"><a id="l05716" name="l05716"></a><span class="lineno"> 5716</span>$   HWND wnd = <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>();</div>
<div class="line"><a id="l05717" name="l05717"></a><span class="lineno"> 5717</span> </div>
<div class="line"><a id="l05718" name="l05718"></a><span class="lineno"> 5718</span>$   <span class="keywordflow">if</span> ((_txCanvas_RefreshLock &lt;= 0 || oldCount &lt;= 0) &amp;&amp; wnd)</div>
<div class="line"><a id="l05719" name="l05719"></a><span class="lineno"> 5719</span>        { $ RedrawWindow (wnd, NULL, NULL, RDW_INVALIDATE | RDW_INTERNALPAINT | RDW_UPDATENOW); }</div>
<div class="line"><a id="l05720" name="l05720"></a><span class="lineno"> 5720</span> </div>
<div class="line"><a id="l05721" name="l05721"></a><span class="lineno"> 5721</span>$   <span class="keywordflow">return</span> oldCount;</div>
<div class="line"><a id="l05722" name="l05722"></a><span class="lineno"> 5722</span>    }</div>
<div class="line"><a id="l05723" name="l05723"></a><span class="lineno"> 5723</span> </div>
<div class="line"><a id="l05724" name="l05724"></a><span class="lineno"> 5724</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05725" name="l05725"></a><span class="lineno"> 5725</span> </div>
<div class="line"><a id="l05726" name="l05726"></a><span class="lineno"> 5726</span>HICON _txCreateTXIcon (<span class="keywordtype">int</span> size)</div>
<div class="line"><a id="l05727" name="l05727"></a><span class="lineno"> 5727</span>    {</div>
<div class="line"><a id="l05728" name="l05728"></a><span class="lineno"> 5728</span>$1  _TX_IF_ARGUMENT_FAILED (size == 32 || size == 16) return NULL;</div>
<div class="line"><a id="l05729" name="l05729"></a><span class="lineno"> 5729</span> </div>
<div class="line"><a id="l05730" name="l05730"></a><span class="lineno"> 5730</span>$   const <span class="keywordtype">char</span> image32 [32*32+1] =</div>
<div class="line"><a id="l05731" name="l05731"></a><span class="lineno"> 5731</span>        &quot;00000000000000000000000000000000&quot;&quot;0FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0&quot;&quot;0F0000000000000000000000000000F0&quot;&quot;0F0000000000000000000000000000F0&quot;</div>
<div class="line"><a id="l05732" name="l05732"></a><span class="lineno"> 5732</span>        &quot;0F0000000000000099999999999900F0&quot;&quot;0F0000000000000090300333330900F0&quot;&quot;0F0000000990000090000000000900F0&quot;&quot;0F00000099990000900BB000000900F0&quot;</div>
<div class="line"><a id="l05733" name="l05733"></a><span class="lineno"> 5733</span>        &quot;0F0000039999000090B00090900900F0&quot;&quot;0F0000009999000090B00999990900F0&quot;&quot;0F00000009903799900BB090900900F0&quot;&quot;0F000000009BB70090000010000900F0&quot;</div>
<div class="line"><a id="l05734" name="l05734"></a><span class="lineno"> 5734</span>        &quot;0F0000000B90000090000000000900F0&quot;&quot;0F000000B0B0000099999999999900F0&quot;&quot;0F00007B30B0000090000000000000F0&quot;&quot;0F00007300B0000090000000000000F0&quot;</div>
<div class="line"><a id="l05735" name="l05735"></a><span class="lineno"> 5735</span>        &quot;0F00000000B3000090000000000000F0&quot;&quot;0F0000000B0B000090000000000000F0&quot;&quot;0F000000B303B00090000000000000F0&quot;&quot;0F000003B000B00090000000000000F0&quot;</div>
<div class="line"><a id="l05736" name="l05736"></a><span class="lineno"> 5736</span>        &quot;0F00003B00003B0090000000000000F0&quot;&quot;0F0000300000030090000000000000F0&quot;&quot;0F0000000448888888888844000000F0&quot;&quot;0F00004886E6E6E60E66E6EEEE4400F0&quot;</div>
<div class="line"><a id="l05737" name="l05737"></a><span class="lineno"> 5737</span>        &quot;0F4488866E0E60E00660E06E66EEE4F0&quot;&quot;0F868806E06E06E666E66E00E06EE6F0&quot;&quot;0F08606E66E0066000E006E66E00E6F0&quot;&quot;0F8666E006600E00006600E006E00EF0&quot;</div>
<div class="line"><a id="l05738" name="l05738"></a><span class="lineno"> 5738</span>        &quot;0F000E066888888888888888606660F0&quot;&quot;0F66EEE6EE000E00000E00086EEEE6F0&quot;&quot;0FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0&quot;&quot;00000000000000000000000000000000&quot;;</div>
<div class="line"><a id="l05739" name="l05739"></a><span class="lineno"> 5739</span> </div>
<div class="line"><a id="l05740" name="l05740"></a><span class="lineno"> 5740</span>$   const <span class="keywordtype">char</span> image16 [16*16+1] =</div>
<div class="line"><a id="l05741" name="l05741"></a><span class="lineno"> 5741</span>        &quot;0000000000000000&quot;&quot;0000000999999990&quot;&quot;0009000900000090&quot;&quot;0099900909973090&quot;&quot;0059700909009390&quot;&quot;0009799909973090&quot;&quot;0099000900000090&quot;&quot;0959330999999990&quot;</div>
<div class="line"><a id="l05742" name="l05742"></a><span class="lineno"> 5742</span>        &quot;0709500900000000&quot;&quot;0095930900000000&quot;&quot;0090393900000000&quot;&quot;0790073900000000&quot;&quot;0900000900000000&quot;&quot;000EE6E6E6E6E000&quot;&quot;0EE6E6E6E6E6EEE0&quot;&quot;0000000000000000&quot;;</div>
<div class="line"><a id="l05743" name="l05743"></a><span class="lineno"> 5743</span> </div>
<div class="line"><a id="l05744" name="l05744"></a><span class="lineno"> 5744</span>$   const COLORREF pal[&#39;F&#39;-&#39;0&#39;+1] = { 0x000000, 0x002b2b, 0x555500, 0x005555, 0x808000, 0x008080, 0xaaaa00, 0x00aaaa, 0xd5d500, 0x00d5d5, 0,0,0,0,0,0,0,</div>
<div class="line"><a id="l05745" name="l05745"></a><span class="lineno"> 5745</span>                                      0xffff00, 0x00ffff, 0xffffaa, 0xaaffff, 0xd5d500, 0xffffff };</div>
<div class="line"><a id="l05746" name="l05746"></a><span class="lineno"> 5746</span> </div>
<div class="line"><a id="l05747" name="l05747"></a><span class="lineno"> 5747</span>$   <span class="keyword">const</span> <span class="keywordtype">char</span>* image = (size == 32)? image32 : image16;</div>
<div class="line"><a id="l05748" name="l05748"></a><span class="lineno"> 5748</span> </div>
<div class="line"><a id="l05749" name="l05749"></a><span class="lineno"> 5749</span>$   POINT sz = { size, size };</div>
<div class="line"><a id="l05750" name="l05750"></a><span class="lineno"> 5750</span>$   HDC dcMask  = _txBuffer_Create (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), &amp;sz); <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (dcMask);</div>
<div class="line"><a id="l05751" name="l05751"></a><span class="lineno"> 5751</span>$   HDC dcColor = _txBuffer_Create (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), &amp;sz); <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (dcColor);</div>
<div class="line"><a id="l05752" name="l05752"></a><span class="lineno"> 5752</span> </div>
<div class="line"><a id="l05753" name="l05753"></a><span class="lineno"> 5753</span>$   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size*size; i++)</div>
<div class="line"><a id="l05754" name="l05754"></a><span class="lineno"> 5754</span>        {</div>
<div class="line"><a id="l05755" name="l05755"></a><span class="lineno"> 5755</span>        <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (<a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (image[i], <span class="charliteral">&#39;0&#39;</span>, <span class="charliteral">&#39;9&#39;</span>) || <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (image[i], <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;F&#39;</span>));</div>
<div class="line"><a id="l05756" name="l05756"></a><span class="lineno"> 5756</span> </div>
<div class="line"><a id="l05757" name="l05757"></a><span class="lineno"> 5757</span>        Win32::SetPixel (dcColor, i % size, i / size, pal [image[i] - <span class="charliteral">&#39;0&#39;</span>]);</div>
<div class="line"><a id="l05758" name="l05758"></a><span class="lineno"> 5758</span>        }</div>
<div class="line"><a id="l05759" name="l05759"></a><span class="lineno"> 5759</span> </div>
<div class="line"><a id="l05760" name="l05760"></a><span class="lineno"> 5760</span>$   ICONINFO info = { <span class="keyword">true</span>, 0, 0, (HBITMAP) Win32::GetCurrentObject (dcMask,  OBJ_BITMAP),</div>
<div class="line"><a id="l05761" name="l05761"></a><span class="lineno"> 5761</span>                                  (HBITMAP) Win32::GetCurrentObject (dcColor, OBJ_BITMAP) };</div>
<div class="line"><a id="l05762" name="l05762"></a><span class="lineno"> 5762</span> </div>
<div class="line"><a id="l05763" name="l05763"></a><span class="lineno"> 5763</span>$   HICON icon = CreateIconIndirect (&amp;info);</div>
<div class="line"><a id="l05764" name="l05764"></a><span class="lineno"> 5764</span>$   <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (icon);</div>
<div class="line"><a id="l05765" name="l05765"></a><span class="lineno"> 5765</span> </div>
<div class="line"><a id="l05766" name="l05766"></a><span class="lineno"> 5766</span>$   _txBuffer_Delete (&amp;dcMask)  <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05767" name="l05767"></a><span class="lineno"> 5767</span>$   _txBuffer_Delete (&amp;dcColor) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05768" name="l05768"></a><span class="lineno"> 5768</span> </div>
<div class="line"><a id="l05769" name="l05769"></a><span class="lineno"> 5769</span>$   <span class="keywordflow">return</span> icon;</div>
<div class="line"><a id="l05770" name="l05770"></a><span class="lineno"> 5770</span>    }</div>
<div class="line"><a id="l05771" name="l05771"></a><span class="lineno"> 5771</span> </div>
<div class="line"><a id="l05773" name="l05773"></a><span class="lineno"> 5773</span><span class="comment">//}</span></div>
<div class="line"><a id="l05774" name="l05774"></a><span class="lineno"> 5774</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l05775" name="l05775"></a><span class="lineno"> 5775</span> </div>
<div class="line"><a id="l05776" name="l05776"></a><span class="lineno"> 5776</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l05777" name="l05777"></a><span class="lineno"> 5777</span><span class="comment">//{          [Internal] Main window event handlers (_txCanvas_On...)</span></div>
<div class="line"><a id="l05779" name="l05779"></a><span class="lineno"> 5779</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l05781" name="l05781"></a><span class="lineno"> 5781</span><span class="comment"></span> </div>
<div class="line"><a id="l05782" name="l05782"></a><span class="lineno"> 5782</span>LRESULT CALLBACK _txCanvas_WndProc (HWND wnd, UINT msg, WPARAM wpar, LPARAM lpar)</div>
<div class="line"><a id="l05783" name="l05783"></a><span class="lineno"> 5783</span>    {</div>
<div class="line"><a id="l05784" name="l05784"></a><span class="lineno"> 5784</span><span class="preprocessor">#ifdef _TX_ALLOW_TRACE</span></div>
<div class="line"><a id="l05785" name="l05785"></a><span class="lineno"> 5785</span> </div>
<div class="line"><a id="l05786" name="l05786"></a><span class="lineno"> 5786</span>    _txInTX++;</div>
<div class="line"><a id="l05787" name="l05787"></a><span class="lineno"> 5787</span> </div>
<div class="line"><a id="l05788" name="l05788"></a><span class="lineno"> 5788</span>    <span class="keywordflow">if</span> (_txAllowTrace) _txTrace (__FILE__, __LINE__, <a class="code hl_define" href="group___misc.html#gab170f39ac0e379c324c73495f14a1309">__TX_FUNCTION__</a>,</div>
<div class="line"><a id="l05789" name="l05789"></a><span class="lineno"> 5789</span>                                <span class="stringliteral">&quot;%*s&quot;</span> <span class="stringliteral">&quot;0x%X &lt;- 0x%03X (0x%08X, 0x%08lX)&quot;</span>, 12 - _txInTX*2, <span class="stringliteral">&quot;&quot;</span>, wnd, msg, wpar, lpar);</div>
<div class="line"><a id="l05790" name="l05790"></a><span class="lineno"> 5790</span>    _txInTX--;</div>
<div class="line"><a id="l05791" name="l05791"></a><span class="lineno"> 5791</span> </div>
<div class="line"><a id="l05792" name="l05792"></a><span class="lineno"> 5792</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l05793" name="l05793"></a><span class="lineno"> 5793</span> </div>
<div class="line"><a id="l05794" name="l05794"></a><span class="lineno"> 5794</span>$1  <span class="keywordflow">if</span> (msg == WM_KEYDOWN &amp;&amp; wpar == VK_F12 &amp;&amp;</div>
<div class="line"><a id="l05795" name="l05795"></a><span class="lineno"> 5795</span>        GetKeyState (VK_SHIFT) &amp;&amp; GetKeyState (VK_CONTROL) &amp;&amp; GetKeyState (VK_MENU))</div>
<div class="line"><a id="l05796" name="l05796"></a><span class="lineno"> 5796</span>        {</div>
<div class="line"><a id="l05797" name="l05797"></a><span class="lineno"> 5797</span>$       _txCanvas_OnCmdABOUT (wnd,      wpar);</div>
<div class="line"><a id="l05798" name="l05798"></a><span class="lineno"> 5798</span>$       <span class="keywordflow">return</span> DefWindowProc (wnd, msg, wpar, lpar);</div>
<div class="line"><a id="l05799" name="l05799"></a><span class="lineno"> 5799</span>        }</div>
<div class="line"><a id="l05800" name="l05800"></a><span class="lineno"> 5800</span> </div>
<div class="line"><a id="l05801" name="l05801"></a><span class="lineno"> 5801</span>    WNDPROC altWndProc = _txAltWndProc;  <span class="comment">// Cache to prevent change from main thread</span></div>
<div class="line"><a id="l05802" name="l05802"></a><span class="lineno"> 5802</span>    <span class="keywordflow">if</span> (altWndProc)</div>
<div class="line"><a id="l05803" name="l05803"></a><span class="lineno"> 5803</span>        {</div>
<div class="line"><a id="l05804" name="l05804"></a><span class="lineno"> 5804</span>$       LRESULT res = altWndProc (wnd, msg, wpar, lpar);</div>
<div class="line"><a id="l05805" name="l05805"></a><span class="lineno"> 5805</span>$       <span class="keywordflow">if</span> (res) <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l05806" name="l05806"></a><span class="lineno"> 5806</span>        }</div>
<div class="line"><a id="l05807" name="l05807"></a><span class="lineno"> 5807</span> </div>
<div class="line"><a id="l05808" name="l05808"></a><span class="lineno"> 5808</span>    <span class="keywordflow">switch</span> (msg)</div>
<div class="line"><a id="l05809" name="l05809"></a><span class="lineno"> 5809</span>        {</div>
<div class="line"><a id="l05810" name="l05810"></a><span class="lineno"> 5810</span>        <span class="keywordflow">case</span> WM_CREATE:       $     _txCanvas_OnCREATE     (wnd);             <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05811" name="l05811"></a><span class="lineno"> 5811</span> </div>
<div class="line"><a id="l05812" name="l05812"></a><span class="lineno"> 5812</span>        <span class="keywordflow">case</span> WM_CLOSE:        $ <span class="keywordflow">if</span> (_txCanvas_OnCLOSE      (wnd)) <span class="keywordflow">break</span>; <span class="keywordflow">else</span> <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05813" name="l05813"></a><span class="lineno"> 5813</span>        <span class="keywordflow">case</span> WM_DESTROY:      $     _txCanvas_OnDESTROY    (wnd);             <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05814" name="l05814"></a><span class="lineno"> 5814</span> </div>
<div class="line"><a id="l05815" name="l05815"></a><span class="lineno"> 5815</span>        <span class="keywordflow">case</span> WM_PAINT:        $     _txCanvas_OnPAINT      (wnd);             <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05816" name="l05816"></a><span class="lineno"> 5816</span>        <span class="keywordflow">case</span> WM_TIMER:        $     _txCanvas_OnTIMER      (wnd, wpar);       <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05817" name="l05817"></a><span class="lineno"> 5817</span> </div>
<div class="line"><a id="l05818" name="l05818"></a><span class="lineno"> 5818</span>        <span class="keywordflow">case</span> WM_KEYDOWN:      $     _txCanvas_OnKEYDOWN    (wnd, wpar, lpar); <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05819" name="l05819"></a><span class="lineno"> 5819</span>        <span class="keywordflow">case</span> WM_CHAR:         $     _txCanvas_OnCHAR       (wnd, wpar, lpar); <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05820" name="l05820"></a><span class="lineno"> 5820</span> </div>
<div class="line"><a id="l05821" name="l05821"></a><span class="lineno"> 5821</span>        <span class="keywordflow">case</span> WM_LBUTTONUP:</div>
<div class="line"><a id="l05822" name="l05822"></a><span class="lineno"> 5822</span>        <span class="keywordflow">case</span> WM_LBUTTONDOWN:</div>
<div class="line"><a id="l05823" name="l05823"></a><span class="lineno"> 5823</span>        <span class="keywordflow">case</span> WM_RBUTTONUP:</div>
<div class="line"><a id="l05824" name="l05824"></a><span class="lineno"> 5824</span>        <span class="keywordflow">case</span> WM_RBUTTONDOWN:</div>
<div class="line"><a id="l05825" name="l05825"></a><span class="lineno"> 5825</span>        <span class="keywordflow">case</span> WM_MBUTTONUP:</div>
<div class="line"><a id="l05826" name="l05826"></a><span class="lineno"> 5826</span>        <span class="keywordflow">case</span> WM_MBUTTONDOWN:</div>
<div class="line"><a id="l05827" name="l05827"></a><span class="lineno"> 5827</span>        <span class="keywordflow">case</span> WM_MOUSEMOVE:    $     _txCanvas_OnMOUSEMOVE  (wnd, wpar, lpar); <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05828" name="l05828"></a><span class="lineno"> 5828</span> </div>
<div class="line"><a id="l05829" name="l05829"></a><span class="lineno"> 5829</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05830" name="l05830"></a><span class="lineno"> 5830</span>        }</div>
<div class="line"><a id="l05831" name="l05831"></a><span class="lineno"> 5831</span> </div>
<div class="line"><a id="l05832" name="l05832"></a><span class="lineno"> 5832</span>    <span class="keywordflow">if</span> (msg == WM_SYSCOMMAND) <span class="keywordflow">switch</span> (wpar)</div>
<div class="line"><a id="l05833" name="l05833"></a><span class="lineno"> 5833</span>        {</div>
<div class="line"><a id="l05834" name="l05834"></a><span class="lineno"> 5834</span>        <span class="keywordflow">case</span> _TX_IDM_ABOUT:   $     _txCanvas_OnCmdABOUT   (wnd, wpar);       <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05835" name="l05835"></a><span class="lineno"> 5835</span>        <span class="keywordflow">case</span> _TX_IDM_CONSOLE: $     _txCanvas_OnCmdCONSOLE (wnd, wpar);       <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l05836" name="l05836"></a><span class="lineno"> 5836</span> </div>
<div class="line"><a id="l05837" name="l05837"></a><span class="lineno"> 5837</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l05838" name="l05838"></a><span class="lineno"> 5838</span>        }</div>
<div class="line"><a id="l05839" name="l05839"></a><span class="lineno"> 5839</span> </div>
<div class="line"><a id="l05840" name="l05840"></a><span class="lineno"> 5840</span>$   <span class="keywordflow">return</span> DefWindowProc (wnd, msg, wpar, lpar);</div>
<div class="line"><a id="l05841" name="l05841"></a><span class="lineno"> 5841</span>    }</div>
<div class="line"><a id="l05842" name="l05842"></a><span class="lineno"> 5842</span> </div>
<div class="line"><a id="l05843" name="l05843"></a><span class="lineno"> 5843</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05844" name="l05844"></a><span class="lineno"> 5844</span> </div>
<div class="line"><a id="l05845" name="l05845"></a><span class="lineno"> 5845</span><span class="keywordtype">bool</span> _txCanvas_OnCREATE (HWND wnd)</div>
<div class="line"><a id="l05846" name="l05846"></a><span class="lineno"> 5846</span>    {</div>
<div class="line"><a id="l05847" name="l05847"></a><span class="lineno"> 5847</span>$1  _TX_IF_ARGUMENT_FAILED (wnd) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05848" name="l05848"></a><span class="lineno"> 5848</span> </div>
<div class="line"><a id="l05849" name="l05849"></a><span class="lineno"> 5849</span>$   _txCanvas_BackBuf[0] = _txBuffer_Create (wnd); <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (_txCanvas_BackBuf[0]);</div>
<div class="line"><a id="l05850" name="l05850"></a><span class="lineno"> 5850</span>$   _txCanvas_BackBuf[1] = _txBuffer_Create (wnd); <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (_txCanvas_BackBuf[1]);</div>
<div class="line"><a id="l05851" name="l05851"></a><span class="lineno"> 5851</span> </div>
<div class="line"><a id="l05852" name="l05852"></a><span class="lineno"> 5852</span>$   SetTimer (wnd, _txCanvas_RefreshTimer, <a class="code hl_variable" href="group___technical.html#ga04cf6a2f12ea617b5a29ce939f673085">_txWindowUpdateInterval</a>, NULL) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05853" name="l05853"></a><span class="lineno"> 5853</span> </div>
<div class="line"><a id="l05854" name="l05854"></a><span class="lineno"> 5854</span>$   _txCanvas_Window = wnd;</div>
<div class="line"><a id="l05855" name="l05855"></a><span class="lineno"> 5855</span> </div>
<div class="line"><a id="l05856" name="l05856"></a><span class="lineno"> 5856</span>$   <a class="code hl_function" href="group___drawing.html#gae05b7bb52b782b86796201f9f96d0f58">txSetDefaults</a>();</div>
<div class="line"><a id="l05857" name="l05857"></a><span class="lineno"> 5857</span> </div>
<div class="line"><a id="l05858" name="l05858"></a><span class="lineno"> 5858</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05859" name="l05859"></a><span class="lineno"> 5859</span>    }</div>
<div class="line"><a id="l05860" name="l05860"></a><span class="lineno"> 5860</span> </div>
<div class="line"><a id="l05861" name="l05861"></a><span class="lineno"> 5861</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05862" name="l05862"></a><span class="lineno"> 5862</span> </div>
<div class="line"><a id="l05863" name="l05863"></a><span class="lineno"> 5863</span><span class="keywordtype">bool</span> _txCanvas_OnDESTROY (HWND wnd)</div>
<div class="line"><a id="l05864" name="l05864"></a><span class="lineno"> 5864</span>    {</div>
<div class="line"><a id="l05865" name="l05865"></a><span class="lineno"> 5865</span>$1  _TX_IF_ARGUMENT_FAILED (wnd) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05866" name="l05866"></a><span class="lineno"> 5866</span> </div>
<div class="line"><a id="l05867" name="l05867"></a><span class="lineno"> 5867</span>    <span class="comment">//    </span></div>
<div class="line"><a id="l05868" name="l05868"></a><span class="lineno"> 5868</span> </div>
<div class="line"><a id="l05869" name="l05869"></a><span class="lineno"> 5869</span>$   PostQuitMessage (_txRunning? WM_DESTROY : EXIT_SUCCESS);</div>
<div class="line"><a id="l05870" name="l05870"></a><span class="lineno"> 5870</span> </div>
<div class="line"><a id="l05871" name="l05871"></a><span class="lineno"> 5871</span>$   <span class="keywordflow">if</span> (!_txCanvas_Window) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05872" name="l05872"></a><span class="lineno"> 5872</span> </div>
<div class="line"><a id="l05873" name="l05873"></a><span class="lineno"> 5873</span>    <span class="comment">// Indicate that we are about to manually terminate</span></div>
<div class="line"><a id="l05874" name="l05874"></a><span class="lineno"> 5874</span> </div>
<div class="line"><a id="l05875" name="l05875"></a><span class="lineno"> 5875</span>$   _txExit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05876" name="l05876"></a><span class="lineno"> 5876</span> </div>
<div class="line"><a id="l05877" name="l05877"></a><span class="lineno"> 5877</span>    <span class="comment">// Lock GDI resources</span></div>
<div class="line"><a id="l05878" name="l05878"></a><span class="lineno"> 5878</span> </div>
<div class="line"><a id="l05879" name="l05879"></a><span class="lineno"> 5879</span>$   <span class="keywordtype">bool</span> locked = <span class="keyword">false</span>;</div>
<div class="line"><a id="l05880" name="l05880"></a><span class="lineno"> 5880</span>$   _txWaitFor ((locked = <a class="code hl_function" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2">txLock</a> (<span class="keyword">false</span>), locked), <a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>);</div>
<div class="line"><a id="l05881" name="l05881"></a><span class="lineno"> 5881</span>$   <span class="keywordflow">if</span> (!locked) <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;Cannot lock GDI to free resources&quot;</span>);</div>
<div class="line"><a id="l05882" name="l05882"></a><span class="lineno"> 5882</span> </div>
<div class="line"><a id="l05883" name="l05883"></a><span class="lineno"> 5883</span>    <span class="comment">//   </span></div>
<div class="line"><a id="l05884" name="l05884"></a><span class="lineno"> 5884</span> </div>
<div class="line"><a id="l05885" name="l05885"></a><span class="lineno"> 5885</span>$   <span class="keywordflow">if</span> (_txCanvas_UserDCs &amp;&amp; _txCanvas_UserDCs-&gt;size())</div>
<div class="line"><a id="l05886" name="l05886"></a><span class="lineno"> 5886</span>        {</div>
<div class="line"><a id="l05887" name="l05887"></a><span class="lineno"> 5887</span>$       <a class="code hl_function" href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577">txNotifyIcon</a> (NIIF_ERROR, NULL, <span class="stringliteral">&quot;   %d HDC.&quot;</span>, (<span class="keywordtype">int</span>) _txCanvas_UserDCs-&gt;size());</div>
<div class="line"><a id="l05888" name="l05888"></a><span class="lineno"> 5888</span>$       Sleep (<a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>);</div>
<div class="line"><a id="l05889" name="l05889"></a><span class="lineno"> 5889</span> </div>
<div class="line"><a id="l05890" name="l05890"></a><span class="lineno"> 5890</span>$       <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; _txCanvas_UserDCs-&gt;size(); i++) _txBuffer_Delete (&amp;_txCanvas_UserDCs-&gt;at (i));</div>
<div class="line"><a id="l05891" name="l05891"></a><span class="lineno"> 5891</span>$       _txCanvas_UserDCs-&gt;clear();</div>
<div class="line"><a id="l05892" name="l05892"></a><span class="lineno"> 5892</span>        }</div>
<div class="line"><a id="l05893" name="l05893"></a><span class="lineno"> 5893</span> </div>
<div class="line"><a id="l05894" name="l05894"></a><span class="lineno"> 5894</span>    <span class="comment">//  ,   </span></div>
<div class="line"><a id="l05895" name="l05895"></a><span class="lineno"> 5895</span> </div>
<div class="line"><a id="l05896" name="l05896"></a><span class="lineno"> 5896</span>$   <span class="keywordflow">if</span> (_txCanvas_RefreshTimer) KillTimer (wnd, _txCanvas_RefreshTimer) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05897" name="l05897"></a><span class="lineno"> 5897</span> </div>
<div class="line"><a id="l05898" name="l05898"></a><span class="lineno"> 5898</span>$   <span class="keywordflow">if</span> (_txCanvas_BackBuf[1]) _txBuffer_Delete (&amp;_txCanvas_BackBuf[1])  <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05899" name="l05899"></a><span class="lineno"> 5899</span>$   <span class="keywordflow">if</span> (_txCanvas_BackBuf[0]) _txBuffer_Delete (&amp;_txCanvas_BackBuf[0])  <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05900" name="l05900"></a><span class="lineno"> 5900</span> </div>
<div class="line"><a id="l05901" name="l05901"></a><span class="lineno"> 5901</span>$   <a class="code hl_function" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6">txUnlock</a>();</div>
<div class="line"><a id="l05902" name="l05902"></a><span class="lineno"> 5902</span> </div>
<div class="line"><a id="l05903" name="l05903"></a><span class="lineno"> 5903</span>    <span class="comment">// Indicate that we are destroyed</span></div>
<div class="line"><a id="l05904" name="l05904"></a><span class="lineno"> 5904</span> </div>
<div class="line"><a id="l05905" name="l05905"></a><span class="lineno"> 5905</span>$   _txCanvas_Window = NULL;</div>
<div class="line"><a id="l05906" name="l05906"></a><span class="lineno"> 5906</span> </div>
<div class="line"><a id="l05907" name="l05907"></a><span class="lineno"> 5907</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05908" name="l05908"></a><span class="lineno"> 5908</span>    }</div>
<div class="line"><a id="l05909" name="l05909"></a><span class="lineno"> 5909</span> </div>
<div class="line"><a id="l05910" name="l05910"></a><span class="lineno"> 5910</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05911" name="l05911"></a><span class="lineno"> 5911</span> </div>
<div class="line"><a id="l05912" name="l05912"></a><span class="lineno"> 5912</span><span class="keywordtype">bool</span> _txCanvas_OnCLOSE (HWND wnd)</div>
<div class="line"><a id="l05913" name="l05913"></a><span class="lineno"> 5913</span>    {</div>
<div class="line"><a id="l05914" name="l05914"></a><span class="lineno"> 5914</span>$1  _TX_IF_ARGUMENT_FAILED (wnd &amp;&amp; _txCanvas_OK()) return false;</div>
<div class="line"><a id="l05915" name="l05915"></a><span class="lineno"> 5915</span> </div>
<div class="line"><a id="l05916" name="l05916"></a><span class="lineno"> 5916</span>$   if (_txMain &amp;&amp; _txRunning &amp;&amp;</div>
<div class="line"><a id="l05917" name="l05917"></a><span class="lineno"> 5917</span>        <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (&quot; main()  .    .  ?    \n\n&quot;</div>
<div class="line"><a id="l05918" name="l05918"></a><span class="lineno"> 5918</span>                      &quot; ,  main()  -     .&quot;,</div>
<div class="line"><a id="l05919" name="l05919"></a><span class="lineno"> 5919</span>                      <a class="code hl_function" href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">txGetModuleFileName</a> (false), MB_OKCANCEL | MB_ICONSTOP) != IDOK) return false;</div>
<div class="line"><a id="l05920" name="l05920"></a><span class="lineno"> 5920</span>$   return true;</div>
<div class="line"><a id="l05921" name="l05921"></a><span class="lineno"> 5921</span>    }</div>
<div class="line"><a id="l05922" name="l05922"></a><span class="lineno"> 5922</span> </div>
<div class="line"><a id="l05923" name="l05923"></a><span class="lineno"> 5923</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05924" name="l05924"></a><span class="lineno"> 5924</span> </div>
<div class="line"><a id="l05925" name="l05925"></a><span class="lineno"> 5925</span><span class="keywordtype">bool</span> _txCanvas_OnTIMER (HWND wnd, WPARAM)</div>
<div class="line"><a id="l05926" name="l05926"></a><span class="lineno"> 5926</span>    {</div>
<div class="line"><a id="l05927" name="l05927"></a><span class="lineno"> 5927</span>$1  _TX_IF_ARGUMENT_FAILED (wnd) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05928" name="l05928"></a><span class="lineno"> 5928</span> </div>
<div class="line"><a id="l05929" name="l05929"></a><span class="lineno"> 5929</span>$   <span class="keywordflow">if</span> (_txCanvas_RefreshLock &gt; 0 || !_txRunning) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05930" name="l05930"></a><span class="lineno"> 5930</span> </div>
<div class="line"><a id="l05931" name="l05931"></a><span class="lineno"> 5931</span>$   InvalidateRect (wnd, NULL, <span class="keyword">false</span>) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05932" name="l05932"></a><span class="lineno"> 5932</span>$   UpdateWindow   (wnd)              <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05933" name="l05933"></a><span class="lineno"> 5933</span> </div>
<div class="line"><a id="l05934" name="l05934"></a><span class="lineno"> 5934</span>$   return true;</div>
<div class="line"><a id="l05935" name="l05935"></a><span class="lineno"> 5935</span>    }</div>
<div class="line"><a id="l05936" name="l05936"></a><span class="lineno"> 5936</span> </div>
<div class="line"><a id="l05937" name="l05937"></a><span class="lineno"> 5937</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05938" name="l05938"></a><span class="lineno"> 5938</span> </div>
<div class="line"><a id="l05939" name="l05939"></a><span class="lineno"> 5939</span><span class="keywordtype">bool</span> _txCanvas_OnPAINT (HWND wnd)</div>
<div class="line"><a id="l05940" name="l05940"></a><span class="lineno"> 5940</span>    {</div>
<div class="line"><a id="l05941" name="l05941"></a><span class="lineno"> 5941</span>$1  _TX_IF_ARGUMENT_FAILED (wnd &amp;&amp; _txCanvas_OK()) return false;</div>
<div class="line"><a id="l05942" name="l05942"></a><span class="lineno"> 5942</span> </div>
<div class="line"><a id="l05943" name="l05943"></a><span class="lineno"> 5943</span>$   <span class="keywordtype">bool</span> forceRedraw   = GetAsyncKeyState (VK_MENU)  &amp;&amp; GetAsyncKeyState (VK_CONTROL) &amp;&amp;</div>
<div class="line"><a id="l05944" name="l05944"></a><span class="lineno"> 5944</span>                         GetAsyncKeyState (VK_SHIFT) &amp;&amp; GetAsyncKeyState (VK_SNAPSHOT);</div>
<div class="line"><a id="l05945" name="l05945"></a><span class="lineno"> 5945</span> </div>
<div class="line"><a id="l05946" name="l05946"></a><span class="lineno"> 5946</span>$   PAINTSTRUCT ps = {0};</div>
<div class="line"><a id="l05947" name="l05947"></a><span class="lineno"> 5947</span>$   HDC dc = BeginPaint (wnd, &amp;ps);</div>
<div class="line"><a id="l05948" name="l05948"></a><span class="lineno"> 5948</span>$   <span class="keywordflow">if</span> (!dc) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05949" name="l05949"></a><span class="lineno"> 5949</span> </div>
<div class="line"><a id="l05950" name="l05950"></a><span class="lineno"> 5950</span>$   RECT r = {0};</div>
<div class="line"><a id="l05951" name="l05951"></a><span class="lineno"> 5951</span>$   GetClientRect (wnd, &amp;r) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05952" name="l05952"></a><span class="lineno"> 5952</span>$   POINT size = { r.right - r.left, r.bottom - r.top };</div>
<div class="line"><a id="l05953" name="l05953"></a><span class="lineno"> 5953</span> </div>
<div class="line"><a id="l05954" name="l05954"></a><span class="lineno"> 5954</span>$   <span class="keywordflow">if</span> ((_txCanvas_RefreshLock &lt;= 0 || forceRedraw) &amp;&amp;</div>
<div class="line"><a id="l05955" name="l05955"></a><span class="lineno"> 5955</span>        <a class="code hl_function" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2">txLock</a> (<span class="keyword">false</span>))</div>
<div class="line"><a id="l05956" name="l05956"></a><span class="lineno"> 5956</span>        {</div>
<div class="line"><a id="l05957" name="l05957"></a><span class="lineno"> 5957</span>$       Win32::BitBlt (_txCanvas_BackBuf[1], 0, 0, size.x, size.y, <a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), 0, 0, SRCCOPY);</div>
<div class="line"><a id="l05958" name="l05958"></a><span class="lineno"> 5958</span> </div>
<div class="line"><a id="l05959" name="l05959"></a><span class="lineno"> 5959</span>$       _txConsole_Draw (_txCanvas_BackBuf[1]);</div>
<div class="line"><a id="l05960" name="l05960"></a><span class="lineno"> 5960</span> </div>
<div class="line"><a id="l05961" name="l05961"></a><span class="lineno"> 5961</span>$       <a class="code hl_function" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6">txUnlock</a>();</div>
<div class="line"><a id="l05962" name="l05962"></a><span class="lineno"> 5962</span>        }</div>
<div class="line"><a id="l05963" name="l05963"></a><span class="lineno"> 5963</span> </div>
<div class="line"><a id="l05964" name="l05964"></a><span class="lineno"> 5964</span>    <span class="comment">// Magic 100500 value is used to completely block screen refresh.</span></div>
<div class="line"><a id="l05965" name="l05965"></a><span class="lineno"> 5965</span>    <span class="comment">// Since no value can be 100500 or above, this condition is always true and the refresh cannot be blocked IRL.</span></div>
<div class="line"><a id="l05966" name="l05966"></a><span class="lineno"> 5966</span>    <span class="comment">// Do not use 100501 because it may lead to errors on some compilers and possible may crash the compilers</span></div>
<div class="line"><a id="l05967" name="l05967"></a><span class="lineno"> 5967</span>    <span class="comment">// themselves.</span></div>
<div class="line"><a id="l05968" name="l05968"></a><span class="lineno"> 5968</span>    <span class="comment">// Yes guys, with all your software installed. :(</span></div>
<div class="line"><a id="l05969" name="l05969"></a><span class="lineno"> 5969</span> </div>
<div class="line"><a id="l05970" name="l05970"></a><span class="lineno"> 5970</span>$   <span class="keywordflow">if</span> (_txCanvas_RefreshLock != 100500)</div>
<div class="line"><a id="l05971" name="l05971"></a><span class="lineno"> 5971</span>        { $ Win32::BitBlt (dc, 0, 0, size.x, size.y, _txCanvas_BackBuf[1], 0, 0, SRCCOPY); }</div>
<div class="line"><a id="l05972" name="l05972"></a><span class="lineno"> 5972</span> </div>
<div class="line"><a id="l05973" name="l05973"></a><span class="lineno"> 5973</span>$   EndPaint (wnd, &amp;ps) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l05974" name="l05974"></a><span class="lineno"> 5974</span> </div>
<div class="line"><a id="l05975" name="l05975"></a><span class="lineno"> 5975</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l05976" name="l05976"></a><span class="lineno"> 5976</span>    }</div>
<div class="line"><a id="l05977" name="l05977"></a><span class="lineno"> 5977</span> </div>
<div class="line"><a id="l05978" name="l05978"></a><span class="lineno"> 5978</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l05979" name="l05979"></a><span class="lineno"> 5979</span> </div>
<div class="line"><a id="l05980" name="l05980"></a><span class="lineno"> 5980</span><span class="keywordtype">bool</span> _txCanvas_OnKEYDOWN (HWND, WPARAM vk, LPARAM info)</div>
<div class="line"><a id="l05981" name="l05981"></a><span class="lineno"> 5981</span>    {</div>
<div class="line"><a id="l05982" name="l05982"></a><span class="lineno"> 5982</span>$1  INPUT_RECORD evt = {0};</div>
<div class="line"><a id="l05983" name="l05983"></a><span class="lineno"> 5983</span> </div>
<div class="line"><a id="l05984" name="l05984"></a><span class="lineno"> 5984</span>$   evt.EventType                        = KEY_EVENT;</div>
<div class="line"><a id="l05985" name="l05985"></a><span class="lineno"> 5985</span>$   evt.Event.KeyEvent.bKeyDown          = <span class="keyword">true</span>;</div>
<div class="line"><a id="l05986" name="l05986"></a><span class="lineno"> 5986</span>$   evt.Event.KeyEvent.wRepeatCount      = 1;</div>
<div class="line"><a id="l05987" name="l05987"></a><span class="lineno"> 5987</span>$   evt.Event.KeyEvent.uChar.AsciiChar   = (<span class="keywordtype">unsigned</span> char) MapVirtualKey ((WORD) vk, 2);   <span class="comment">// 2 == MAPVK_VK_TO_CHAR</span></div>
<div class="line"><a id="l05988" name="l05988"></a><span class="lineno"> 5988</span>$   evt.Event.KeyEvent.wVirtualScanCode  = (<span class="keywordtype">unsigned</span> char) (info &gt;&gt; 16);</div>
<div class="line"><a id="l05989" name="l05989"></a><span class="lineno"> 5989</span>$   evt.Event.KeyEvent.wVirtualKeyCode   = (WORD) vk;</div>
<div class="line"><a id="l05990" name="l05990"></a><span class="lineno"> 5990</span>$   evt.Event.KeyEvent.dwControlKeyState = (info &amp; (1 &lt;&lt; 24))? ENHANCED_KEY : 0;</div>
<div class="line"><a id="l05991" name="l05991"></a><span class="lineno"> 5991</span> </div>
<div class="line"><a id="l05992" name="l05992"></a><span class="lineno"> 5992</span>$   <span class="keywordflow">if</span> (evt.Event.KeyEvent.uChar.AsciiChar) <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Let TranslateMessage() and WM_CHAR do the job</span></div>
<div class="line"><a id="l05993" name="l05993"></a><span class="lineno"> 5993</span> </div>
<div class="line"><a id="l05994" name="l05994"></a><span class="lineno"> 5994</span>$   DWORD written = 0;</div>
<div class="line"><a id="l05995" name="l05995"></a><span class="lineno"> 5995</span>$   WriteConsoleInput (GetStdHandle (STD_INPUT_HANDLE), &amp;evt, 1, &amp;written);</div>
<div class="line"><a id="l05996" name="l05996"></a><span class="lineno"> 5996</span> </div>
<div class="line"><a id="l05997" name="l05997"></a><span class="lineno"> 5997</span>$   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l05998" name="l05998"></a><span class="lineno"> 5998</span>    }</div>
<div class="line"><a id="l05999" name="l05999"></a><span class="lineno"> 5999</span> </div>
<div class="line"><a id="l06000" name="l06000"></a><span class="lineno"> 6000</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06001" name="l06001"></a><span class="lineno"> 6001</span> </div>
<div class="line"><a id="l06002" name="l06002"></a><span class="lineno"> 6002</span><span class="keywordtype">bool</span> _txCanvas_OnCHAR (HWND, WPARAM ch, LPARAM info)</div>
<div class="line"><a id="l06003" name="l06003"></a><span class="lineno"> 6003</span>    {</div>
<div class="line"><a id="l06004" name="l06004"></a><span class="lineno"> 6004</span>$1  INPUT_RECORD evt = {0};</div>
<div class="line"><a id="l06005" name="l06005"></a><span class="lineno"> 6005</span> </div>
<div class="line"><a id="l06006" name="l06006"></a><span class="lineno"> 6006</span>$   evt.EventType                        = KEY_EVENT;</div>
<div class="line"><a id="l06007" name="l06007"></a><span class="lineno"> 6007</span>$   evt.Event.KeyEvent.bKeyDown          = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06008" name="l06008"></a><span class="lineno"> 6008</span>$   evt.Event.KeyEvent.wRepeatCount      = 1;</div>
<div class="line"><a id="l06009" name="l06009"></a><span class="lineno"> 6009</span>$   evt.Event.KeyEvent.uChar.AsciiChar   = (<span class="keywordtype">unsigned</span> char) (ch);</div>
<div class="line"><a id="l06010" name="l06010"></a><span class="lineno"> 6010</span>$   evt.Event.KeyEvent.wVirtualScanCode  = (<span class="keywordtype">unsigned</span> char) (info &gt;&gt; 16);</div>
<div class="line"><a id="l06011" name="l06011"></a><span class="lineno"> 6011</span>$   evt.Event.KeyEvent.wVirtualKeyCode   = (WORD) MapVirtualKey ((WORD) (info &gt;&gt; 16), 3);  <span class="comment">// 3 == MAPVK_VSC_TO_VK_EX</span></div>
<div class="line"><a id="l06012" name="l06012"></a><span class="lineno"> 6012</span>$   evt.Event.KeyEvent.dwControlKeyState = 0;</div>
<div class="line"><a id="l06013" name="l06013"></a><span class="lineno"> 6013</span> </div>
<div class="line"><a id="l06014" name="l06014"></a><span class="lineno"> 6014</span>$   DWORD written = 0;</div>
<div class="line"><a id="l06015" name="l06015"></a><span class="lineno"> 6015</span>$   WriteConsoleInput (GetStdHandle (STD_INPUT_HANDLE), &amp;evt, 1, &amp;written);</div>
<div class="line"><a id="l06016" name="l06016"></a><span class="lineno"> 6016</span> </div>
<div class="line"><a id="l06017" name="l06017"></a><span class="lineno"> 6017</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06018" name="l06018"></a><span class="lineno"> 6018</span>    }</div>
<div class="line"><a id="l06019" name="l06019"></a><span class="lineno"> 6019</span> </div>
<div class="line"><a id="l06020" name="l06020"></a><span class="lineno"> 6020</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06021" name="l06021"></a><span class="lineno"> 6021</span> </div>
<div class="line"><a id="l06022" name="l06022"></a><span class="lineno"> 6022</span><span class="keywordtype">bool</span> _txCanvas_OnMOUSEMOVE (HWND, WPARAM buttons, LPARAM coords)</div>
<div class="line"><a id="l06023" name="l06023"></a><span class="lineno"> 6023</span>    {</div>
<div class="line"><a id="l06024" name="l06024"></a><span class="lineno"> 6024</span>$1  _TX_IF_ARGUMENT_FAILED (_txCanvas_OK()) return false;</div>
<div class="line"><a id="l06025" name="l06025"></a><span class="lineno"> 6025</span> </div>
<div class="line"><a id="l06026" name="l06026"></a><span class="lineno"> 6026</span>$   _txMousePos.x   = LOWORD (coords);</div>
<div class="line"><a id="l06027" name="l06027"></a><span class="lineno"> 6027</span>$   _txMousePos.y   = HIWORD (coords);</div>
<div class="line"><a id="l06028" name="l06028"></a><span class="lineno"> 6028</span>$   _txMouseButtons = (<span class="keywordtype">int</span>) buttons;</div>
<div class="line"><a id="l06029" name="l06029"></a><span class="lineno"> 6029</span> </div>
<div class="line"><a id="l06030" name="l06030"></a><span class="lineno"> 6030</span>$   return true;</div>
<div class="line"><a id="l06031" name="l06031"></a><span class="lineno"> 6031</span>    }</div>
<div class="line"><a id="l06032" name="l06032"></a><span class="lineno"> 6032</span> </div>
<div class="line"><a id="l06033" name="l06033"></a><span class="lineno"> 6033</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06034" name="l06034"></a><span class="lineno"> 6034</span> </div>
<div class="line"><a id="l06035" name="l06035"></a><span class="lineno"> 6035</span><span class="keywordtype">bool</span> _txCanvas_OnCmdCONSOLE (HWND wnd, WPARAM cmd)</div>
<div class="line"><a id="l06036" name="l06036"></a><span class="lineno"> 6036</span>    {</div>
<div class="line"><a id="l06037" name="l06037"></a><span class="lineno"> 6037</span>$1  _TX_IF_ARGUMENT_FAILED (wnd) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06038" name="l06038"></a><span class="lineno"> 6038</span> </div>
<div class="line"><a id="l06039" name="l06039"></a><span class="lineno"> 6039</span>$   HWND console = Win32::GetConsoleWindow();</div>
<div class="line"><a id="l06040" name="l06040"></a><span class="lineno"> 6040</span>$   <span class="keywordflow">if</span> (!console) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06041" name="l06041"></a><span class="lineno"> 6041</span> </div>
<div class="line"><a id="l06042" name="l06042"></a><span class="lineno"> 6042</span>$   <span class="keywordtype">bool</span> visible = !!IsWindowVisible (console);</div>
<div class="line"><a id="l06043" name="l06043"></a><span class="lineno"> 6043</span> </div>
<div class="line"><a id="l06044" name="l06044"></a><span class="lineno"> 6044</span>$   ShowWindow (console, visible? SW_HIDE : SW_SHOW);</div>
<div class="line"><a id="l06045" name="l06045"></a><span class="lineno"> 6045</span> </div>
<div class="line"><a id="l06046" name="l06046"></a><span class="lineno"> 6046</span>$   visible = !!IsWindowVisible (console);</div>
<div class="line"><a id="l06047" name="l06047"></a><span class="lineno"> 6047</span>$   CheckMenuItem (GetSystemMenu (wnd, <span class="keyword">false</span>), (<span class="keywordtype">int</span>) cmd, visible? MF_CHECKED : MF_UNCHECKED);</div>
<div class="line"><a id="l06048" name="l06048"></a><span class="lineno"> 6048</span> </div>
<div class="line"><a id="l06049" name="l06049"></a><span class="lineno"> 6049</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06050" name="l06050"></a><span class="lineno"> 6050</span>    }</div>
<div class="line"><a id="l06051" name="l06051"></a><span class="lineno"> 6051</span> </div>
<div class="line"><a id="l06052" name="l06052"></a><span class="lineno"> 6052</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06053" name="l06053"></a><span class="lineno"> 6053</span> </div>
<div class="line"><a id="l06054" name="l06054"></a><span class="lineno"> 6054</span><span class="keywordtype">bool</span> _txCanvas_OnCmdABOUT (HWND, WPARAM)</div>
<div class="line"><a id="l06055" name="l06055"></a><span class="lineno"> 6055</span>    {</div>
<div class="line"><a id="l06056" name="l06056"></a><span class="lineno"> 6056</span>$1  <span class="comment">//{ Overriding the missing names, if the set is uncomplete</span></div>
<div class="line"><a id="l06057" name="l06057"></a><span class="lineno"> 6057</span> </div>
<div class="line"><a id="l06058" name="l06058"></a><span class="lineno"> 6058</span><span class="preprocessor">    #if defined (__MODULE)</span></div>
<div class="line"><a id="l06059" name="l06059"></a><span class="lineno"> 6059</span><span class="preprocessor">        #define ABOUT_NAME_    __MODULE</span></div>
<div class="line"><a id="l06060" name="l06060"></a><span class="lineno"> 6060</span><span class="preprocessor">    #else</span></div>
<div class="line"><a id="l06061" name="l06061"></a><span class="lineno"> 6061</span><span class="preprocessor">        #define ABOUT_NAME_    &quot;TXLib&quot;</span></div>
<div class="line"><a id="l06062" name="l06062"></a><span class="lineno"> 6062</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l06063" name="l06063"></a><span class="lineno"> 6063</span> </div>
<div class="line"><a id="l06064" name="l06064"></a><span class="lineno"> 6064</span><span class="preprocessor">    #if defined (__MODULE) || defined (__VERSION) || defined (__DESCRIPTION) || defined (__AUTHOR)</span></div>
<div class="line"><a id="l06065" name="l06065"></a><span class="lineno"> 6065</span> </div>
<div class="line"><a id="l06066" name="l06066"></a><span class="lineno"> 6066</span><span class="preprocessor">        #ifndef __MODULE</span></div>
<div class="line"><a id="l06067" name="l06067"></a><span class="lineno"> 6067</span><span class="preprocessor">        #define __MODULE       &quot;TXLib&quot;</span>                           &quot;\n&quot;  &quot;#define __MODULE to set the name.\n&quot;</div>
<div class="line"><a id="l06068" name="l06068"></a><span class="lineno"> 6068</span><span class="preprocessor">        #endif</span></div>
<div class="line"><a id="l06069" name="l06069"></a><span class="lineno"> 6069</span> </div>
<div class="line"><a id="l06070" name="l06070"></a><span class="lineno"> 6070</span><span class="preprocessor">        #ifndef __VERSION</span></div>
<div class="line"><a id="l06071" name="l06071"></a><span class="lineno"> 6071</span><span class="preprocessor">        #define __VERSION      &quot;(0.000000000).&quot;</span>                  &quot;\n&quot; &quot;#define __VERSION to set the string value.\n&quot;</div>
<div class="line"><a id="l06072" name="l06072"></a><span class="lineno"> 6072</span><span class="preprocessor">        #endif</span></div>
<div class="line"><a id="l06073" name="l06073"></a><span class="lineno"> 6073</span> </div>
<div class="line"><a id="l06074" name="l06074"></a><span class="lineno"> 6074</span><span class="preprocessor">        #ifndef __DESCRIPTION</span></div>
<div class="line"><a id="l06075" name="l06075"></a><span class="lineno"> 6075</span><span class="preprocessor">        #define __DESCRIPTION  &quot;(,    ).&quot;</span> &quot;\n&quot; &quot;#define __DESCRIPTION to override project role.\n&quot;</div>
<div class="line"><a id="l06076" name="l06076"></a><span class="lineno"> 6076</span><span class="preprocessor">        #endif</span></div>
<div class="line"><a id="l06077" name="l06077"></a><span class="lineno"> 6077</span> </div>
<div class="line"><a id="l06078" name="l06078"></a><span class="lineno"> 6078</span><span class="preprocessor">        #ifndef __AUTHOR</span></div>
<div class="line"><a id="l06079" name="l06079"></a><span class="lineno"> 6079</span><span class="preprocessor">        #define __AUTHOR       &quot;( ).&quot;</span>                &quot;\n&quot; &quot;#define __AUTHOR to override this name.&quot;</div>
<div class="line"><a id="l06080" name="l06080"></a><span class="lineno"> 6080</span><span class="preprocessor">        #endif</span></div>
<div class="line"><a id="l06081" name="l06081"></a><span class="lineno"> 6081</span> </div>
<div class="line"><a id="l06082" name="l06082"></a><span class="lineno"> 6082</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l06083" name="l06083"></a><span class="lineno"> 6083</span>    <span class="comment">//}</span></div>
<div class="line"><a id="l06084" name="l06084"></a><span class="lineno"> 6084</span> </div>
<div class="line"><a id="l06085" name="l06085"></a><span class="lineno"> 6085</span>$   time_t timeT     = time (NULL) - clock()/CLOCKS_PER_SEC;</div>
<div class="line"><a id="l06086" name="l06086"></a><span class="lineno"> 6086</span>$   <span class="keywordtype">char</span>   timeS[32] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06087" name="l06087"></a><span class="lineno"> 6087</span>$   ctime_s (timeS, <span class="keyword">sizeof</span> (timeS), &amp;timeT);</div>
<div class="line"><a id="l06088" name="l06088"></a><span class="lineno"> 6088</span> </div>
<div class="line"><a id="l06089" name="l06089"></a><span class="lineno"> 6089</span>$   <span class="keyword">static</span> <span class="keywordtype">char</span> text[<a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06090" name="l06090"></a><span class="lineno"> 6090</span>$   <span class="keywordtype">char</span> cwd [MAX_PATH] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06091" name="l06091"></a><span class="lineno"> 6091</span> </div>
<div class="line"><a id="l06092" name="l06092"></a><span class="lineno"> 6092</span>$   _snprintf_s (text, <span class="keyword">sizeof</span> (text) - 1 _TX_TRUNCATE,</div>
<div class="line"><a id="l06093" name="l06093"></a><span class="lineno"> 6093</span> </div>
<div class="line"><a id="l06094" name="l06094"></a><span class="lineno"> 6094</span>                 <span class="stringliteral">&quot;Application:\n&quot;</span></div>
<div class="line"><a id="l06095" name="l06095"></a><span class="lineno"> 6095</span> </div>
<div class="line"><a id="l06096" name="l06096"></a><span class="lineno"> 6096</span>                 #<span class="keywordflow">if</span> defined (__MODULE) || defined (__VERSION) || defined (__DESCRIPTION) || defined (__AUTHOR)</div>
<div class="line"><a id="l06097" name="l06097"></a><span class="lineno"> 6097</span>                     __MODULE <span class="stringliteral">&quot; version &quot;</span> __VERSION <span class="stringliteral">&quot;\n&quot;</span> __DESCRIPTION <span class="stringliteral">&quot;\n&quot;</span> <span class="stringliteral">&quot;Copyright (c) &quot;</span> __AUTHOR <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l06098" name="l06098"></a><span class="lineno"> 6098</span>                 #<span class="keywordflow">else</span></div>
<div class="line"><a id="l06099" name="l06099"></a><span class="lineno"> 6099</span>                     <span class="stringliteral">&quot;      :)\n&quot;</span></div>
<div class="line"><a id="l06100" name="l06100"></a><span class="lineno"> 6100</span>                     <span class="stringliteral">&quot;#define __MODULE to \&quot;your program name\&quot; before including TXLib.h to use this billboard...\n&quot;</span></div>
<div class="line"><a id="l06101" name="l06101"></a><span class="lineno"> 6101</span>                 #endif</div>
<div class="line"><a id="l06102" name="l06102"></a><span class="lineno"> 6102</span> </div>
<div class="line"><a id="l06103" name="l06103"></a><span class="lineno"> 6103</span>                 <span class="stringliteral">&quot;\n&quot;</span> <span class="stringliteral">&quot;Developed with:\n\n&quot;</span></div>
<div class="line"><a id="l06104" name="l06104"></a><span class="lineno"> 6104</span>                 <span class="stringliteral">&quot;The Dumb Artist Library (TX Library) - &quot;</span> <a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a> <span class="stringliteral">&quot;\n&quot;</span> _TX_AUTHOR <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l06105" name="l06105"></a><span class="lineno"> 6105</span>                 <span class="stringliteral">&quot;See license on: http://txlib.ru\n\n&quot;</span></div>
<div class="line"><a id="l06106" name="l06106"></a><span class="lineno"> 6106</span> </div>
<div class="line"><a id="l06107" name="l06107"></a><span class="lineno"> 6107</span>                 <span class="stringliteral">&quot;TXLib file:&quot;</span> <span class="stringliteral">&quot;\t&quot;</span> __FILE__ <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l06108" name="l06108"></a><span class="lineno"> 6108</span>                 <span class="stringliteral">&quot;Compiled:&quot;</span>   <span class="stringliteral">&quot;\t&quot;</span> __DATE__ <span class="stringliteral">&quot; &quot;</span> __TIME__ <span class="stringliteral">&quot;, &quot;</span> <a class="code hl_define" href="group___misc.html#ga3e287c38947fea870d01588fbd2a5fc9">_TX_BUILDMODE</a> <span class="stringliteral">&quot;, &quot;</span> <a class="code hl_define" href="group___misc.html#gadd1c9ccd036228402b807abaea14f7ee">__TX_COMPILER__</a> <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a id="l06109" name="l06109"></a><span class="lineno"> 6109</span>                 <span class="stringliteral">&quot;Started:&quot;</span>    <span class="stringliteral">&quot;\t&quot;</span> <span class="stringliteral">&quot;%.6s %.4s %.8s\n\n&quot;</span></div>
<div class="line"><a id="l06110" name="l06110"></a><span class="lineno"> 6110</span> </div>
<div class="line"><a id="l06111" name="l06111"></a><span class="lineno"> 6111</span>                 <span class="stringliteral">&quot;Run file:&quot;</span>   <span class="stringliteral">&quot;\t&quot;</span> <span class="stringliteral">&quot;%s\n&quot;</span></div>
<div class="line"><a id="l06112" name="l06112"></a><span class="lineno"> 6112</span>                 <span class="stringliteral">&quot;Directory:&quot;</span>  <span class="stringliteral">&quot;\t&quot;</span> <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><a id="l06113" name="l06113"></a><span class="lineno"> 6113</span> </div>
<div class="line"><a id="l06114" name="l06114"></a><span class="lineno"> 6114</span>                 timeS + 4, timeS + 20, timeS + 11,  <span class="comment">// These offsets are ANSI standardized</span></div>
<div class="line"><a id="l06115" name="l06115"></a><span class="lineno"> 6115</span>                 <a class="code hl_function" href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">txGetModuleFileName</a>(),</div>
<div class="line"><a id="l06116" name="l06116"></a><span class="lineno"> 6116</span>                 _getcwd (cwd, <span class="keyword">sizeof</span> (cwd) - 1));</div>
<div class="line"><a id="l06117" name="l06117"></a><span class="lineno"> 6117</span> </div>
<div class="line"><a id="l06118" name="l06118"></a><span class="lineno"> 6118</span>$   <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (text, <span class="stringliteral">&quot;About &quot;</span> ABOUT_NAME_, MB_ICONINFORMATION);</div>
<div class="line"><a id="l06119" name="l06119"></a><span class="lineno"> 6119</span> </div>
<div class="line"><a id="l06120" name="l06120"></a><span class="lineno"> 6120</span>    <span class="comment">// And a bit of HTTP-code in C++ function:</span></div>
<div class="line"><a id="l06121" name="l06121"></a><span class="lineno"> 6121</span> </div>
<div class="line"><a id="l06122" name="l06122"></a><span class="lineno"> 6122</span>    <span class="keywordflow">goto</span> http;</div>
<div class="line"><a id="l06123" name="l06123"></a><span class="lineno"> 6123</span>    http:<span class="comment">//txlib.ru                                  // See valuable refs here :)</span></div>
<div class="line"><a id="l06124" name="l06124"></a><span class="lineno"> 6124</span> </div>
<div class="line"><a id="l06125" name="l06125"></a><span class="lineno"> 6125</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06126" name="l06126"></a><span class="lineno"> 6126</span> </div>
<div class="line"><a id="l06127" name="l06127"></a><span class="lineno"> 6127</span><span class="preprocessor">    #undef ABOUT_NAME_</span></div>
<div class="line"><a id="l06128" name="l06128"></a><span class="lineno"> 6128</span>    }</div>
<div class="line"><a id="l06129" name="l06129"></a><span class="lineno"> 6129</span> </div>
<div class="line"><a id="l06131" name="l06131"></a><span class="lineno"> 6131</span><span class="comment">//}</span></div>
<div class="line"><a id="l06132" name="l06132"></a><span class="lineno"> 6132</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06133" name="l06133"></a><span class="lineno"> 6133</span> </div>
<div class="line"><a id="l06134" name="l06134"></a><span class="lineno"> 6134</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06135" name="l06135"></a><span class="lineno"> 6135</span><span class="comment">//{          [Internal] Console-support functions  (_txConsole...)</span></div>
<div class="line"><a id="l06137" name="l06137"></a><span class="lineno"> 6137</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06139" name="l06139"></a><span class="lineno"> 6139</span><span class="comment"></span> </div>
<div class="line"><a id="l06140" name="l06140"></a><span class="lineno"> 6140</span>HWND _txConsole_Attach()</div>
<div class="line"><a id="l06141" name="l06141"></a><span class="lineno"> 6141</span>    {</div>
<div class="line"><a id="l06142" name="l06142"></a><span class="lineno"> 6142</span>$1  HWND console = Win32::GetConsoleWindow();</div>
<div class="line"><a id="l06143" name="l06143"></a><span class="lineno"> 6143</span> </div>
<div class="line"><a id="l06144" name="l06144"></a><span class="lineno"> 6144</span>$   <span class="keywordflow">if</span> (!console)</div>
<div class="line"><a id="l06145" name="l06145"></a><span class="lineno"> 6145</span>        {</div>
<div class="line"><a id="l06146" name="l06146"></a><span class="lineno"> 6146</span>$       FreeConsole();</div>
<div class="line"><a id="l06147" name="l06147"></a><span class="lineno"> 6147</span>$       AllocConsole();</div>
<div class="line"><a id="l06148" name="l06148"></a><span class="lineno"> 6148</span>        }</div>
<div class="line"><a id="l06149" name="l06149"></a><span class="lineno"> 6149</span> </div>
<div class="line"><a id="l06150" name="l06150"></a><span class="lineno"> 6150</span>$   console = Win32::GetConsoleWindow();</div>
<div class="line"><a id="l06151" name="l06151"></a><span class="lineno"> 6151</span>$   <span class="keywordflow">if</span> (!console) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l06152" name="l06152"></a><span class="lineno"> 6152</span> </div>
<div class="line"><a id="l06153" name="l06153"></a><span class="lineno"> 6153</span>    <span class="comment">// Linux::Wine v1.2.2+ compatibility.</span></div>
<div class="line"><a id="l06154" name="l06154"></a><span class="lineno"> 6154</span>    <span class="comment">// Beer compatibility will be added in future versions.</span></div>
<div class="line"><a id="l06155" name="l06155"></a><span class="lineno"> 6155</span>    <span class="comment">//   :   wine   .</span></div>
<div class="line"><a id="l06156" name="l06156"></a><span class="lineno"> 6156</span> </div>
<div class="line"><a id="l06157" name="l06157"></a><span class="lineno"> 6157</span>$   <span class="keywordflow">if</span> (Win32::wine_get_version)</div>
<div class="line"><a id="l06158" name="l06158"></a><span class="lineno"> 6158</span>        {</div>
<div class="line"><a id="l06159" name="l06159"></a><span class="lineno"> 6159</span>$       Win32::GetNumberOfConsoleFonts = NULL;</div>
<div class="line"><a id="l06160" name="l06160"></a><span class="lineno"> 6160</span>$       Win32::GetCurrentConsoleFont   = NULL;</div>
<div class="line"><a id="l06161" name="l06161"></a><span class="lineno"> 6161</span>$       Win32::SetConsoleFont          = NULL;</div>
<div class="line"><a id="l06162" name="l06162"></a><span class="lineno"> 6162</span>        }</div>
<div class="line"><a id="l06163" name="l06163"></a><span class="lineno"> 6163</span> </div>
<div class="line"><a id="l06164" name="l06164"></a><span class="lineno"> 6164</span>    <span class="comment">//       Windows</span></div>
<div class="line"><a id="l06165" name="l06165"></a><span class="lineno"> 6165</span> </div>
<div class="line"><a id="l06166" name="l06166"></a><span class="lineno"> 6166</span>$   SetConsoleCP       (_TX_CP);  <span class="comment">// 1251</span></div>
<div class="line"><a id="l06167" name="l06167"></a><span class="lineno"> 6167</span>$   SetConsoleOutputCP (_TX_CP);  <span class="comment">// 1251</span></div>
<div class="line"><a id="l06168" name="l06168"></a><span class="lineno"> 6168</span> </div>
<div class="line"><a id="l06169" name="l06169"></a><span class="lineno"> 6169</span>    <span class="comment">//       ,     Unicode-</span></div>
<div class="line"><a id="l06170" name="l06170"></a><span class="lineno"> 6170</span>    <span class="comment">//  (wprintf, ...).     gcc    L&quot;unicode-&quot;  </span></div>
<div class="line"><a id="l06171" name="l06171"></a><span class="lineno"> 6171</span>    <span class="comment">// ,       g++: -finput-charset=CP1251 -fexec-charset=CP1251.</span></div>
<div class="line"><a id="l06172" name="l06172"></a><span class="lineno"> 6172</span> </div>
<div class="line"><a id="l06173" name="l06173"></a><span class="lineno"> 6173</span>$   setlocale (LC_CTYPE, _TX_LC_CTYPE);                                    <span class="comment">//  &quot;Russian&quot;</span></div>
<div class="line"><a id="l06174" name="l06174"></a><span class="lineno"> 6174</span>$   <span class="keywordflow">if</span> (!Win32::wine_get_version) _wsetlocale (LC_CTYPE, _TX_LC_CTYPE_W);  <span class="comment">// L&quot;Russian_Russia.ACP&quot;</span></div>
<div class="line"><a id="l06175" name="l06175"></a><span class="lineno"> 6175</span> </div>
<div class="line"><a id="l06176" name="l06176"></a><span class="lineno"> 6176</span>$   <span class="keyword">static</span> <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06177" name="l06177"></a><span class="lineno"> 6177</span>$   <span class="keywordflow">if</span> (done) <span class="keywordflow">return</span> console;</div>
<div class="line"><a id="l06178" name="l06178"></a><span class="lineno"> 6178</span> </div>
<div class="line"><a id="l06179" name="l06179"></a><span class="lineno"> 6179</span>    <span class="comment">//     .</span></div>
<div class="line"><a id="l06180" name="l06180"></a><span class="lineno"> 6180</span> </div>
<div class="line"><a id="l06181" name="l06181"></a><span class="lineno"> 6181</span>$   <span class="keywordflow">if</span> (!Win32::wine_get_version)</div>
<div class="line"><a id="l06182" name="l06182"></a><span class="lineno"> 6182</span>        { $ _txConsole_SetUnicodeFont(); }</div>
<div class="line"><a id="l06183" name="l06183"></a><span class="lineno"> 6183</span> </div>
<div class="line"><a id="l06184" name="l06184"></a><span class="lineno"> 6184</span><span class="preprocessor">#ifndef _CONSOLE</span></div>
<div class="line"><a id="l06185" name="l06185"></a><span class="lineno"> 6185</span> </div>
<div class="line"><a id="l06186" name="l06186"></a><span class="lineno"> 6186</span>    <span class="comment">//   &lt;s&gt;&lt;/s&gt;  -,  subsystem != console</span></div>
<div class="line"><a id="l06187" name="l06187"></a><span class="lineno"> 6187</span> </div>
<div class="line"><a id="l06188" name="l06188"></a><span class="lineno"> 6188</span>$                    *stdin  = *_fdopen (_open_osfhandle ((DWORD)(ptrdiff_t) GetStdHandle (STD_INPUT_HANDLE),  _O_TEXT), <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><a id="l06189" name="l06189"></a><span class="lineno"> 6189</span>$   fflush (stdout); *stdout = *_fdopen (_open_osfhandle ((DWORD)(ptrdiff_t) GetStdHandle (STD_OUTPUT_HANDLE), _O_TEXT), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><a id="l06190" name="l06190"></a><span class="lineno"> 6190</span>$   fflush (stderr); *stderr = *_fdopen (_open_osfhandle ((DWORD)(ptrdiff_t) GetStdHandle (STD_ERROR_HANDLE),  _O_TEXT), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><a id="l06191" name="l06191"></a><span class="lineno"> 6191</span> </div>
<div class="line"><a id="l06192" name="l06192"></a><span class="lineno"> 6192</span>$   setvbuf (stdin,  NULL, _IONBF, 0);</div>
<div class="line"><a id="l06193" name="l06193"></a><span class="lineno"> 6193</span>$   setvbuf (stdout, NULL, _IONBF, 0);</div>
<div class="line"><a id="l06194" name="l06194"></a><span class="lineno"> 6194</span>$   setvbuf (stderr, NULL, _IONBF, 0);</div>
<div class="line"><a id="l06195" name="l06195"></a><span class="lineno"> 6195</span> </div>
<div class="line"><a id="l06196" name="l06196"></a><span class="lineno"> 6196</span>$   std::ios::sync_with_stdio();</div>
<div class="line"><a id="l06197" name="l06197"></a><span class="lineno"> 6197</span> </div>
<div class="line"><a id="l06198" name="l06198"></a><span class="lineno"> 6198</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l06199" name="l06199"></a><span class="lineno"> 6199</span> </div>
<div class="line"><a id="l06200" name="l06200"></a><span class="lineno"> 6200</span>    <span class="comment">// That&#39;s all, folks</span></div>
<div class="line"><a id="l06201" name="l06201"></a><span class="lineno"> 6201</span> </div>
<div class="line"><a id="l06202" name="l06202"></a><span class="lineno"> 6202</span>$   done = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06203" name="l06203"></a><span class="lineno"> 6203</span>$   <span class="keywordflow">return</span> console;</div>
<div class="line"><a id="l06204" name="l06204"></a><span class="lineno"> 6204</span>    }</div>
<div class="line"><a id="l06205" name="l06205"></a><span class="lineno"> 6205</span> </div>
<div class="line"><a id="l06206" name="l06206"></a><span class="lineno"> 6206</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06207" name="l06207"></a><span class="lineno"> 6207</span> </div>
<div class="line"><a id="l06208" name="l06208"></a><span class="lineno"> 6208</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> _txConsole_OK()</div>
<div class="line"><a id="l06209" name="l06209"></a><span class="lineno"> 6209</span>    {</div>
<div class="line"><a id="l06210" name="l06210"></a><span class="lineno"> 6210</span>$1  <span class="keywordflow">return</span> Win32::GetConsoleWindow() != NULL;</div>
<div class="line"><a id="l06211" name="l06211"></a><span class="lineno"> 6211</span>    }</div>
<div class="line"><a id="l06212" name="l06212"></a><span class="lineno"> 6212</span> </div>
<div class="line"><a id="l06213" name="l06213"></a><span class="lineno"> 6213</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06214" name="l06214"></a><span class="lineno"> 6214</span> </div>
<div class="line"><a id="l06215" name="l06215"></a><span class="lineno"> 6215</span><span class="keywordtype">bool</span> _txConsole_Detach (<span class="keywordtype">bool</span> activate)</div>
<div class="line"><a id="l06216" name="l06216"></a><span class="lineno"> 6216</span>    {</div>
<div class="line"><a id="l06217" name="l06217"></a><span class="lineno"> 6217</span>$1  HWND console = Win32::GetConsoleWindow();</div>
<div class="line"><a id="l06218" name="l06218"></a><span class="lineno"> 6218</span>$   <span class="keywordflow">if</span> (!console) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06219" name="l06219"></a><span class="lineno"> 6219</span> </div>
<div class="line"><a id="l06220" name="l06220"></a><span class="lineno"> 6220</span>$   EnableWindow (console, <span class="keyword">true</span>);</div>
<div class="line"><a id="l06221" name="l06221"></a><span class="lineno"> 6221</span>$   ShowWindow   (console, SW_SHOW);</div>
<div class="line"><a id="l06222" name="l06222"></a><span class="lineno"> 6222</span> </div>
<div class="line"><a id="l06223" name="l06223"></a><span class="lineno"> 6223</span>$   <span class="keywordflow">if</span> (activate)</div>
<div class="line"><a id="l06224" name="l06224"></a><span class="lineno"> 6224</span>        {</div>
<div class="line"><a id="l06225" name="l06225"></a><span class="lineno"> 6225</span>$       SetForegroundWindow (console);</div>
<div class="line"><a id="l06226" name="l06226"></a><span class="lineno"> 6226</span>$       BringWindowToTop    (console);</div>
<div class="line"><a id="l06227" name="l06227"></a><span class="lineno"> 6227</span>        }</div>
<div class="line"><a id="l06228" name="l06228"></a><span class="lineno"> 6228</span> </div>
<div class="line"><a id="l06229" name="l06229"></a><span class="lineno"> 6229</span>$   <span class="keywordflow">return</span> !!FreeConsole();</div>
<div class="line"><a id="l06230" name="l06230"></a><span class="lineno"> 6230</span>    }</div>
<div class="line"><a id="l06231" name="l06231"></a><span class="lineno"> 6231</span> </div>
<div class="line"><a id="l06232" name="l06232"></a><span class="lineno"> 6232</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06233" name="l06233"></a><span class="lineno"> 6233</span> </div>
<div class="line"><a id="l06234" name="l06234"></a><span class="lineno"> 6234</span><span class="keywordtype">bool</span> _txConsole_Draw (HDC dc)</div>
<div class="line"><a id="l06235" name="l06235"></a><span class="lineno"> 6235</span>    {</div>
<div class="line"><a id="l06236" name="l06236"></a><span class="lineno"> 6236</span>$1  _TX_IF_ARGUMENT_FAILED (dc) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06237" name="l06237"></a><span class="lineno"> 6237</span> </div>
<div class="line"><a id="l06238" name="l06238"></a><span class="lineno"> 6238</span>$   HANDLE out = GetStdHandle (STD_OUTPUT_HANDLE);</div>
<div class="line"><a id="l06239" name="l06239"></a><span class="lineno"> 6239</span> </div>
<div class="line"><a id="l06240" name="l06240"></a><span class="lineno"> 6240</span>$   CONSOLE_SCREEN_BUFFER_INFO con = {{0}};</div>
<div class="line"><a id="l06241" name="l06241"></a><span class="lineno"> 6241</span>$   BOOL ok = GetConsoleScreenBufferInfo (out, &amp;con);</div>
<div class="line"><a id="l06242" name="l06242"></a><span class="lineno"> 6242</span>$   <span class="keywordflow">if</span> (!ok) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06243" name="l06243"></a><span class="lineno"> 6243</span> </div>
<div class="line"><a id="l06244" name="l06244"></a><span class="lineno"> 6244</span>$   POINT size = { con.srWindow.Right  - con.srWindow.Left + 1,</div>
<div class="line"><a id="l06245" name="l06245"></a><span class="lineno"> 6245</span>                   con.srWindow.Bottom - con.srWindow.Top  + 1 };</div>
<div class="line"><a id="l06246" name="l06246"></a><span class="lineno"> 6246</span> </div>
<div class="line"><a id="l06247" name="l06247"></a><span class="lineno"> 6247</span>$   SIZE fontSz = { 12, 16 };</div>
<div class="line"><a id="l06248" name="l06248"></a><span class="lineno"> 6248</span>$   Win32::GetTextExtentPoint32 (dc, <span class="stringliteral">&quot;W&quot;</span>, 1, &amp;fontSz) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06249" name="l06249"></a><span class="lineno"> 6249</span> </div>
<div class="line"><a id="l06250" name="l06250"></a><span class="lineno"> 6250</span>$   COLORREF pal [16] = { 0x000000, 0x800000, 0x008000, 0x808000, 0x000080, 0x800080, 0x008080, 0xC0C0C0,</div>
<div class="line"><a id="l06251" name="l06251"></a><span class="lineno"> 6251</span>                          0x808080, 0xFF0000, 0x00FF00, 0xFFFF00, 0x0000FF, 0xFF00FF, 0x00FFFF, 0xFFFFFF };</div>
<div class="line"><a id="l06252" name="l06252"></a><span class="lineno"> 6252</span> </div>
<div class="line"><a id="l06253" name="l06253"></a><span class="lineno"> 6253</span>$   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; size.y; y++)</div>
<div class="line"><a id="l06254" name="l06254"></a><span class="lineno"> 6254</span>        {</div>
<div class="line"><a id="l06255" name="l06255"></a><span class="lineno"> 6255</span>        <span class="keyword">static</span> <span class="keywordtype">char</span> chr [<a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a> + 1] = <span class="stringliteral">&quot;&quot;</span>;  <span class="comment">// [con.dwSize.X + 1]; maybe will be truncated</span></div>
<div class="line"><a id="l06256" name="l06256"></a><span class="lineno"> 6256</span>        <span class="keyword">static</span> WORD atr [<a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a> + 1] = {0}; <span class="comment">// [con.dwSize.X + 1]; maybe will be truncated</span></div>
<div class="line"><a id="l06257" name="l06257"></a><span class="lineno"> 6257</span>        COORD coord = { (short) (con.srWindow.Left), (short) (y + con.srWindow.Top) };</div>
<div class="line"><a id="l06258" name="l06258"></a><span class="lineno"> 6258</span>        DWORD read  = 0;</div>
<div class="line"><a id="l06259" name="l06259"></a><span class="lineno"> 6259</span> </div>
<div class="line"><a id="l06260" name="l06260"></a><span class="lineno"> 6260</span>        <span class="keywordflow">if</span> (!ReadConsoleOutputCharacter (out, chr, <a class="code hl_define" href="group___misc.html#ga3379d227f91f891ac97d068ab90ee871">SIZEARR</a> (chr) - 1, coord, &amp;read)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06261" name="l06261"></a><span class="lineno"> 6261</span>        <span class="keywordflow">if</span> (!ReadConsoleOutputAttribute (out, atr, <a class="code hl_define" href="group___misc.html#ga3379d227f91f891ac97d068ab90ee871">SIZEARR</a> (atr) - 1, coord, &amp;read)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l06262" name="l06262"></a><span class="lineno"> 6262</span> </div>
<div class="line"><a id="l06263" name="l06263"></a><span class="lineno"> 6263</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0, xEnd = size.x; x &lt; size.x; x = xEnd)</div>
<div class="line"><a id="l06264" name="l06264"></a><span class="lineno"> 6264</span>            {</div>
<div class="line"><a id="l06265" name="l06265"></a><span class="lineno"> 6265</span>            Win32::SetTextColor (dc, pal [ atr[x]       &amp; 0x0F]);</div>
<div class="line"><a id="l06266" name="l06266"></a><span class="lineno"> 6266</span>            Win32::SetBkColor   (dc, pal [(atr[x] &gt;&gt; 4) &amp; 0x0F]);</div>
<div class="line"><a id="l06267" name="l06267"></a><span class="lineno"> 6267</span>            Win32::SetBkMode    (dc,      (atr[x]       &amp; 0xF0)? OPAQUE : TRANSPARENT);</div>
<div class="line"><a id="l06268" name="l06268"></a><span class="lineno"> 6268</span> </div>
<div class="line"><a id="l06269" name="l06269"></a><span class="lineno"> 6269</span>            <span class="keywordflow">for</span> (xEnd = x+1; atr[xEnd] == atr[x] &amp;&amp; xEnd &lt; size.x; xEnd++) ;</div>
<div class="line"><a id="l06270" name="l06270"></a><span class="lineno"> 6270</span> </div>
<div class="line"><a id="l06271" name="l06271"></a><span class="lineno"> 6271</span>            Win32::TextOut (dc, <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (fontSz.cx * (x + con.srWindow.Left)),</div>
<div class="line"><a id="l06272" name="l06272"></a><span class="lineno"> 6272</span>                                <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (fontSz.cy *  y), chr + x, xEnd - x) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06273" name="l06273"></a><span class="lineno"> 6273</span>            }</div>
<div class="line"><a id="l06274" name="l06274"></a><span class="lineno"> 6274</span>        }</div>
<div class="line"><a id="l06275" name="l06275"></a><span class="lineno"> 6275</span> </div>
<div class="line"><a id="l06276" name="l06276"></a><span class="lineno"> 6276</span>$   Win32::SetTextColor (dc, pal [ con.wAttributes       &amp; 0x0F]);</div>
<div class="line"><a id="l06277" name="l06277"></a><span class="lineno"> 6277</span>$   Win32::SetBkColor   (dc, pal [(con.wAttributes &gt;&gt; 4) &amp; 0x0F]);</div>
<div class="line"><a id="l06278" name="l06278"></a><span class="lineno"> 6278</span>$   Win32::SetBkMode    (dc, TRANSPARENT);</div>
<div class="line"><a id="l06279" name="l06279"></a><span class="lineno"> 6279</span> </div>
<div class="line"><a id="l06280" name="l06280"></a><span class="lineno"> 6280</span>$   <span class="keywordflow">if</span> (_txConsole_IsBlinking &amp;&amp;</div>
<div class="line"><a id="l06281" name="l06281"></a><span class="lineno"> 6281</span>        <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (con.dwCursorPosition, con.srWindow) &amp;&amp;</div>
<div class="line"><a id="l06282" name="l06282"></a><span class="lineno"> 6282</span>        GetTickCount() % <a class="code hl_variable" href="group___technical.html#gacc95bfbcf7a0f9124e8cd5e80d0b3cd3">_txCursorBlinkInterval</a>*2 &gt; <a class="code hl_variable" href="group___technical.html#gacc95bfbcf7a0f9124e8cd5e80d0b3cd3">_txCursorBlinkInterval</a> &amp;&amp;</div>
<div class="line"><a id="l06283" name="l06283"></a><span class="lineno"> 6283</span>        GetForegroundWindow() == <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>())</div>
<div class="line"><a id="l06284" name="l06284"></a><span class="lineno"> 6284</span>        {</div>
<div class="line"><a id="l06285" name="l06285"></a><span class="lineno"> 6285</span>$       Win32::TextOut (dc, <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (fontSz.cx * (con.dwCursorPosition.X - con.srWindow.Left)),</div>
<div class="line"><a id="l06286" name="l06286"></a><span class="lineno"> 6286</span>                            <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (fontSz.cy * (con.dwCursorPosition.Y - con.srWindow.Top)) + 1,</div>
<div class="line"><a id="l06287" name="l06287"></a><span class="lineno"> 6287</span>                            <span class="stringliteral">&quot;_&quot;</span>, 1) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06288" name="l06288"></a><span class="lineno"> 6288</span>        }</div>
<div class="line"><a id="l06289" name="l06289"></a><span class="lineno"> 6289</span> </div>
<div class="line"><a id="l06290" name="l06290"></a><span class="lineno"> 6290</span>$   return true;</div>
<div class="line"><a id="l06291" name="l06291"></a><span class="lineno"> 6291</span>    }</div>
<div class="line"><a id="l06292" name="l06292"></a><span class="lineno"> 6292</span> </div>
<div class="line"><a id="l06293" name="l06293"></a><span class="lineno"> 6293</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06294" name="l06294"></a><span class="lineno"> 6294</span><span class="comment">//{          Welcome to the Duck Side! Together we will rule the Bathroom!</span></div>
<div class="line"><a id="l06295" name="l06295"></a><span class="lineno"> 6295</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06296" name="l06296"></a><span class="lineno"> 6296</span> </div>
<div class="line"><a id="l06297" name="l06297"></a><span class="lineno"> 6297</span><span class="keywordtype">bool</span> _txConsole_SetUnicodeFont()</div>
<div class="line"><a id="l06298" name="l06298"></a><span class="lineno"> 6298</span>    {</div>
<div class="line"><a id="l06299" name="l06299"></a><span class="lineno"> 6299</span>    <span class="comment">//     ...</span></div>
<div class="line"><a id="l06300" name="l06300"></a><span class="lineno"> 6300</span> </div>
<div class="line"><a id="l06301" name="l06301"></a><span class="lineno"> 6301</span>$1  <span class="keywordflow">if</span> (Win32::GetCurrentConsoleFontEx &amp;&amp; Win32::SetCurrentConsoleFontEx)</div>
<div class="line"><a id="l06302" name="l06302"></a><span class="lineno"> 6302</span>        {</div>
<div class="line"><a id="l06303" name="l06303"></a><span class="lineno"> 6303</span>$       HANDLE out = GetStdHandle (STD_OUTPUT_HANDLE);</div>
<div class="line"><a id="l06304" name="l06304"></a><span class="lineno"> 6304</span> </div>
<div class="line"><a id="l06305" name="l06305"></a><span class="lineno"> 6305</span>$       Win32::CONSOLE_FONT_INFOEX info = { <span class="keyword">sizeof</span> (info) };</div>
<div class="line"><a id="l06306" name="l06306"></a><span class="lineno"> 6306</span>$       <span class="keywordflow">if</span> (!Win32::GetCurrentConsoleFontEx (out, <span class="keyword">false</span>, &amp;info)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06307" name="l06307"></a><span class="lineno"> 6307</span> </div>
<div class="line"><a id="l06308" name="l06308"></a><span class="lineno"> 6308</span>$       info.FontFamily = 0x36;                                                    <span class="comment">// Unicode fixed-pitch</span></div>
<div class="line"><a id="l06309" name="l06309"></a><span class="lineno"> 6309</span>$       <span class="keywordflow">if</span> (!*info.FaceName) info.dwFontSize.Y = (SHORT) (info.dwFontSize.Y + 2);  <span class="comment">// Terminal font is too small</span></div>
<div class="line"><a id="l06310" name="l06310"></a><span class="lineno"> 6310</span>$       wcsncpy_s (info.FaceName, L<span class="stringliteral">&quot;Lucida Console&quot;</span>, <a class="code hl_define" href="group___misc.html#ga3379d227f91f891ac97d068ab90ee871">SIZEARR</a> (info.FaceName));</div>
<div class="line"><a id="l06311" name="l06311"></a><span class="lineno"> 6311</span> </div>
<div class="line"><a id="l06312" name="l06312"></a><span class="lineno"> 6312</span>$       <span class="keywordflow">return</span> !!Win32::SetCurrentConsoleFontEx (out, <span class="keyword">false</span>, &amp;info);</div>
<div class="line"><a id="l06313" name="l06313"></a><span class="lineno"> 6313</span>        }</div>
<div class="line"><a id="l06314" name="l06314"></a><span class="lineno"> 6314</span> </div>
<div class="line"><a id="l06315" name="l06315"></a><span class="lineno"> 6315</span>    <span class="comment">// ...      </span></div>
<div class="line"><a id="l06316" name="l06316"></a><span class="lineno"> 6316</span> </div>
<div class="line"><a id="l06317" name="l06317"></a><span class="lineno"> 6317</span>$   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> uniFont = 10;  <span class="comment">// The Internet and W2K sources know this magic number</span></div>
<div class="line"><a id="l06318" name="l06318"></a><span class="lineno"> 6318</span>$   <span class="keyword">const</span> <span class="keywordtype">unsigned</span> uniSize = 20;  <span class="comment">// Size of the font desired, should be &gt; max of Raster Fonts</span></div>
<div class="line"><a id="l06319" name="l06319"></a><span class="lineno"> 6319</span>$   <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06320" name="l06320"></a><span class="lineno"> 6320</span> </div>
<div class="line"><a id="l06321" name="l06321"></a><span class="lineno"> 6321</span>    <span class="comment">// Force Windows to use Unicode font by creating and run the console shortcut tuned to use that font.</span></div>
<div class="line"><a id="l06322" name="l06322"></a><span class="lineno"> 6322</span> </div>
<div class="line"><a id="l06323" name="l06323"></a><span class="lineno"> 6323</span>$   HANDLE out = GetStdHandle (STD_OUTPUT_HANDLE);</div>
<div class="line"><a id="l06324" name="l06324"></a><span class="lineno"> 6324</span> </div>
<div class="line"><a id="l06325" name="l06325"></a><span class="lineno"> 6325</span>$   <span class="keywordflow">if</span> (Win32::GetNumberOfConsoleFonts &amp;&amp; Win32::GetNumberOfConsoleFonts() &lt;= uniFont)</div>
<div class="line"><a id="l06326" name="l06326"></a><span class="lineno"> 6326</span>        {</div>
<div class="line"><a id="l06327" name="l06327"></a><span class="lineno"> 6327</span>$       HRESULT init = Win32::CoInitialize (NULL);</div>
<div class="line"><a id="l06328" name="l06328"></a><span class="lineno"> 6328</span>$       <span class="keywordtype">size_t</span> sz = 0;</div>
<div class="line"><a id="l06329" name="l06329"></a><span class="lineno"> 6329</span> </div>
<div class="line"><a id="l06330" name="l06330"></a><span class="lineno"> 6330</span>$       <span class="keywordtype">char</span> link [MAX_PATH] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06331" name="l06331"></a><span class="lineno"> 6331</span>$       getenv_s (&amp;sz, link, <span class="keyword">sizeof</span> (link) - 1, <span class="stringliteral">&quot;TEMP&quot;</span>);</div>
<div class="line"><a id="l06332" name="l06332"></a><span class="lineno"> 6332</span>$       strncat_s (link, <span class="stringliteral">&quot;\\~txLink.lnk&quot;</span>, <span class="keyword">sizeof</span> (link) - 1);</div>
<div class="line"><a id="l06333" name="l06333"></a><span class="lineno"> 6333</span> </div>
<div class="line"><a id="l06334" name="l06334"></a><span class="lineno"> 6334</span>$       <span class="keywordtype">char</span> comspec [MAX_PATH] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06335" name="l06335"></a><span class="lineno"> 6335</span>$       getenv_s (&amp;sz, comspec, <span class="keyword">sizeof</span> (comspec), <span class="stringliteral">&quot;COMSPEC&quot;</span>);</div>
<div class="line"><a id="l06336" name="l06336"></a><span class="lineno"> 6336</span> </div>
<div class="line"><a id="l06337" name="l06337"></a><span class="lineno"> 6337</span>$       (<span class="keywordtype">void</span>) _unlink (link);</div>
<div class="line"><a id="l06338" name="l06338"></a><span class="lineno"> 6338</span> </div>
<div class="line"><a id="l06339" name="l06339"></a><span class="lineno"> 6339</span>$       _txCreateShortcut (link, comspec, <span class="stringliteral">&quot;/c exit&quot;</span>, NULL, NULL, SW_SHOWMINNOACTIVE, NULL, 0, uniSize) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06340" name="l06340"></a><span class="lineno"> 6340</span> </div>
<div class="line"><a id="l06341" name="l06341"></a><span class="lineno"> 6341</span>$       ok = (Win32::ShellExecuteA (NULL, NULL, link, NULL, NULL, SW_SHOWMINNOACTIVE) &gt; (<span class="keywordtype">void</span>*)32);  <span class="comment">// Sic!</span></div>
<div class="line"><a id="l06342" name="l06342"></a><span class="lineno"> 6342</span>        <span class="keywordflow">if</span> (ok) { $ _txWaitFor (FindWindow (NULL, <span class="stringliteral">&quot;~txLink&quot;</span>), <a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>); }</div>
<div class="line"><a id="l06343" name="l06343"></a><span class="lineno"> 6343</span> </div>
<div class="line"><a id="l06344" name="l06344"></a><span class="lineno"> 6344</span>$       (<span class="keywordtype">void</span>) _unlink (link);</div>
<div class="line"><a id="l06345" name="l06345"></a><span class="lineno"> 6345</span> </div>
<div class="line"><a id="l06346" name="l06346"></a><span class="lineno"> 6346</span>$       <span class="keywordflow">if</span> (init == S_OK) Win32::CoUninitialize();</div>
<div class="line"><a id="l06347" name="l06347"></a><span class="lineno"> 6347</span>        }</div>
<div class="line"><a id="l06348" name="l06348"></a><span class="lineno"> 6348</span> </div>
<div class="line"><a id="l06349" name="l06349"></a><span class="lineno"> 6349</span>    <span class="comment">// If Unicode font is not already set, do set it.</span></div>
<div class="line"><a id="l06350" name="l06350"></a><span class="lineno"> 6350</span> </div>
<div class="line"><a id="l06351" name="l06351"></a><span class="lineno"> 6351</span>$   CONSOLE_FONT_INFO cur = {0};</div>
<div class="line"><a id="l06352" name="l06352"></a><span class="lineno"> 6352</span>    <span class="keywordflow">if</span> (Win32::GetCurrentConsoleFont) { $ Win32::GetCurrentConsoleFont (out, <span class="keyword">false</span>, &amp;cur); }</div>
<div class="line"><a id="l06353" name="l06353"></a><span class="lineno"> 6353</span> </div>
<div class="line"><a id="l06354" name="l06354"></a><span class="lineno"> 6354</span>$   ok &amp;= (cur.nFont &gt;= uniFont);</div>
<div class="line"><a id="l06355" name="l06355"></a><span class="lineno"> 6355</span>    <span class="keywordflow">if</span> (!ok) { $ ok &amp;= Win32::SetConsoleFont &amp;&amp; Win32::SetConsoleFont (out, uniFont); }</div>
<div class="line"><a id="l06356" name="l06356"></a><span class="lineno"> 6356</span> </div>
<div class="line"><a id="l06357" name="l06357"></a><span class="lineno"> 6357</span>$   HWND console = Win32::GetConsoleWindow();</div>
<div class="line"><a id="l06358" name="l06358"></a><span class="lineno"> 6358</span>$   InvalidateRect (console, NULL, <span class="keyword">false</span>);</div>
<div class="line"><a id="l06359" name="l06359"></a><span class="lineno"> 6359</span>$   UpdateWindow   (console);</div>
<div class="line"><a id="l06360" name="l06360"></a><span class="lineno"> 6360</span> </div>
<div class="line"><a id="l06361" name="l06361"></a><span class="lineno"> 6361</span>$   <span class="keywordflow">return</span> ok;</div>
<div class="line"><a id="l06362" name="l06362"></a><span class="lineno"> 6362</span>    }</div>
<div class="line"><a id="l06363" name="l06363"></a><span class="lineno"> 6363</span> </div>
<div class="line"><a id="l06364" name="l06364"></a><span class="lineno"> 6364</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06365" name="l06365"></a><span class="lineno"> 6365</span><span class="comment">//{          The nightmare helpers</span></div>
<div class="line"><a id="l06366" name="l06366"></a><span class="lineno"> 6366</span> </div>
<div class="line"><a id="l06367" name="l06367"></a><span class="lineno"> 6367</span><span class="preprocessor">#define      _TX_TRY                { goto __tx_try; } __tx_try: { int __tx_error = S_OK; (void)__tx_error;</span></div>
<div class="line"><a id="l06368" name="l06368"></a><span class="lineno"> 6368</span><span class="preprocessor">#define      _TX_CHECKED( cmd )     { if (FAILED (__tx_error = (cmd))) goto __tx_catch; }</span></div>
<div class="line"><a id="l06369" name="l06369"></a><span class="lineno"> 6369</span><span class="preprocessor">#define      _TX_FAIL               { __tx_error = E_FAIL; goto __tx_catch; }</span></div>
<div class="line"><a id="l06370" name="l06370"></a><span class="lineno"> 6370</span><span class="preprocessor">#define      _TX_RETRY              { __tx_error = S_OK;   goto __tx_try;   }</span></div>
<div class="line"><a id="l06371" name="l06371"></a><span class="lineno"> 6371</span><span class="preprocessor">#define      _TX_OK                 ( SUCCEEDED (__tx_error) )</span></div>
<div class="line"><a id="l06372" name="l06372"></a><span class="lineno"> 6372</span><span class="preprocessor">#define      _TX_CATCH              goto __tx_finally; __tx_catch:</span></div>
<div class="line"><a id="l06373" name="l06373"></a><span class="lineno"> 6373</span><span class="preprocessor">#define      _TX_RETURN             goto __tx_finally;</span></div>
<div class="line"><a id="l06374" name="l06374"></a><span class="lineno"> 6374</span><span class="preprocessor">#define      _TX_FINALLY            __tx_finally:</span></div>
<div class="line"><a id="l06375" name="l06375"></a><span class="lineno"> 6375</span><span class="preprocessor">#define      _TX_ENDTRY             }</span></div>
<div class="line"><a id="l06376" name="l06376"></a><span class="lineno"> 6376</span> </div>
<div class="line"><a id="l06377" name="l06377"></a><span class="lineno"> 6377</span><span class="comment">//}</span></div>
<div class="line"><a id="l06378" name="l06378"></a><span class="lineno"> 6378</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06379" name="l06379"></a><span class="lineno"> 6379</span> </div>
<div class="line"><a id="l06380" name="l06380"></a><span class="lineno"> 6380</span><span class="comment">//   </span></div>
<div class="line"><a id="l06381" name="l06381"></a><span class="lineno"> 6381</span> </div>
<div class="line"><a id="l06382" name="l06382"></a><span class="lineno"> 6382</span><span class="keywordtype">bool</span> _txCreateShortcut (<span class="keyword">const</span> <span class="keywordtype">char</span> shortcutName[],</div>
<div class="line"><a id="l06383" name="l06383"></a><span class="lineno"> 6383</span>                        <span class="keyword">const</span> <span class="keywordtype">char</span> fileToLink[], <span class="keyword">const</span> <span class="keywordtype">char</span> args[] <span class="comment">/*= NULL*/</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> workDir[] <span class="comment">/*= NULL*/</span>,</div>
<div class="line"><a id="l06384" name="l06384"></a><span class="lineno"> 6384</span>                        <span class="keyword">const</span> <span class="keywordtype">char</span> description[] <span class="comment">/*= NULL*/</span>, <span class="keywordtype">int</span> cmdShow <span class="comment">/*= SW_SHOWNORMAL*/</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> iconFile[] <span class="comment">/*= NULL*/</span>, <span class="keywordtype">int</span> iconIndex <span class="comment">/*= 0*/</span>,</div>
<div class="line"><a id="l06385" name="l06385"></a><span class="lineno"> 6385</span>                        <span class="keywordtype">int</span> fontSize <span class="comment">/*= 0*/</span>, COORD bufSize <span class="comment">/*= ZERO (COORD)*/</span>, COORD wndSize <span class="comment">/*= ZERO (COORD)*/</span>, COORD wndOrg <span class="comment">/*=ZERO (COORD)*/</span>)</div>
<div class="line"><a id="l06386" name="l06386"></a><span class="lineno"> 6386</span>    {</div>
<div class="line"><a id="l06387" name="l06387"></a><span class="lineno"> 6387</span>$1  _TX_IF_ARGUMENT_FAILED (shortcutName &amp;&amp; *shortcutName) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06388" name="l06388"></a><span class="lineno"> 6388</span>$   _TX_IF_ARGUMENT_FAILED (fileToLink   &amp;&amp; *fileToLink)   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06389" name="l06389"></a><span class="lineno"> 6389</span> </div>
<div class="line"><a id="l06390" name="l06390"></a><span class="lineno"> 6390</span>$   IShellLink* shellLink = NULL;</div>
<div class="line"><a id="l06391" name="l06391"></a><span class="lineno"> 6391</span>$   Win32::IShellLinkDataList* dataList = NULL;</div>
<div class="line"><a id="l06392" name="l06392"></a><span class="lineno"> 6392</span>$   IPersistFile* file = NULL;</div>
<div class="line"><a id="l06393" name="l06393"></a><span class="lineno"> 6393</span> </div>
<div class="line"><a id="l06394" name="l06394"></a><span class="lineno"> 6394</span>$   HRESULT init = Win32::CoInitialize (NULL);</div>
<div class="line"><a id="l06395" name="l06395"></a><span class="lineno"> 6395</span> </div>
<div class="line"><a id="l06396" name="l06396"></a><span class="lineno"> 6396</span>    _TX_TRY</div>
<div class="line"><a id="l06397" name="l06397"></a><span class="lineno"> 6397</span>        {</div>
<div class="line"><a id="l06398" name="l06398"></a><span class="lineno"> 6398</span>$       _TX_CHECKED (Win32::CoCreateInstance (CLSID_ShellLink, NULL, CLSCTX_INPROC_SERVER, Win32::IID_IShellLink, (<span class="keywordtype">void</span>**) &amp;shellLink));</div>
<div class="line"><a id="l06399" name="l06399"></a><span class="lineno"> 6399</span>$       <span class="keywordflow">if</span> (!shellLink) _TX_FAIL;</div>
<div class="line"><a id="l06400" name="l06400"></a><span class="lineno"> 6400</span> </div>
<div class="line"><a id="l06401" name="l06401"></a><span class="lineno"> 6401</span>$       shellLink-&gt;SetPath (fileToLink);</div>
<div class="line"><a id="l06402" name="l06402"></a><span class="lineno"> 6402</span>$       shellLink-&gt;SetArguments (args);</div>
<div class="line"><a id="l06403" name="l06403"></a><span class="lineno"> 6403</span>$       shellLink-&gt;SetWorkingDirectory (workDir);</div>
<div class="line"><a id="l06404" name="l06404"></a><span class="lineno"> 6404</span>$       shellLink-&gt;SetDescription (description);</div>
<div class="line"><a id="l06405" name="l06405"></a><span class="lineno"> 6405</span>$       shellLink-&gt;SetShowCmd (cmdShow);</div>
<div class="line"><a id="l06406" name="l06406"></a><span class="lineno"> 6406</span>$       shellLink-&gt;SetIconLocation (iconFile, iconIndex);</div>
<div class="line"><a id="l06407" name="l06407"></a><span class="lineno"> 6407</span> </div>
<div class="line"><a id="l06408" name="l06408"></a><span class="lineno"> 6408</span>$       _TX_CHECKED (shellLink-&gt;QueryInterface (Win32::IID_IShellLinkDataList, (<span class="keywordtype">void</span>**) &amp;dataList));</div>
<div class="line"><a id="l06409" name="l06409"></a><span class="lineno"> 6409</span>$       <span class="keywordflow">if</span> (!dataList) _TX_FAIL;</div>
<div class="line"><a id="l06410" name="l06410"></a><span class="lineno"> 6410</span> </div>
<div class="line"><a id="l06411" name="l06411"></a><span class="lineno"> 6411</span>$       Win32::NT_CONSOLE_PROPS props =</div>
<div class="line"><a id="l06412" name="l06412"></a><span class="lineno"> 6412</span>          {{<span class="keyword">sizeof</span> (props), NT_CONSOLE_PROPS_SIG},</div>
<div class="line"><a id="l06413" name="l06413"></a><span class="lineno"> 6413</span> </div>
<div class="line"><a id="l06414" name="l06414"></a><span class="lineno"> 6414</span>            0x07, 0xF5,                                 <span class="comment">// wFillAttribute, wPopupFillAttribute</span></div>
<div class="line"><a id="l06415" name="l06415"></a><span class="lineno"> 6415</span>           {bufSize.X, bufSize.Y},                      <span class="comment">// dwScreenBufferSize</span></div>
<div class="line"><a id="l06416" name="l06416"></a><span class="lineno"> 6416</span>           {wndSize.X, wndSize.Y},                      <span class="comment">// dwWindowSize</span></div>
<div class="line"><a id="l06417" name="l06417"></a><span class="lineno"> 6417</span>           {wndOrg.X,  wndOrg.Y},                       <span class="comment">// dwWindowOrigin</span></div>
<div class="line"><a id="l06418" name="l06418"></a><span class="lineno"> 6418</span>            0,                                          <span class="comment">// nFont</span></div>
<div class="line"><a id="l06419" name="l06419"></a><span class="lineno"> 6419</span>            0,                                          <span class="comment">// nInputBufferSize</span></div>
<div class="line"><a id="l06420" name="l06420"></a><span class="lineno"> 6420</span>           {0, (short) fontSize},                       <span class="comment">// dwFontSize</span></div>
<div class="line"><a id="l06421" name="l06421"></a><span class="lineno"> 6421</span>            0x36, 400, L<span class="stringliteral">&quot;Lucida Console&quot;</span>,               <span class="comment">// uFontFamily, uFontWeight, FaceName. We&#39;re dancing for this!</span></div>
<div class="line"><a id="l06422" name="l06422"></a><span class="lineno"> 6422</span>            15,                                         <span class="comment">// uCursorSize</span></div>
<div class="line"><a id="l06423" name="l06423"></a><span class="lineno"> 6423</span>            0,  1, 1, 0,                                <span class="comment">// bFullScreen, bQuickEdit, bInsertMode, bAutoPosition</span></div>
<div class="line"><a id="l06424" name="l06424"></a><span class="lineno"> 6424</span>            50, 4, 0,                                   <span class="comment">// uHistoryBufferSize, uNumberOfHistoryBuffers, bHistoryNoDup</span></div>
<div class="line"><a id="l06425" name="l06425"></a><span class="lineno"> 6425</span> </div>
<div class="line"><a id="l06426" name="l06426"></a><span class="lineno"> 6426</span>           {0x000000, 0x800000, 0x008000, 0x808000, 0x000080, 0x800080, 0x008080, 0xC0C0C0,</div>
<div class="line"><a id="l06427" name="l06427"></a><span class="lineno"> 6427</span>            0x808080, 0xFF0000, 0x00FF00, 0xFFFF00, 0x0000FF, 0xFF00FF, 0x00FFFF, 0xFFFFFF}</div>
<div class="line"><a id="l06428" name="l06428"></a><span class="lineno"> 6428</span>            };</div>
<div class="line"><a id="l06429" name="l06429"></a><span class="lineno"> 6429</span> </div>
<div class="line"><a id="l06430" name="l06430"></a><span class="lineno"> 6430</span>$       _TX_CHECKED (dataList-&gt;AddDataBlock (&amp;props));</div>
<div class="line"><a id="l06431" name="l06431"></a><span class="lineno"> 6431</span> </div>
<div class="line"><a id="l06432" name="l06432"></a><span class="lineno"> 6432</span>$       _TX_CHECKED (shellLink-&gt;QueryInterface (Win32::IID_IPersistFile, (<span class="keywordtype">void</span>**) &amp;file));</div>
<div class="line"><a id="l06433" name="l06433"></a><span class="lineno"> 6433</span>$       <span class="keywordflow">if</span> (!file) _TX_FAIL;</div>
<div class="line"><a id="l06434" name="l06434"></a><span class="lineno"> 6434</span> </div>
<div class="line"><a id="l06435" name="l06435"></a><span class="lineno"> 6435</span>$       <span class="keywordtype">wchar_t</span> wName[MAX_PATH] = L<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06436" name="l06436"></a><span class="lineno"> 6436</span>$       MultiByteToWideChar (_TX_CP, 0, shortcutName, -1, wName, MAX_PATH) || ZeroMemory (wName, <span class="keyword">sizeof</span> (wName));</div>
<div class="line"><a id="l06437" name="l06437"></a><span class="lineno"> 6437</span> </div>
<div class="line"><a id="l06438" name="l06438"></a><span class="lineno"> 6438</span>$       _TX_CHECKED (file-&gt;Save (wName, <span class="keyword">true</span>));</div>
<div class="line"><a id="l06439" name="l06439"></a><span class="lineno"> 6439</span>        }</div>
<div class="line"><a id="l06440" name="l06440"></a><span class="lineno"> 6440</span> </div>
<div class="line"><a id="l06441" name="l06441"></a><span class="lineno"> 6441</span>$   _TX_CATCH</div>
<div class="line"><a id="l06442" name="l06442"></a><span class="lineno"> 6442</span>$   _TX_FINALLY</div>
<div class="line"><a id="l06443" name="l06443"></a><span class="lineno"> 6443</span> </div>
<div class="line"><a id="l06444" name="l06444"></a><span class="lineno"> 6444</span>$   <span class="keywordflow">if</span> (file)      file     -&gt;Release();</div>
<div class="line"><a id="l06445" name="l06445"></a><span class="lineno"> 6445</span>$   <span class="keywordflow">if</span> (dataList)  dataList -&gt;Release();</div>
<div class="line"><a id="l06446" name="l06446"></a><span class="lineno"> 6446</span>$   <span class="keywordflow">if</span> (shellLink) shellLink-&gt;Release();</div>
<div class="line"><a id="l06447" name="l06447"></a><span class="lineno"> 6447</span> </div>
<div class="line"><a id="l06448" name="l06448"></a><span class="lineno"> 6448</span>$   <span class="keywordflow">if</span> (init == S_OK) Win32::CoUninitialize();</div>
<div class="line"><a id="l06449" name="l06449"></a><span class="lineno"> 6449</span> </div>
<div class="line"><a id="l06450" name="l06450"></a><span class="lineno"> 6450</span>$   <span class="keywordflow">return</span> _TX_OK;</div>
<div class="line"><a id="l06451" name="l06451"></a><span class="lineno"> 6451</span>    _TX_ENDTRY</div>
<div class="line"><a id="l06452" name="l06452"></a><span class="lineno"> 6452</span>    }</div>
<div class="line"><a id="l06453" name="l06453"></a><span class="lineno"> 6453</span> </div>
<div class="line"><a id="l06454" name="l06454"></a><span class="lineno"> 6454</span><span class="comment">//}</span></div>
<div class="line"><a id="l06455" name="l06455"></a><span class="lineno"> 6455</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06456" name="l06456"></a><span class="lineno"> 6456</span> </div>
<div class="line"><a id="l06458" name="l06458"></a><span class="lineno"> 6458</span><span class="comment">//}</span></div>
<div class="line"><a id="l06459" name="l06459"></a><span class="lineno"> 6459</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06460" name="l06460"></a><span class="lineno"> 6460</span> </div>
<div class="line"><a id="l06461" name="l06461"></a><span class="lineno"> 6461</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06462" name="l06462"></a><span class="lineno"> 6462</span><span class="comment">//{          [Internal] Memory DC functions        (_txBuffer...)</span></div>
<div class="line"><a id="l06464" name="l06464"></a><span class="lineno"> 6464</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06466" name="l06466"></a><span class="lineno"> 6466</span><span class="comment"></span> </div>
<div class="line"><a id="l06467" name="l06467"></a><span class="lineno"> 6467</span>HDC _txBuffer_Create (HWND wnd, <span class="keyword">const</span> POINT* size, HBITMAP bitmap)</div>
<div class="line"><a id="l06468" name="l06468"></a><span class="lineno"> 6468</span>    {</div>
<div class="line"><a id="l06469" name="l06469"></a><span class="lineno"> 6469</span>$1  <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a> _lock;</div>
<div class="line"><a id="l06470" name="l06470"></a><span class="lineno"> 6470</span> </div>
<div class="line"><a id="l06471" name="l06471"></a><span class="lineno"> 6471</span>$   HDC wndDC = GetDC (wnd);</div>
<div class="line"><a id="l06472" name="l06472"></a><span class="lineno"> 6472</span>$   <span class="keywordflow">if</span> (!wndDC) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l06473" name="l06473"></a><span class="lineno"> 6473</span> </div>
<div class="line"><a id="l06474" name="l06474"></a><span class="lineno"> 6474</span>$   RECT r = {0};</div>
<div class="line"><a id="l06475" name="l06475"></a><span class="lineno"> 6475</span>$   <span class="keywordflow">if</span> (wnd) GetClientRect (wnd, &amp;r) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06476" name="l06476"></a><span class="lineno"> 6476</span>$   POINT sz = { r.right - r.left, r.bottom - r.top };</div>
<div class="line"><a id="l06477" name="l06477"></a><span class="lineno"> 6477</span>$   <span class="keywordflow">if</span> (!size) size = &amp;sz;</div>
<div class="line"><a id="l06478" name="l06478"></a><span class="lineno"> 6478</span> </div>
<div class="line"><a id="l06479" name="l06479"></a><span class="lineno"> 6479</span>$   HDC dc = Win32::CreateCompatibleDC (wndDC);</div>
<div class="line"><a id="l06480" name="l06480"></a><span class="lineno"> 6480</span>$   <span class="keywordflow">if</span> (!dc) <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;Cannot create buffer: CreateCompatibleDC() failed&quot;</span>);</div>
<div class="line"><a id="l06481" name="l06481"></a><span class="lineno"> 6481</span> </div>
<div class="line"><a id="l06482" name="l06482"></a><span class="lineno"> 6482</span>$   HBITMAP bmap = bitmap? bitmap : Win32::CreateCompatibleBitmap (wndDC, size-&gt;x, size-&gt;y);</div>
<div class="line"><a id="l06483" name="l06483"></a><span class="lineno"> 6483</span>$   <span class="keywordflow">if</span> (!bmap) <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;Cannot create buffer: CreateCompatibleBitmap() failed&quot;</span>);</div>
<div class="line"><a id="l06484" name="l06484"></a><span class="lineno"> 6484</span> </div>
<div class="line"><a id="l06485" name="l06485"></a><span class="lineno"> 6485</span>$   Win32::SelectObject (dc, bmap) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06486" name="l06486"></a><span class="lineno"> 6486</span> </div>
<div class="line"><a id="l06487" name="l06487"></a><span class="lineno"> 6487</span>$   <span class="keywordflow">if</span> (!bitmap) Win32::PatBlt (dc, 0, 0, size-&gt;x, size-&gt;y, BLACKNESS) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06488" name="l06488"></a><span class="lineno"> 6488</span> </div>
<div class="line"><a id="l06489" name="l06489"></a><span class="lineno"> 6489</span>$   ReleaseDC (wnd, wndDC) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06490" name="l06490"></a><span class="lineno"> 6490</span> </div>
<div class="line"><a id="l06491" name="l06491"></a><span class="lineno"> 6491</span>$   <span class="keywordflow">return</span> dc;</div>
<div class="line"><a id="l06492" name="l06492"></a><span class="lineno"> 6492</span>    }</div>
<div class="line"><a id="l06493" name="l06493"></a><span class="lineno"> 6493</span> </div>
<div class="line"><a id="l06494" name="l06494"></a><span class="lineno"> 6494</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06495" name="l06495"></a><span class="lineno"> 6495</span> </div>
<div class="line"><a id="l06496" name="l06496"></a><span class="lineno"> 6496</span><span class="keywordtype">bool</span> _txBuffer_Delete (HDC* dc)</div>
<div class="line"><a id="l06497" name="l06497"></a><span class="lineno"> 6497</span>    {</div>
<div class="line"><a id="l06498" name="l06498"></a><span class="lineno"> 6498</span>$1  _TX_IF_ARGUMENT_FAILED (dc) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06499" name="l06499"></a><span class="lineno"> 6499</span>$   <span class="keywordflow">if</span> (!*dc) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06500" name="l06500"></a><span class="lineno"> 6500</span> </div>
<div class="line"><a id="l06501" name="l06501"></a><span class="lineno"> 6501</span>$   <span class="keywordflow">if</span> (!Win32::GetObjectType (Win32::GetCurrentObject (*dc, OBJ_BITMAP))) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06502" name="l06502"></a><span class="lineno"> 6502</span> </div>
<div class="line"><a id="l06503" name="l06503"></a><span class="lineno"> 6503</span>$   <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a> _lock;</div>
<div class="line"><a id="l06504" name="l06504"></a><span class="lineno"> 6504</span> </div>
<div class="line"><a id="l06505" name="l06505"></a><span class="lineno"> 6505</span>$   _txBuffer_Select (Win32::GetStockObject         (NULL_PEN),    *dc) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06506" name="l06506"></a><span class="lineno"> 6506</span>$   _txBuffer_Select (Win32::GetStockObject         (NULL_BRUSH),  *dc) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06507" name="l06507"></a><span class="lineno"> 6507</span>$   _txBuffer_Select (Win32::GetStockObject         (SYSTEM_FONT), *dc) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06508" name="l06508"></a><span class="lineno"> 6508</span>$   _txBuffer_Select (Win32::CreateCompatibleBitmap (*dc, 0, 0),   *dc) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06509" name="l06509"></a><span class="lineno"> 6509</span> </div>
<div class="line"><a id="l06510" name="l06510"></a><span class="lineno"> 6510</span>$   Win32::DeleteObject (Win32::GetCurrentObject (*dc, OBJ_BITMAP)) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06511" name="l06511"></a><span class="lineno"> 6511</span> </div>
<div class="line"><a id="l06512" name="l06512"></a><span class="lineno"> 6512</span>$   Win32::DeleteDC (*dc) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06513" name="l06513"></a><span class="lineno"> 6513</span> </div>
<div class="line"><a id="l06514" name="l06514"></a><span class="lineno"> 6514</span>$   *dc = NULL;</div>
<div class="line"><a id="l06515" name="l06515"></a><span class="lineno"> 6515</span> </div>
<div class="line"><a id="l06516" name="l06516"></a><span class="lineno"> 6516</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l06517" name="l06517"></a><span class="lineno"> 6517</span>    }</div>
<div class="line"><a id="l06518" name="l06518"></a><span class="lineno"> 6518</span> </div>
<div class="line"><a id="l06519" name="l06519"></a><span class="lineno"> 6519</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06520" name="l06520"></a><span class="lineno"> 6520</span> </div>
<div class="line"><a id="l06521" name="l06521"></a><span class="lineno"> 6521</span><span class="keywordtype">bool</span> _txBuffer_Select (HGDIOBJ obj, HDC dc <span class="comment">/*= txDC()*/</span>)</div>
<div class="line"><a id="l06522" name="l06522"></a><span class="lineno"> 6522</span>    {</div>
<div class="line"><a id="l06523" name="l06523"></a><span class="lineno"> 6523</span>$1  _TX_IF_ARGUMENT_FAILED (obj) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06524" name="l06524"></a><span class="lineno"> 6524</span>$   _TX_IF_ARGUMENT_FAILED (dc)  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06525" name="l06525"></a><span class="lineno"> 6525</span> </div>
<div class="line"><a id="l06526" name="l06526"></a><span class="lineno"> 6526</span>$   <span class="keywordflow">if</span> (!Win32::GetObjectType (obj)) <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;Invalid GDI object type&quot;</span>);</div>
<div class="line"><a id="l06527" name="l06527"></a><span class="lineno"> 6527</span> </div>
<div class="line"><a id="l06528" name="l06528"></a><span class="lineno"> 6528</span>$   <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a> _lock;</div>
<div class="line"><a id="l06529" name="l06529"></a><span class="lineno"> 6529</span> </div>
<div class="line"><a id="l06530" name="l06530"></a><span class="lineno"> 6530</span>$   obj = Win32::SelectObject (dc, obj);</div>
<div class="line"><a id="l06531" name="l06531"></a><span class="lineno"> 6531</span>$   <span class="keywordflow">if</span> (obj) Win32::DeleteObject (obj) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06532" name="l06532"></a><span class="lineno"> 6532</span> </div>
<div class="line"><a id="l06533" name="l06533"></a><span class="lineno"> 6533</span>$   <span class="keywordflow">return</span> obj != NULL;</div>
<div class="line"><a id="l06534" name="l06534"></a><span class="lineno"> 6534</span>    }</div>
<div class="line"><a id="l06535" name="l06535"></a><span class="lineno"> 6535</span> </div>
<div class="line"><a id="l06537" name="l06537"></a><span class="lineno"> 6537</span><span class="comment">//}</span></div>
<div class="line"><a id="l06538" name="l06538"></a><span class="lineno"> 6538</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06539" name="l06539"></a><span class="lineno"> 6539</span> </div>
<div class="line"><a id="l06540" name="l06540"></a><span class="lineno"> 6540</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06541" name="l06541"></a><span class="lineno"> 6541</span><span class="comment">//{          Diagnostics</span></div>
<div class="line"><a id="l06543" name="l06543"></a><span class="lineno"> 6543</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06545" name="l06545"></a><span class="lineno"> 6545</span><span class="comment"></span> </div>
<div class="line"><a id="l06546" name="l06546"></a><span class="lineno"> 6546</span><span class="keywordtype">void</span> _txOnSignal (<span class="keywordtype">int</span> sig<span class="comment">/* = 0*/</span>, <span class="keywordtype">int</span> fpe<span class="comment">/* = 0*/</span>)</div>
<div class="line"><a id="l06547" name="l06547"></a><span class="lineno"> 6547</span>    {</div>
<div class="line"><a id="l06548" name="l06548"></a><span class="lineno"> 6548</span>    <span class="keywordflow">if</span> (!sig &amp;&amp; !fpe)</div>
<div class="line"><a id="l06549" name="l06549"></a><span class="lineno"> 6549</span>        {</div>
<div class="line"><a id="l06550" name="l06550"></a><span class="lineno"> 6550</span>$1      signal (SIGSEGV, (<span class="keywordtype">void</span>(*)(<span class="keywordtype">int</span>))_txOnSignal) != SIG_ERR <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06551" name="l06551"></a><span class="lineno"> 6551</span>$       signal (SIGFPE,  (<span class="keywordtype">void</span>(*)(<span class="keywordtype">int</span>))_txOnSignal) != SIG_ERR <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06552" name="l06552"></a><span class="lineno"> 6552</span>$       signal (SIGABRT, (<span class="keywordtype">void</span>(*)(<span class="keywordtype">int</span>))_txOnSignal) != SIG_ERR <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06553" name="l06553"></a><span class="lineno"> 6553</span>$       signal (SIGILL,  (<span class="keywordtype">void</span>(*)(<span class="keywordtype">int</span>))_txOnSignal) != SIG_ERR <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06554" name="l06554"></a><span class="lineno"> 6554</span>$       signal (SIGTERM, (<span class="keywordtype">void</span>(*)(<span class="keywordtype">int</span>))_txOnSignal) != SIG_ERR <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06555" name="l06555"></a><span class="lineno"> 6555</span>$       <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l06556" name="l06556"></a><span class="lineno"> 6556</span>        }</div>
<div class="line"><a id="l06557" name="l06557"></a><span class="lineno"> 6557</span> </div>
<div class="line"><a id="l06558" name="l06558"></a><span class="lineno"> 6558</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* sSig = <span class="stringliteral">&quot;:   &quot;</span>;</div>
<div class="line"><a id="l06559" name="l06559"></a><span class="lineno"> 6559</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* sFPE = <span class="stringliteral">&quot;:   &quot;</span>;</div>
<div class="line"><a id="l06560" name="l06560"></a><span class="lineno"> 6560</span> </div>
<div class="line"><a id="l06561" name="l06561"></a><span class="lineno"> 6561</span><span class="preprocessor">    #define GET_DESCR_( str, code, descr )  case (code): { (str) = #code &quot;: &quot;</span> descr; break; }</div>
<div class="line"><a id="l06562" name="l06562"></a><span class="lineno"> 6562</span> </div>
<div class="line"><a id="l06563" name="l06563"></a><span class="lineno"> 6563</span>    <span class="keywordflow">switch</span> (sig)</div>
<div class="line"><a id="l06564" name="l06564"></a><span class="lineno"> 6564</span>        {</div>
<div class="line"><a id="l06565" name="l06565"></a><span class="lineno"> 6565</span>        GET_DESCR_ (sSig, SIGSEGV, <span class="stringliteral">&quot;   .  !&quot;</span>)</div>
<div class="line"><a id="l06566" name="l06566"></a><span class="lineno"> 6566</span>        GET_DESCR_ (sSig, SIGILL,  &quot;   .    .&quot;)</div>
<div class="line"><a id="l06567" name="l06567"></a><span class="lineno"> 6567</span>        GET_DESCR_ (sSig, SIGABRT, &quot;  ,   abort().&quot;)</div>
<div class="line"><a id="l06568" name="l06568"></a><span class="lineno"> 6568</span>        GET_DESCR_ (sSig, SIGTERM, &quot;    .&quot;)</div>
<div class="line"><a id="l06569" name="l06569"></a><span class="lineno"> 6569</span>        GET_DESCR_ (sSig, SIGFPE,  &quot;   ,   0  - &quot;)</div>
<div class="line"><a id="l06570" name="l06570"></a><span class="lineno"> 6570</span>        default:   break;</div>
<div class="line"><a id="l06571" name="l06571"></a><span class="lineno"> 6571</span>        }</div>
<div class="line"><a id="l06572" name="l06572"></a><span class="lineno"> 6572</span> </div>
<div class="line"><a id="l06573" name="l06573"></a><span class="lineno"> 6573</span>    if (sig == SIGFPE) switch (fpe)</div>
<div class="line"><a id="l06574" name="l06574"></a><span class="lineno"> 6574</span>        {</div>
<div class="line"><a id="l06575" name="l06575"></a><span class="lineno"> 6575</span>        GET_DESCR_ (sFPE, 0x81 <span class="comment">/* _FPE_INVALID        */</span>, <span class="stringliteral">&quot; &quot;</span>)</div>
<div class="line"><a id="l06576" name="l06576"></a><span class="lineno"> 6576</span>        GET_DESCR_ (sFPE, 0x82 <span class="comment">/* _FPE_DENORMAL       */</span>, &quot;&quot;)</div>
<div class="line"><a id="l06577" name="l06577"></a><span class="lineno"> 6577</span>        GET_DESCR_ (sFPE, 0x83 <span class="comment">/* _FPE_ZERODIVIDE     */</span>, &quot;  &quot;)</div>
<div class="line"><a id="l06578" name="l06578"></a><span class="lineno"> 6578</span>        GET_DESCR_ (sFPE, 0x84 <span class="comment">/* _FPE_OVERFLOW       */</span>, &quot;  &quot;)</div>
<div class="line"><a id="l06579" name="l06579"></a><span class="lineno"> 6579</span>        GET_DESCR_ (sFPE, 0x85 <span class="comment">/* _FPE_UNDERFLOW      */</span>, &quot;  &quot;)</div>
<div class="line"><a id="l06580" name="l06580"></a><span class="lineno"> 6580</span>        GET_DESCR_ (sFPE, 0x86 <span class="comment">/* _FPE_INEXACT        */</span>, &quot; &quot;)</div>
<div class="line"><a id="l06581" name="l06581"></a><span class="lineno"> 6581</span>        GET_DESCR_ (sFPE, 0x87 <span class="comment">/* _FPE_UNEMULATED     */</span>, &quot;  &quot;)</div>
<div class="line"><a id="l06582" name="l06582"></a><span class="lineno"> 6582</span>        GET_DESCR_ (sFPE, 0x88 <span class="comment">/* _FPE_SQRTNEG        */</span>, &quot;    &quot;)</div>
<div class="line"><a id="l06583" name="l06583"></a><span class="lineno"> 6583</span>        GET_DESCR_ (sFPE, 0x8A <span class="comment">/* _FPE_STACKOVERFLOW  */</span>, &quot;  &quot;)</div>
<div class="line"><a id="l06584" name="l06584"></a><span class="lineno"> 6584</span>        GET_DESCR_ (sFPE, 0x8B <span class="comment">/* _FPE_STACKUNDERFLOW */</span>, &quot;     &quot;)</div>
<div class="line"><a id="l06585" name="l06585"></a><span class="lineno"> 6585</span>        GET_DESCR_ (sFPE, 0x8C <span class="comment">/* _FPE_EXPLICITGEN    */</span>, &quot;  &quot;)</div>
<div class="line"><a id="l06586" name="l06586"></a><span class="lineno"> 6586</span>        default:   break;</div>
<div class="line"><a id="l06587" name="l06587"></a><span class="lineno"> 6587</span>        }</div>
<div class="line"><a id="l06588" name="l06588"></a><span class="lineno"> 6588</span> </div>
<div class="line"><a id="l06589" name="l06589"></a><span class="lineno"> 6589</span>    <span class="preprocessor">#undef GET_DESCR_</span></div>
<div class="line"><a id="l06590" name="l06590"></a><span class="lineno"> 6590</span> </div>
<div class="line"><a id="l06591" name="l06591"></a><span class="lineno"> 6591</span>    _fpreset();</div>
<div class="line"><a id="l06592" name="l06592"></a><span class="lineno"> 6592</span> </div>
<div class="line"><a id="l06593" name="l06593"></a><span class="lineno"> 6593</span>    <span class="keywordflow">if</span> (sig == SIGFPE &amp;&amp; fpe)</div>
<div class="line"><a id="l06594" name="l06594"></a><span class="lineno"> 6594</span>        _txError (NULL, 0, NULL, <span class="stringliteral">&quot;signal (%d, 0x%02X): %s, %s.&quot;</span> <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> sig <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> fpe <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> sSig <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> sFPE);</div>
<div class="line"><a id="l06595" name="l06595"></a><span class="lineno"> 6595</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l06596" name="l06596"></a><span class="lineno"> 6596</span>        _txError (NULL, 0, NULL, <span class="stringliteral">&quot;signal (%d): %s&quot;</span>              <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> sig       <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> sSig);</div>
<div class="line"><a id="l06597" name="l06597"></a><span class="lineno"> 6597</span> </div>
<div class="line"><a id="l06598" name="l06598"></a><span class="lineno"> 6598</span>    _txExit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06599" name="l06599"></a><span class="lineno"> 6599</span> </div>
<div class="line"><a id="l06600" name="l06600"></a><span class="lineno"> 6600</span>    _txCleanup();</div>
<div class="line"><a id="l06601" name="l06601"></a><span class="lineno"> 6601</span>    }</div>
<div class="line"><a id="l06602" name="l06602"></a><span class="lineno"> 6602</span> </div>
<div class="line"><a id="l06603" name="l06603"></a><span class="lineno"> 6603</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06604" name="l06604"></a><span class="lineno"> 6604</span> </div>
<div class="line"><a id="l06605" name="l06605"></a><span class="lineno"> 6605</span><span class="keywordtype">void</span> _txOnUnexpected()</div>
<div class="line"><a id="l06606" name="l06606"></a><span class="lineno"> 6606</span>    {</div>
<div class="line"><a id="l06607" name="l06607"></a><span class="lineno"> 6607</span>    _txError (NULL, 0, NULL,</div>
<div class="line"><a id="l06608" name="l06608"></a><span class="lineno"> 6608</span>              <span class="stringliteral">&quot;std::unexpected():  .   catch-.  catch (...).    \n\n&quot;</span></div>
<div class="line"><a id="l06609" name="l06609"></a><span class="lineno"> 6609</span>              <span class="stringliteral">&quot;  ()     , ,    .&quot;</span>);</div>
<div class="line"><a id="l06610" name="l06610"></a><span class="lineno"> 6610</span>    }</div>
<div class="line"><a id="l06611" name="l06611"></a><span class="lineno"> 6611</span> </div>
<div class="line"><a id="l06612" name="l06612"></a><span class="lineno"> 6612</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06613" name="l06613"></a><span class="lineno"> 6613</span> </div>
<div class="line"><a id="l06614" name="l06614"></a><span class="lineno"> 6614</span><span class="keywordtype">void</span> _txOnTerminate()</div>
<div class="line"><a id="l06615" name="l06615"></a><span class="lineno"> 6615</span>    {</div>
<div class="line"><a id="l06616" name="l06616"></a><span class="lineno"> 6616</span>    _txError (NULL, 0, NULL,</div>
<div class="line"><a id="l06617" name="l06617"></a><span class="lineno"> 6617</span>              <span class="stringliteral">&quot;std::terminate():    -     main()   .    \n\n&quot;</span></div>
<div class="line"><a id="l06618" name="l06618"></a><span class="lineno"> 6618</span>              <span class="stringliteral">&quot; try/catch ,  catch (...), ,   .&quot;</span>);</div>
<div class="line"><a id="l06619" name="l06619"></a><span class="lineno"> 6619</span>    }</div>
<div class="line"><a id="l06620" name="l06620"></a><span class="lineno"> 6620</span> </div>
<div class="line"><a id="l06621" name="l06621"></a><span class="lineno"> 6621</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06622" name="l06622"></a><span class="lineno"> 6622</span> </div>
<div class="line"><a id="l06623" name="l06623"></a><span class="lineno"> 6623</span><span class="keyword">const</span> <span class="keywordtype">char</span>* _txError (<span class="keyword">const</span> <span class="keywordtype">char</span> file[] <span class="comment">/*= NULL*/</span>, <span class="keywordtype">int</span> line <span class="comment">/*= 0*/</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> func[] <span class="comment">/*= NULL*/</span>,</div>
<div class="line"><a id="l06624" name="l06624"></a><span class="lineno"> 6624</span>                      <span class="keyword">const</span> <span class="keywordtype">char</span> msg [] <span class="comment">/*= NULL*/</span>, ...)</div>
<div class="line"><a id="l06625" name="l06625"></a><span class="lineno"> 6625</span>    {</div>
<div class="line"><a id="l06626" name="l06626"></a><span class="lineno"> 6626</span>    va_list arg; va_start (arg, msg);</div>
<div class="line"><a id="l06627" name="l06627"></a><span class="lineno"> 6627</span> </div>
<div class="line"><a id="l06628" name="l06628"></a><span class="lineno"> 6628</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> nCalls = 0; nCalls++;</div>
<div class="line"><a id="l06629" name="l06629"></a><span class="lineno"> 6629</span> </div>
<div class="line"><a id="l06630" name="l06630"></a><span class="lineno"> 6630</span>    DWORD    winerr   = GetLastError();</div>
<div class="line"><a id="l06631" name="l06631"></a><span class="lineno"> 6631</span>    <span class="keywordtype">int</span>      crterr   = errno;</div>
<div class="line"><a id="l06632" name="l06632"></a><span class="lineno"> 6632</span>    <span class="keywordtype">int</span>      doserr   = _doserrno;</div>
<div class="line"><a id="l06633" name="l06633"></a><span class="lineno"> 6633</span>    <span class="keywordtype">unsigned</span> threadId = GetCurrentThreadId();</div>
<div class="line"><a id="l06634" name="l06634"></a><span class="lineno"> 6634</span> </div>
<div class="line"><a id="l06635" name="l06635"></a><span class="lineno"> 6635</span>    <span class="keywordtype">bool</span> isFatal = (msg &amp;&amp; *msg == <span class="charliteral">&#39;\a&#39;</span>)? (msg++, <span class="keyword">true</span>) : <span class="keyword">false</span>;</div>
<div class="line"><a id="l06636" name="l06636"></a><span class="lineno"> 6636</span>    <span class="keywordtype">bool</span> fmtOnly = (msg &amp;&amp; *msg == <span class="charliteral">&#39;\f&#39;</span>)? (msg++, <span class="keyword">true</span>) : <span class="keyword">false</span>;</div>
<div class="line"><a id="l06637" name="l06637"></a><span class="lineno"> 6637</span> </div>
<div class="line"><a id="l06638" name="l06638"></a><span class="lineno"> 6638</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> what[<a class="code hl_variable" href="group___technical.html#gaa7273b2f613970c283053c5d9136addd">_TX_BIGBUFSIZE</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06639" name="l06639"></a><span class="lineno"> 6639</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> str [<a class="code hl_variable" href="group___technical.html#gaa7273b2f613970c283053c5d9136addd">_TX_BIGBUFSIZE</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06640" name="l06640"></a><span class="lineno"> 6640</span>    <span class="keywordtype">char</span> *s = what;</div>
<div class="line"><a id="l06641" name="l06641"></a><span class="lineno"> 6641</span> </div>
<div class="line"><a id="l06642" name="l06642"></a><span class="lineno"> 6642</span><span class="preprocessor">    #define SZARG_(n)  sizeof (what) - 1 - (n) - (s-what) _TX_TRUNCATE</span></div>
<div class="line"><a id="l06643" name="l06643"></a><span class="lineno"> 6643</span> </div>
<div class="line"><a id="l06644" name="l06644"></a><span class="lineno"> 6644</span>                s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;TXLib :\n\n&quot;</span>);</div>
<div class="line"><a id="l06645" name="l06645"></a><span class="lineno"> 6645</span> </div>
<div class="line"><a id="l06646" name="l06646"></a><span class="lineno"> 6646</span>                s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;: %s, &quot;</span>, <a class="code hl_function" href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">txGetModuleFileName</a>());</div>
<div class="line"><a id="l06647" name="l06647"></a><span class="lineno"> 6647</span>    <span class="keywordflow">if</span> (file)   s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;: %s, &quot;</span>,      file);</div>
<div class="line"><a id="l06648" name="l06648"></a><span class="lineno"> 6648</span>    <span class="keywordflow">if</span> (line)   s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;: %d, &quot;</span>,    line);</div>
<div class="line"><a id="l06649" name="l06649"></a><span class="lineno"> 6649</span>    <span class="keywordflow">if</span> (func)   s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;: %s.&quot;</span>,    func);</div>
<div class="line"><a id="l06650" name="l06650"></a><span class="lineno"> 6650</span>                s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line"><a id="l06651" name="l06651"></a><span class="lineno"> 6651</span> </div>
<div class="line"><a id="l06652" name="l06652"></a><span class="lineno"> 6652</span>    <span class="keywordflow">if</span> (msg)    s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;%s: &quot;</span>, (file || line || func)? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a id="l06653" name="l06653"></a><span class="lineno"> 6653</span>                s += _vsnprintf_s  (s, SZARG_(1), msg, arg),</div>
<div class="line"><a id="l06654" name="l06654"></a><span class="lineno"> 6654</span>                s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line"><a id="l06655" name="l06655"></a><span class="lineno"> 6655</span> </div>
<div class="line"><a id="l06656" name="l06656"></a><span class="lineno"> 6656</span>                s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;#%d: %s, Instance: 0x%p, Flags: %c%c%c%c%c%c, Thread: 0x%08X%s&quot;</span>,</div>
<div class="line"><a id="l06657" name="l06657"></a><span class="lineno"> 6657</span>                                                  nCalls, <a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a>, (<span class="keywordtype">void</span>*) &amp;_txInitialized,</div>
<div class="line"><a id="l06658" name="l06658"></a><span class="lineno"> 6658</span>                                                  <span class="stringliteral">&quot;cC&quot;</span>[_txConsole], <span class="stringliteral">&quot;mM&quot;</span>[_txMain], <span class="stringliteral">&quot;dD&quot;</span>[_txIsDll], <span class="stringliteral">&quot;rR&quot;</span>[_txRunning], <span class="stringliteral">&quot;eE&quot;</span>[_txExit], <span class="stringliteral">&quot;tT&quot;</span>[_txAllowTrace],</div>
<div class="line"><a id="l06659" name="l06659"></a><span class="lineno"> 6659</span>                                                  threadId,</div>
<div class="line"><a id="l06660" name="l06660"></a><span class="lineno"> 6660</span>                                                  (threadId == _txMainThreadId)?    <span class="stringliteral">&quot; (Main)&quot;</span>   :</div>
<div class="line"><a id="l06661" name="l06661"></a><span class="lineno"> 6661</span>                                                  (threadId == _txCanvas_ThreadId)? <span class="stringliteral">&quot; (Canvas)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l06662" name="l06662"></a><span class="lineno"> 6662</span> </div>
<div class="line"><a id="l06663" name="l06663"></a><span class="lineno"> 6663</span>    <span class="keywordflow">if</span> (winerr) s +=  _snprintf_s  (s, SZARG_(0), <span class="stringliteral">&quot;, GetLastError(): %lu (&quot;</span>, winerr),</div>
<div class="line"><a id="l06664" name="l06664"></a><span class="lineno"> 6664</span>                s += FormatMessage (FORMAT_MESSAGE_FROM_SYSTEM | FORMAT_MESSAGE_IGNORE_INSERTS,</div>
<div class="line"><a id="l06665" name="l06665"></a><span class="lineno"> 6665</span>                                    NULL, winerr, MAKELANGID (LANG_NEUTRAL, SUBLANG_DEFAULT),</div>
<div class="line"><a id="l06666" name="l06666"></a><span class="lineno"> 6666</span>                                    s, (DWORD) (<span class="keyword">sizeof</span> (what) - (s-what)), NULL) - 2,</div>
<div class="line"><a id="l06667" name="l06667"></a><span class="lineno"> 6667</span>                s -=  (s[-1] == <span class="charliteral">&#39;.&#39;</span>)? 1 : 0,</div>
<div class="line"><a id="l06668" name="l06668"></a><span class="lineno"> 6668</span>                s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a id="l06669" name="l06669"></a><span class="lineno"> 6669</span> </div>
<div class="line"><a id="l06670" name="l06670"></a><span class="lineno"> 6670</span>    <span class="keywordflow">if</span> (crterr) s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;, errno: %d (%s)&quot;</span>,     crterr, (strerror_s (str, crterr), str));</div>
<div class="line"><a id="l06671" name="l06671"></a><span class="lineno"> 6671</span> </div>
<div class="line"><a id="l06672" name="l06672"></a><span class="lineno"> 6672</span>    <span class="keywordflow">if</span> (doserr) s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;, _doserrno: %d (%s)&quot;</span>, doserr, (strerror_s (str, doserr), str));</div>
<div class="line"><a id="l06673" name="l06673"></a><span class="lineno"> 6673</span> </div>
<div class="line"><a id="l06674" name="l06674"></a><span class="lineno"> 6674</span>                s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;. %s\n&quot;</span>, std::uncaught_exception()? <span class="stringliteral">&quot;std::uncaught_exception(): true.&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l06675" name="l06675"></a><span class="lineno"> 6675</span> </div>
<div class="line"><a id="l06676" name="l06676"></a><span class="lineno"> 6676</span>    <span class="keywordflow">if</span> (_txInTX &gt; 0 &amp;&amp; !(_txLine == line &amp;&amp; file &amp;&amp; _stricmp (_txFile, file) == 0))</div>
<div class="line"><a id="l06677" name="l06677"></a><span class="lineno"> 6677</span>                s +=  _snprintf_s  (s, SZARG_(1), <span class="stringliteral">&quot;From: %s (%d) %s.\n&quot;</span>, _txFile, _txLine, _txFunc);</div>
<div class="line"><a id="l06678" name="l06678"></a><span class="lineno"> 6678</span> </div>
<div class="line"><a id="l06679" name="l06679"></a><span class="lineno"> 6679</span><span class="preprocessor">    #undef SZARG_</span></div>
<div class="line"><a id="l06680" name="l06680"></a><span class="lineno"> 6680</span>    va_end (arg);</div>
<div class="line"><a id="l06681" name="l06681"></a><span class="lineno"> 6681</span> </div>
<div class="line"><a id="l06682" name="l06682"></a><span class="lineno"> 6682</span>    <span class="keyword">struct </span>tools</div>
<div class="line"><a id="l06683" name="l06683"></a><span class="lineno"> 6683</span>        {</div>
<div class="line"><a id="l06684" name="l06684"></a><span class="lineno"> 6684</span>        <span class="keyword">static</span> <span class="keywordtype">char</span>* compressSpaces (<span class="keywordtype">char</span>* dest, <span class="keyword">const</span> <span class="keywordtype">char</span>* src)</div>
<div class="line"><a id="l06685" name="l06685"></a><span class="lineno"> 6685</span>            {</div>
<div class="line"><a id="l06686" name="l06686"></a><span class="lineno"> 6686</span>            <span class="keywordtype">char</span>* dst = dest;</div>
<div class="line"><a id="l06687" name="l06687"></a><span class="lineno"> 6687</span> </div>
<div class="line"><a id="l06688" name="l06688"></a><span class="lineno"> 6688</span>            <span class="keywordflow">for</span> (<span class="keywordtype">char</span> last = <span class="charliteral">&#39; &#39;</span>; *src; src++)</div>
<div class="line"><a id="l06689" name="l06689"></a><span class="lineno"> 6689</span>                <span class="keywordflow">if</span> (isspace ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(*src))) { <span class="keywordflow">if</span> (last != <span class="charliteral">&#39; &#39;</span>) *dst++ = last = <span class="charliteral">&#39; &#39;</span>; }</div>
<div class="line"><a id="l06690" name="l06690"></a><span class="lineno"> 6690</span>                <span class="keywordflow">else</span>                                                    *dst++ = last = *src;</div>
<div class="line"><a id="l06691" name="l06691"></a><span class="lineno"> 6691</span> </div>
<div class="line"><a id="l06692" name="l06692"></a><span class="lineno"> 6692</span>            <span class="keywordflow">if</span> (dst &gt; dest &amp;&amp; dst[-1] == <span class="charliteral">&#39; &#39;</span>) dst--;</div>
<div class="line"><a id="l06693" name="l06693"></a><span class="lineno"> 6693</span>            *dst++ = <span class="charliteral">&#39;\n&#39;</span>; *dst++ = 0;</div>
<div class="line"><a id="l06694" name="l06694"></a><span class="lineno"> 6694</span> </div>
<div class="line"><a id="l06695" name="l06695"></a><span class="lineno"> 6695</span>            <span class="keywordflow">return</span> dest;</div>
<div class="line"><a id="l06696" name="l06696"></a><span class="lineno"> 6696</span>            }</div>
<div class="line"><a id="l06697" name="l06697"></a><span class="lineno"> 6697</span> </div>
<div class="line"><a id="l06698" name="l06698"></a><span class="lineno"> 6698</span>        <span class="keyword">static</span> <span class="keywordtype">char</span>* replace (<span class="keywordtype">char</span>* dest, <span class="keyword">const</span> <span class="keywordtype">char</span>* src, <span class="keywordtype">char</span> find, <span class="keywordtype">char</span> repl)</div>
<div class="line"><a id="l06699" name="l06699"></a><span class="lineno"> 6699</span>            {</div>
<div class="line"><a id="l06700" name="l06700"></a><span class="lineno"> 6700</span>            <span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><a id="l06701" name="l06701"></a><span class="lineno"> 6701</span>            <span class="keywordflow">for</span> (; src[i]; i++) dest[i] = (src[i] == find)? repl : src[i];</div>
<div class="line"><a id="l06702" name="l06702"></a><span class="lineno"> 6702</span>            dest[i] = 0;</div>
<div class="line"><a id="l06703" name="l06703"></a><span class="lineno"> 6703</span> </div>
<div class="line"><a id="l06704" name="l06704"></a><span class="lineno"> 6704</span>            <span class="keywordflow">return</span> dest;</div>
<div class="line"><a id="l06705" name="l06705"></a><span class="lineno"> 6705</span>            }</div>
<div class="line"><a id="l06706" name="l06706"></a><span class="lineno"> 6706</span>        };</div>
<div class="line"><a id="l06707" name="l06707"></a><span class="lineno"> 6707</span> </div>
<div class="line"><a id="l06708" name="l06708"></a><span class="lineno"> 6708</span>$   <a class="code hl_function" href="group___misc.html#ga2b7cded1074eb3d4b25af75b4ffed73a">txOutputDebugPrintf</a> (<span class="stringliteral">&quot;%s - %s&quot;</span>, <a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a>, tools::compressSpaces (str, what));</div>
<div class="line"><a id="l06709" name="l06709"></a><span class="lineno"> 6709</span> </div>
<div class="line"><a id="l06710" name="l06710"></a><span class="lineno"> 6710</span>    <span class="keywordflow">if</span> (fmtOnly) <span class="keywordflow">return</span> what;</div>
<div class="line"><a id="l06711" name="l06711"></a><span class="lineno"> 6711</span> </div>
<div class="line"><a id="l06712" name="l06712"></a><span class="lineno"> 6712</span>    tools::replace (str, what, <span class="charliteral">&#39;\v&#39;</span>, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a id="l06713" name="l06713"></a><span class="lineno"> 6713</span>    printf (<span class="stringliteral">&quot;\n&quot;</span> <span class="stringliteral">&quot;--------------------------------------------------\n&quot;</span></div>
<div class="line"><a id="l06714" name="l06714"></a><span class="lineno"> 6714</span>                 <span class="stringliteral">&quot;%s&quot;</span></div>
<div class="line"><a id="l06715" name="l06715"></a><span class="lineno"> 6715</span>                 <span class="stringliteral">&quot;--------------------------------------------------\n&quot;</span>, str);</div>
<div class="line"><a id="l06716" name="l06716"></a><span class="lineno"> 6716</span> </div>
<div class="line"><a id="l06717" name="l06717"></a><span class="lineno"> 6717</span>    tools::replace (str, what, <span class="charliteral">&#39;\v&#39;</span>, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a id="l06718" name="l06718"></a><span class="lineno"> 6718</span>    <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (str, isFatal? <span class="stringliteral">&quot; &quot;</span> : <span class="stringliteral">&quot;  &quot;</span>, MB_ICONSTOP | MB_TOPMOST | MB_SYSTEMMODAL);</div>
<div class="line"><a id="l06719" name="l06719"></a><span class="lineno"> 6719</span> </div>
<div class="line"><a id="l06720" name="l06720"></a><span class="lineno"> 6720</span>    <span class="keywordflow">if</span> (!isFatal) <span class="keywordflow">return</span> what;</div>
<div class="line"><a id="l06721" name="l06721"></a><span class="lineno"> 6721</span> </div>
<div class="line"><a id="l06722" name="l06722"></a><span class="lineno"> 6722</span>    <span class="keywordflow">if</span> (!IsDebuggerPresent()) exit (EXIT_FAILURE);</div>
<div class="line"><a id="l06723" name="l06723"></a><span class="lineno"> 6723</span> </div>
<div class="line"><a id="l06724" name="l06724"></a><span class="lineno"> 6724</span><span class="comment">//  vvvvvvvvvvvvvvvvvv</span></div>
<div class="line"><a id="l06725" name="l06725"></a><span class="lineno"> 6725</span>    DebugBreak();   <span class="comment">//&gt;&gt;&gt;   .      .</span></div>
<div class="line"><a id="l06726" name="l06726"></a><span class="lineno"> 6726</span><span class="comment">//  ^^^^^^^^^^^^^^^^^^</span></div>
<div class="line"><a id="l06727" name="l06727"></a><span class="lineno"> 6727</span> </div>
<div class="line"><a id="l06728" name="l06728"></a><span class="lineno"> 6728</span>    <span class="keywordflow">return</span> what;    <span class="comment">//&gt;&gt;&gt;      (F10/F11).     (Alt+7).</span></div>
<div class="line"><a id="l06729" name="l06729"></a><span class="lineno"> 6729</span>    }</div>
<div class="line"><a id="l06730" name="l06730"></a><span class="lineno"> 6730</span> </div>
<div class="line"><a id="l06731" name="l06731"></a><span class="lineno"> 6731</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06732" name="l06732"></a><span class="lineno"> 6732</span> </div>
<div class="line"><a id="l06733" name="l06733"></a><span class="lineno"> 6733</span><span class="keywordtype">int</span> <a class="code hl_function" href="group___misc.html#ga2b7cded1074eb3d4b25af75b4ffed73a">txOutputDebugPrintf</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> format[], ...)</div>
<div class="line"><a id="l06734" name="l06734"></a><span class="lineno"> 6734</span>    {</div>
<div class="line"><a id="l06735" name="l06735"></a><span class="lineno"> 6735</span>    <span class="keywordflow">if</span> (!format) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l06736" name="l06736"></a><span class="lineno"> 6736</span> </div>
<div class="line"><a id="l06737" name="l06737"></a><span class="lineno"> 6737</span>    <span class="keywordtype">bool</span> msgbox = (*format == <span class="charliteral">&#39;\a&#39;</span>)? (format++, <span class="keyword">true</span>) : <span class="keyword">false</span>;</div>
<div class="line"><a id="l06738" name="l06738"></a><span class="lineno"> 6738</span>    <span class="keywordtype">bool</span> print  = (*format == <span class="charliteral">&#39;\f&#39;</span>)? (format++, <span class="keyword">true</span>) : <span class="keyword">false</span>;</div>
<div class="line"><a id="l06739" name="l06739"></a><span class="lineno"> 6739</span> </div>
<div class="line"><a id="l06740" name="l06740"></a><span class="lineno"> 6740</span>    <span class="keywordtype">char</span> str[<a class="code hl_variable" href="group___technical.html#gaa7273b2f613970c283053c5d9136addd">_TX_BIGBUFSIZE</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06741" name="l06741"></a><span class="lineno"> 6741</span> </div>
<div class="line"><a id="l06742" name="l06742"></a><span class="lineno"> 6742</span>    va_list arg; va_start (arg, format);</div>
<div class="line"><a id="l06743" name="l06743"></a><span class="lineno"> 6743</span>    <span class="keywordtype">int</span> n = _vsnprintf_s (str, <span class="keyword">sizeof</span> (str) - 1 _TX_TRUNCATE, format, arg);</div>
<div class="line"><a id="l06744" name="l06744"></a><span class="lineno"> 6744</span>    va_end (arg);</div>
<div class="line"><a id="l06745" name="l06745"></a><span class="lineno"> 6745</span> </div>
<div class="line"><a id="l06746" name="l06746"></a><span class="lineno"> 6746</span>    OutputDebugString (str);</div>
<div class="line"><a id="l06747" name="l06747"></a><span class="lineno"> 6747</span> </div>
<div class="line"><a id="l06748" name="l06748"></a><span class="lineno"> 6748</span>    <span class="keywordflow">if</span> (print)</div>
<div class="line"><a id="l06749" name="l06749"></a><span class="lineno"> 6749</span>        fprintf (stderr, <span class="stringliteral">&quot;%s&quot;</span>, str);</div>
<div class="line"><a id="l06750" name="l06750"></a><span class="lineno"> 6750</span> </div>
<div class="line"><a id="l06751" name="l06751"></a><span class="lineno"> 6751</span>    <span class="keywordflow">if</span> (msgbox)</div>
<div class="line"><a id="l06752" name="l06752"></a><span class="lineno"> 6752</span>        <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (str, <span class="stringliteral">&quot;, &quot;</span>, MB_ICONEXCLAMATION | MB_TOPMOST);</div>
<div class="line"><a id="l06753" name="l06753"></a><span class="lineno"> 6753</span> </div>
<div class="line"><a id="l06754" name="l06754"></a><span class="lineno"> 6754</span>    <span class="keywordflow">return</span> n;</div>
<div class="line"><a id="l06755" name="l06755"></a><span class="lineno"> 6755</span>    }</div>
<div class="line"><a id="l06756" name="l06756"></a><span class="lineno"> 6756</span> </div>
<div class="line"><a id="l06757" name="l06757"></a><span class="lineno"> 6757</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06758" name="l06758"></a><span class="lineno"> 6758</span> </div>
<div class="line"><a id="l06759" name="l06759"></a><span class="lineno"> 6759</span><span class="keywordtype">unsigned</span> <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* text, <span class="keyword">const</span> <span class="keywordtype">char</span>* header, <span class="keywordtype">unsigned</span> flags <span class="comment">/*= 0*/</span>)</div>
<div class="line"><a id="l06760" name="l06760"></a><span class="lineno"> 6760</span>    {</div>
<div class="line"><a id="l06761" name="l06761"></a><span class="lineno"> 6761</span>    <span class="keyword">static</span> <span class="keywordtype">wchar_t</span> textW   [<a class="code hl_variable" href="group___technical.html#gaa7273b2f613970c283053c5d9136addd">_TX_BIGBUFSIZE</a> * <span class="keyword">sizeof</span> (wchar_t)] = L<span class="stringliteral">&quot;[NULL text]&quot;</span>;</div>
<div class="line"><a id="l06762" name="l06762"></a><span class="lineno"> 6762</span>    <span class="keyword">static</span> <span class="keywordtype">wchar_t</span> headerW [<a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>    * <span class="keyword">sizeof</span> (wchar_t)] = L<span class="stringliteral">&quot;[NULL header]&quot;</span>;</div>
<div class="line"><a id="l06763" name="l06763"></a><span class="lineno"> 6763</span> </div>
<div class="line"><a id="l06764" name="l06764"></a><span class="lineno"> 6764</span>    <span class="keywordflow">if</span> (text)   MultiByteToWideChar (_TX_CP, 0, text,   -1, textW,   <a class="code hl_define" href="group___misc.html#ga3379d227f91f891ac97d068ab90ee871">SIZEARR</a> (textW))   || memset (textW,   0, <span class="keyword">sizeof</span> (textW));</div>
<div class="line"><a id="l06765" name="l06765"></a><span class="lineno"> 6765</span>    <span class="keywordflow">if</span> (header) MultiByteToWideChar (_TX_CP, 0, header, -1, headerW, <a class="code hl_define" href="group___misc.html#ga3379d227f91f891ac97d068ab90ee871">SIZEARR</a> (headerW)) || memset (headerW, 0, <span class="keyword">sizeof</span> (headerW));</div>
<div class="line"><a id="l06766" name="l06766"></a><span class="lineno"> 6766</span> </div>
<div class="line"><a id="l06767" name="l06767"></a><span class="lineno"> 6767</span>    HWND wnd = _txCanvas_Window;</div>
<div class="line"><a id="l06768" name="l06768"></a><span class="lineno"> 6768</span>    <span class="keywordflow">return</span> MessageBoxW ((wnd? wnd : Win32::GetConsoleWindow()), textW, headerW, flags | MB_SETFOREGROUND | MB_TOPMOST);</div>
<div class="line"><a id="l06769" name="l06769"></a><span class="lineno"> 6769</span>    }</div>
<div class="line"><a id="l06770" name="l06770"></a><span class="lineno"> 6770</span> </div>
<div class="line"><a id="l06771" name="l06771"></a><span class="lineno"> 6771</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06772" name="l06772"></a><span class="lineno"> 6772</span> </div>
<div class="line"><a id="l06773" name="l06773"></a><span class="lineno"> 6773</span><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">txGetModuleFileName</a> (<span class="keywordtype">bool</span> fileNameOnly <span class="comment">/*= true*/</span>)</div>
<div class="line"><a id="l06774" name="l06774"></a><span class="lineno"> 6774</span>    {</div>
<div class="line"><a id="l06775" name="l06775"></a><span class="lineno"> 6775</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> name[MAX_PATH] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06776" name="l06776"></a><span class="lineno"> 6776</span> </div>
<div class="line"><a id="l06777" name="l06777"></a><span class="lineno"> 6777</span>    <span class="keywordflow">if</span> (!*name) GetModuleFileName (NULL, name, <span class="keyword">sizeof</span> (name) - 1) || strcpy_s (name, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l06778" name="l06778"></a><span class="lineno"> 6778</span>    <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (*name);</div>
<div class="line"><a id="l06779" name="l06779"></a><span class="lineno"> 6779</span> </div>
<div class="line"><a id="l06780" name="l06780"></a><span class="lineno"> 6780</span>    <span class="keywordflow">if</span> (fileNameOnly) <span class="keywordflow">return</span> name;</div>
<div class="line"><a id="l06781" name="l06781"></a><span class="lineno"> 6781</span> </div>
<div class="line"><a id="l06782" name="l06782"></a><span class="lineno"> 6782</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> fullName[MAX_PATH] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06783" name="l06783"></a><span class="lineno"> 6783</span>    strncpy_s (fullName, name, <span class="keyword">sizeof</span> (fullName) - 1);</div>
<div class="line"><a id="l06784" name="l06784"></a><span class="lineno"> 6784</span> </div>
<div class="line"><a id="l06785" name="l06785"></a><span class="lineno"> 6785</span>    <span class="keywordtype">char</span>* title = strrchr (fullName, <span class="charliteral">&#39;\\&#39;</span>); <span class="keywordflow">if</span> (!title) title = fullName;</div>
<div class="line"><a id="l06786" name="l06786"></a><span class="lineno"> 6786</span>    <span class="keywordtype">char</span>* ext   = strrchr (fullName,  <span class="charliteral">&#39;.&#39;</span>); <span class="keywordflow">if</span> (!ext)   ext   = fullName + strlen (fullName);</div>
<div class="line"><a id="l06787" name="l06787"></a><span class="lineno"> 6787</span> </div>
<div class="line"><a id="l06788" name="l06788"></a><span class="lineno"> 6788</span>    <span class="keywordtype">size_t</span> sz = <span class="keyword">sizeof</span> (fullName) - (ext - fullName) - 1;</div>
<div class="line"><a id="l06789" name="l06789"></a><span class="lineno"> 6789</span> </div>
<div class="line"><a id="l06790" name="l06790"></a><span class="lineno"> 6790</span><span class="preprocessor">    #if defined (_CRT_SECURE_CPP_OVERLOAD_SECURE_NAMES) &amp;&amp; _CRT_SECURE_CPP_OVERLOAD_SECURE_NAMES</span></div>
<div class="line"><a id="l06791" name="l06791"></a><span class="lineno"> 6791</span>    strncpy_s (ext, sz, <span class="stringliteral">&quot; - TXLib&quot;</span>, sz);</div>
<div class="line"><a id="l06792" name="l06792"></a><span class="lineno"> 6792</span><span class="preprocessor">    #else</span></div>
<div class="line"><a id="l06793" name="l06793"></a><span class="lineno"> 6793</span>    strncpy   (ext,     <span class="stringliteral">&quot; - TXLib&quot;</span>, sz);</div>
<div class="line"><a id="l06794" name="l06794"></a><span class="lineno"> 6794</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l06795" name="l06795"></a><span class="lineno"> 6795</span> </div>
<div class="line"><a id="l06796" name="l06796"></a><span class="lineno"> 6796</span>    <span class="keywordflow">return</span> title + 1;</div>
<div class="line"><a id="l06797" name="l06797"></a><span class="lineno"> 6797</span>    }</div>
<div class="line"><a id="l06798" name="l06798"></a><span class="lineno"> 6798</span> </div>
<div class="line"><a id="l06799" name="l06799"></a><span class="lineno"> 6799</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06800" name="l06800"></a><span class="lineno"> 6800</span> </div>
<div class="line"><a id="l06801" name="l06801"></a><span class="lineno"> 6801</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577">txNotifyIcon</a> (<span class="keywordtype">unsigned</span> flags, <span class="keyword">const</span> <span class="keywordtype">char</span> title[], <span class="keyword">const</span> <span class="keywordtype">char</span> format[], ...)</div>
<div class="line"><a id="l06802" name="l06802"></a><span class="lineno"> 6802</span>    {</div>
<div class="line"><a id="l06803" name="l06803"></a><span class="lineno"> 6803</span>$1  _TX_IF_ARGUMENT_FAILED (format) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06804" name="l06804"></a><span class="lineno"> 6804</span> </div>
<div class="line"><a id="l06805" name="l06805"></a><span class="lineno"> 6805</span>$   va_list arg; va_start (arg, format);</div>
<div class="line"><a id="l06806" name="l06806"></a><span class="lineno"> 6806</span>$   <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;</div>
<div class="line"><a id="l06807" name="l06807"></a><span class="lineno"> 6807</span> </div>
<div class="line"><a id="l06808" name="l06808"></a><span class="lineno"> 6808</span><span class="preprocessor">    #if defined (_WIN32_IE) &amp;&amp; (_WIN32_IE &gt;= 0x0500)</span></div>
<div class="line"><a id="l06809" name="l06809"></a><span class="lineno"> 6809</span> </div>
<div class="line"><a id="l06810" name="l06810"></a><span class="lineno"> 6810</span>$   NOTIFYICONDATA nid = { <span class="keyword">sizeof</span> (nid) };</div>
<div class="line"><a id="l06811" name="l06811"></a><span class="lineno"> 6811</span> </div>
<div class="line"><a id="l06812" name="l06812"></a><span class="lineno"> 6812</span>$   nid.uFlags = NIF_ICON | NIF_TIP | NIF_INFO;</div>
<div class="line"><a id="l06813" name="l06813"></a><span class="lineno"> 6813</span>$   nid.hWnd   = NULL;</div>
<div class="line"><a id="l06814" name="l06814"></a><span class="lineno"> 6814</span>$   nid.uID    = 1;</div>
<div class="line"><a id="l06815" name="l06815"></a><span class="lineno"> 6815</span>$   nid.hIcon  = _txCreateTXIcon (16); <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (nid.hIcon);</div>
<div class="line"><a id="l06816" name="l06816"></a><span class="lineno"> 6816</span>$   strncpy_s    (nid.szTip, <span class="stringliteral">&quot;TXLib Information&quot;</span>, sizeof (nid.szTip));</div>
<div class="line"><a id="l06817" name="l06817"></a><span class="lineno"> 6817</span>$   strncpy_s    (nid.szInfoTitle, (title? title : <span class="stringliteral">&quot;TXLib &quot;</span>), sizeof (nid.szInfoTitle) - 1);</div>
<div class="line"><a id="l06818" name="l06818"></a><span class="lineno"> 6818</span>$   _vsnprintf_s (nid.szInfo, sizeof (nid.szInfo) _TX_TRUNCATE, format, arg);</div>
<div class="line"><a id="l06819" name="l06819"></a><span class="lineno"> 6819</span>$   nid.dwInfoFlags = flags;</div>
<div class="line"><a id="l06820" name="l06820"></a><span class="lineno"> 6820</span> </div>
<div class="line"><a id="l06821" name="l06821"></a><span class="lineno"> 6821</span>$   <a class="code hl_function" href="group___misc.html#ga2b7cded1074eb3d4b25af75b4ffed73a">txOutputDebugPrintf</a> (<a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a> <span class="stringliteral">&quot; - Icon notification: %s: %s\n&quot;</span>, nid.szInfoTitle, nid.szInfo);</div>
<div class="line"><a id="l06822" name="l06822"></a><span class="lineno"> 6822</span> </div>
<div class="line"><a id="l06823" name="l06823"></a><span class="lineno"> 6823</span>$   ok &amp;= !!Shell_NotifyIcon (NIM_ADD,    (::NOTIFYICONDATA*) &amp;nid);</div>
<div class="line"><a id="l06824" name="l06824"></a><span class="lineno"> 6824</span>$   ok &amp;= !!Shell_NotifyIcon (NIM_MODIFY, (::NOTIFYICONDATA*) &amp;nid);</div>
<div class="line"><a id="l06825" name="l06825"></a><span class="lineno"> 6825</span> </div>
<div class="line"><a id="l06826" name="l06826"></a><span class="lineno"> 6826</span>$   <span class="keywordflow">if</span> (nid.hIcon) DestroyIcon (nid.hIcon) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06827" name="l06827"></a><span class="lineno"> 6827</span> </div>
<div class="line"><a id="l06828" name="l06828"></a><span class="lineno"> 6828</span>    <span class="preprocessor">#else</span></div>
<div class="line"><a id="l06829" name="l06829"></a><span class="lineno"> 6829</span> </div>
<div class="line"><a id="l06830" name="l06830"></a><span class="lineno"> 6830</span>$   <span class="keywordtype">char</span> nid_szInfo[<a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l06831" name="l06831"></a><span class="lineno"> 6831</span>$   _vsnprintf_s (nid_szInfo, <span class="keyword">sizeof</span> (nid_szInfo) _TX_TRUNCATE, format, arg);</div>
<div class="line"><a id="l06832" name="l06832"></a><span class="lineno"> 6832</span>$   <a class="code hl_function" href="group___misc.html#ga2b7cded1074eb3d4b25af75b4ffed73a">txOutputDebugPrintf</a> (<a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a> <span class="stringliteral">&quot; - Icon notification (NOT displayed): %s: %s\n&quot;</span>, title, nid_szInfo);</div>
<div class="line"><a id="l06833" name="l06833"></a><span class="lineno"> 6833</span>$   ok = <span class="keyword">false</span>;</div>
<div class="line"><a id="l06834" name="l06834"></a><span class="lineno"> 6834</span> </div>
<div class="line"><a id="l06835" name="l06835"></a><span class="lineno"> 6835</span>$   (<span class="keywordtype">void</span>)flags; (void)title;</div>
<div class="line"><a id="l06836" name="l06836"></a><span class="lineno"> 6836</span> </div>
<div class="line"><a id="l06837" name="l06837"></a><span class="lineno"> 6837</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l06838" name="l06838"></a><span class="lineno"> 6838</span> </div>
<div class="line"><a id="l06839" name="l06839"></a><span class="lineno"> 6839</span>$   va_end (arg);</div>
<div class="line"><a id="l06840" name="l06840"></a><span class="lineno"> 6840</span>$   <span class="keywordflow">return</span> ok;</div>
<div class="line"><a id="l06841" name="l06841"></a><span class="lineno"> 6841</span>    }</div>
<div class="line"><a id="l06842" name="l06842"></a><span class="lineno"> 6842</span> </div>
<div class="line"><a id="l06844" name="l06844"></a><span class="lineno"> 6844</span><span class="comment">//}</span></div>
<div class="line"><a id="l06845" name="l06845"></a><span class="lineno"> 6845</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06846" name="l06846"></a><span class="lineno"> 6846</span> </div>
<div class="line"><a id="l06847" name="l06847"></a><span class="lineno"> 6847</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06848" name="l06848"></a><span class="lineno"> 6848</span><span class="comment">//{          TXLib API implementation</span></div>
<div class="line"><a id="l06849" name="l06849"></a><span class="lineno"> 6849</span><span class="comment">//            TXLib API</span></div>
<div class="line"><a id="l06850" name="l06850"></a><span class="lineno"> 6850</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l06851" name="l06851"></a><span class="lineno"> 6851</span> </div>
<div class="line"><a id="l06852" name="l06852"></a><span class="lineno"> 6852</span><span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="group___drawing.html#ga0fc0db1a7c287bec31625bdf3a21922e">txVersion</a>()</div>
<div class="line"><a id="l06853" name="l06853"></a><span class="lineno"> 6853</span>    {</div>
<div class="line"><a id="l06854" name="l06854"></a><span class="lineno"> 6854</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a>;</div>
<div class="line"><a id="l06855" name="l06855"></a><span class="lineno"> 6855</span>    }</div>
<div class="line"><a id="l06856" name="l06856"></a><span class="lineno"> 6856</span> </div>
<div class="line"><a id="l06857" name="l06857"></a><span class="lineno"> 6857</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06858" name="l06858"></a><span class="lineno"> 6858</span> </div>
<div class="line"><a id="l06859" name="l06859"></a><span class="lineno"> 6859</span><span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <a class="code hl_function" href="group___drawing.html#gacd2416cd6b89106ab6700d0c75922bee">txVersionNumber</a>()</div>
<div class="line"><a id="l06860" name="l06860"></a><span class="lineno"> 6860</span>    {</div>
<div class="line"><a id="l06861" name="l06861"></a><span class="lineno"> 6861</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="group___technical.html#ga6b76c63cd895c2be63ac8e690028623b">_TX_VER</a>;</div>
<div class="line"><a id="l06862" name="l06862"></a><span class="lineno"> 6862</span>    }</div>
<div class="line"><a id="l06863" name="l06863"></a><span class="lineno"> 6863</span> </div>
<div class="line"><a id="l06864" name="l06864"></a><span class="lineno"> 6864</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06865" name="l06865"></a><span class="lineno"> 6865</span> </div>
<div class="line"><a id="l06866" name="l06866"></a><span class="lineno"> 6866</span>POINT <a class="code hl_function" href="group___drawing.html#ga69be92455ac555cb03470cb4ef4ac67c">txGetExtent</a>()</div>
<div class="line"><a id="l06867" name="l06867"></a><span class="lineno"> 6867</span>    {</div>
<div class="line"><a id="l06868" name="l06868"></a><span class="lineno"> 6868</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#gade9b60c36576ef735b3e1d1f628ad9c6">ZERO</a> (POINT);</div>
<div class="line"><a id="l06869" name="l06869"></a><span class="lineno"> 6869</span> </div>
<div class="line"><a id="l06870" name="l06870"></a><span class="lineno"> 6870</span>$   RECT r = {0};</div>
<div class="line"><a id="l06871" name="l06871"></a><span class="lineno"> 6871</span>$   GetClientRect (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), &amp;r);</div>
<div class="line"><a id="l06872" name="l06872"></a><span class="lineno"> 6872</span> </div>
<div class="line"><a id="l06873" name="l06873"></a><span class="lineno"> 6873</span>$   POINT size = { r.right - r.left, r.bottom - r.top };</div>
<div class="line"><a id="l06874" name="l06874"></a><span class="lineno"> 6874</span>$   <span class="keywordflow">return</span> size;</div>
<div class="line"><a id="l06875" name="l06875"></a><span class="lineno"> 6875</span>    }</div>
<div class="line"><a id="l06876" name="l06876"></a><span class="lineno"> 6876</span> </div>
<div class="line"><a id="l06877" name="l06877"></a><span class="lineno"> 6877</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06878" name="l06878"></a><span class="lineno"> 6878</span> </div>
<div class="line"><a id="l06879" name="l06879"></a><span class="lineno"> 6879</span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gaed186909e8de1f9a6e5f78c362d9b607">txGetExtentX</a>()</div>
<div class="line"><a id="l06880" name="l06880"></a><span class="lineno"> 6880</span>    {</div>
<div class="line"><a id="l06881" name="l06881"></a><span class="lineno"> 6881</span>$1  <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#ga69be92455ac555cb03470cb4ef4ac67c">txGetExtent</a>().x;</div>
<div class="line"><a id="l06882" name="l06882"></a><span class="lineno"> 6882</span>    }</div>
<div class="line"><a id="l06883" name="l06883"></a><span class="lineno"> 6883</span> </div>
<div class="line"><a id="l06884" name="l06884"></a><span class="lineno"> 6884</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06885" name="l06885"></a><span class="lineno"> 6885</span> </div>
<div class="line"><a id="l06886" name="l06886"></a><span class="lineno"> 6886</span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#ga1838cd6a438d4bea5f26bfa47a103a0d">txGetExtentY</a>()</div>
<div class="line"><a id="l06887" name="l06887"></a><span class="lineno"> 6887</span>    {</div>
<div class="line"><a id="l06888" name="l06888"></a><span class="lineno"> 6888</span>$1  <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#ga69be92455ac555cb03470cb4ef4ac67c">txGetExtent</a>().y;</div>
<div class="line"><a id="l06889" name="l06889"></a><span class="lineno"> 6889</span>    }</div>
<div class="line"><a id="l06890" name="l06890"></a><span class="lineno"> 6890</span> </div>
<div class="line"><a id="l06891" name="l06891"></a><span class="lineno"> 6891</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06892" name="l06892"></a><span class="lineno"> 6892</span> </div>
<div class="line"><a id="l06893" name="l06893"></a><span class="lineno"> 6893</span><span class="keyword">inline</span> HDC&amp; <a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>()</div>
<div class="line"><a id="l06894" name="l06894"></a><span class="lineno"> 6894</span>    {</div>
<div class="line"><a id="l06895" name="l06895"></a><span class="lineno"> 6895</span>$1  <span class="keywordflow">return</span> _txCanvas_BackBuf[0];</div>
<div class="line"><a id="l06896" name="l06896"></a><span class="lineno"> 6896</span>    }</div>
<div class="line"><a id="l06897" name="l06897"></a><span class="lineno"> 6897</span> </div>
<div class="line"><a id="l06898" name="l06898"></a><span class="lineno"> 6898</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06899" name="l06899"></a><span class="lineno"> 6899</span> </div>
<div class="line"><a id="l06900" name="l06900"></a><span class="lineno"> 6900</span><span class="keyword">inline</span> HWND <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>()</div>
<div class="line"><a id="l06901" name="l06901"></a><span class="lineno"> 6901</span>    {</div>
<div class="line"><a id="l06902" name="l06902"></a><span class="lineno"> 6902</span>$1  <span class="keywordflow">return</span> _txCanvas_Window;</div>
<div class="line"><a id="l06903" name="l06903"></a><span class="lineno"> 6903</span>    }</div>
<div class="line"><a id="l06904" name="l06904"></a><span class="lineno"> 6904</span> </div>
<div class="line"><a id="l06905" name="l06905"></a><span class="lineno"> 6905</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06906" name="l06906"></a><span class="lineno"> 6906</span> </div>
<div class="line"><a id="l06907" name="l06907"></a><span class="lineno"> 6907</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gac9d8435ced05ddc5c29a1a5c9f58f752">txDestroyWindow</a>()</div>
<div class="line"><a id="l06908" name="l06908"></a><span class="lineno"> 6908</span>    {</div>
<div class="line"><a id="l06909" name="l06909"></a><span class="lineno"> 6909</span>$1  <span class="keywordflow">if</span> (!<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06910" name="l06910"></a><span class="lineno"> 6910</span> </div>
<div class="line"><a id="l06911" name="l06911"></a><span class="lineno"> 6911</span>$   <span class="keywordflow">if</span> (SendNotifyMessage (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), (_txMain? WM_CLOSE : WM_DESTROY), 0, 0) == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06912" name="l06912"></a><span class="lineno"> 6912</span> </div>
<div class="line"><a id="l06913" name="l06913"></a><span class="lineno"> 6913</span>$   <span class="keywordflow">if</span> (_txMain)</div>
<div class="line"><a id="l06914" name="l06914"></a><span class="lineno"> 6914</span>        {</div>
<div class="line"><a id="l06915" name="l06915"></a><span class="lineno"> 6915</span>$       <a class="code hl_function" href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577">txNotifyIcon</a> (NIIF_WARNING, NULL, <span class="stringliteral">&quot;\n&quot;</span> <span class="stringliteral">&quot;,      txDestroyWindow().    \n\n&quot;</span></div>
<div class="line"><a id="l06916" name="l06916"></a><span class="lineno"> 6916</span>                                               <span class="stringliteral">&quot;  main(),    .\n&quot;</span>);</div>
<div class="line"><a id="l06917" name="l06917"></a><span class="lineno"> 6917</span>$       Sleep (<a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>);</div>
<div class="line"><a id="l06918" name="l06918"></a><span class="lineno"> 6918</span>        }</div>
<div class="line"><a id="l06919" name="l06919"></a><span class="lineno"> 6919</span> </div>
<div class="line"><a id="l06920" name="l06920"></a><span class="lineno"> 6920</span>$   _txWaitFor (!_txCanvas_Window, <a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>);</div>
<div class="line"><a id="l06921" name="l06921"></a><span class="lineno"> 6921</span> </div>
<div class="line"><a id="l06922" name="l06922"></a><span class="lineno"> 6922</span>$   <span class="keywordflow">return</span> _txCanvas_Window == NULL;</div>
<div class="line"><a id="l06923" name="l06923"></a><span class="lineno"> 6923</span>    }</div>
<div class="line"><a id="l06924" name="l06924"></a><span class="lineno"> 6924</span> </div>
<div class="line"><a id="l06925" name="l06925"></a><span class="lineno"> 6925</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06926" name="l06926"></a><span class="lineno"> 6926</span> </div>
<div class="line"><a id="l06927" name="l06927"></a><span class="lineno"> 6927</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e">txSetColor</a> (COLORREF color, <span class="keywordtype">double</span> thickness <span class="comment">/*= 1*/</span>)</div>
<div class="line"><a id="l06928" name="l06928"></a><span class="lineno"> 6928</span>    {</div>
<div class="line"><a id="l06929" name="l06929"></a><span class="lineno"> 6929</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06930" name="l06930"></a><span class="lineno"> 6930</span> </div>
<div class="line"><a id="l06931" name="l06931"></a><span class="lineno"> 6931</span>$   <span class="keywordflow">return</span> _txBuffer_Select (Win32::CreatePen ((color == <a class="code hl_variable" href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">TX_TRANSPARENT</a>? PS_NULL : PS_SOLID), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (thickness), color))</div>
<div class="line"><a id="l06932" name="l06932"></a><span class="lineno"> 6932</span>            &amp;&amp;</div>
<div class="line"><a id="l06933" name="l06933"></a><span class="lineno"> 6933</span>            <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a>          ((Win32::SetTextColor (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), color)));</div>
<div class="line"><a id="l06934" name="l06934"></a><span class="lineno"> 6934</span>    }</div>
<div class="line"><a id="l06935" name="l06935"></a><span class="lineno"> 6935</span> </div>
<div class="line"><a id="l06936" name="l06936"></a><span class="lineno"> 6936</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06937" name="l06937"></a><span class="lineno"> 6937</span> </div>
<div class="line"><a id="l06938" name="l06938"></a><span class="lineno"> 6938</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga977c584db1ecfba20898615a948ab675">txColor</a> (<span class="keywordtype">double</span> red, <span class="keywordtype">double</span> green, <span class="keywordtype">double</span> blue)</div>
<div class="line"><a id="l06939" name="l06939"></a><span class="lineno"> 6939</span>    {</div>
<div class="line"><a id="l06940" name="l06940"></a><span class="lineno"> 6940</span>$1  <span class="keywordflow">if</span> (red   &gt; 1) red   = 1; <span class="keywordflow">if</span> (red   &lt; 0) red   = 0;</div>
<div class="line"><a id="l06941" name="l06941"></a><span class="lineno"> 6941</span>$   <span class="keywordflow">if</span> (green &gt; 1) green = 1; <span class="keywordflow">if</span> (green &lt; 0) green = 0;</div>
<div class="line"><a id="l06942" name="l06942"></a><span class="lineno"> 6942</span>$   <span class="keywordflow">if</span> (blue  &gt; 1) blue  = 1; <span class="keywordflow">if</span> (blue  &lt; 0) blue  = 0;</div>
<div class="line"><a id="l06943" name="l06943"></a><span class="lineno"> 6943</span> </div>
<div class="line"><a id="l06944" name="l06944"></a><span class="lineno"> 6944</span>$   <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e">txSetColor</a> (RGB (<a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (red * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (green * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (blue * 255)));</div>
<div class="line"><a id="l06945" name="l06945"></a><span class="lineno"> 6945</span>    }</div>
<div class="line"><a id="l06946" name="l06946"></a><span class="lineno"> 6946</span> </div>
<div class="line"><a id="l06947" name="l06947"></a><span class="lineno"> 6947</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06948" name="l06948"></a><span class="lineno"> 6948</span> </div>
<div class="line"><a id="l06949" name="l06949"></a><span class="lineno"> 6949</span>COLORREF <a class="code hl_function" href="group___drawing.html#ga4894075399ec8e8747177f90c15fb35d">txGetColor</a>()</div>
<div class="line"><a id="l06950" name="l06950"></a><span class="lineno"> 6950</span>    {</div>
<div class="line"><a id="l06951" name="l06951"></a><span class="lineno"> 6951</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> CLR_INVALID;</div>
<div class="line"><a id="l06952" name="l06952"></a><span class="lineno"> 6952</span> </div>
<div class="line"><a id="l06953" name="l06953"></a><span class="lineno"> 6953</span>$   HGDIOBJ obj = <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::GetCurrentObject (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), OBJ_PEN)));</div>
<div class="line"><a id="l06954" name="l06954"></a><span class="lineno"> 6954</span>$   <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (obj); <span class="keywordflow">if</span> (!obj) <span class="keywordflow">return</span> CLR_INVALID;</div>
<div class="line"><a id="l06955" name="l06955"></a><span class="lineno"> 6955</span> </div>
<div class="line"><a id="l06956" name="l06956"></a><span class="lineno"> 6956</span>$   <span class="keyword">union </span>{ EXTLOGPEN extLogPen; LOGPEN LogPen; } buf = {{0}};</div>
<div class="line"><a id="l06957" name="l06957"></a><span class="lineno"> 6957</span> </div>
<div class="line"><a id="l06958" name="l06958"></a><span class="lineno"> 6958</span>$   <span class="keywordtype">int</span> size = Win32::GetObject (obj, 0, NULL);</div>
<div class="line"><a id="l06959" name="l06959"></a><span class="lineno"> 6959</span>$   Win32::GetObject (obj, <span class="keyword">sizeof</span> (buf), &amp;buf) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06960" name="l06960"></a><span class="lineno"> 6960</span> </div>
<div class="line"><a id="l06961" name="l06961"></a><span class="lineno"> 6961</span>$   <span class="keywordflow">return</span> (size == <span class="keyword">sizeof</span> (LOGPEN))? buf.LogPen.lopnColor : buf.extLogPen.elpColor;</div>
<div class="line"><a id="l06962" name="l06962"></a><span class="lineno"> 6962</span>    }</div>
<div class="line"><a id="l06963" name="l06963"></a><span class="lineno"> 6963</span> </div>
<div class="line"><a id="l06964" name="l06964"></a><span class="lineno"> 6964</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06965" name="l06965"></a><span class="lineno"> 6965</span> </div>
<div class="line"><a id="l06966" name="l06966"></a><span class="lineno"> 6966</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf">txSetFillColor</a> (COLORREF color)</div>
<div class="line"><a id="l06967" name="l06967"></a><span class="lineno"> 6967</span>    {</div>
<div class="line"><a id="l06968" name="l06968"></a><span class="lineno"> 6968</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l06969" name="l06969"></a><span class="lineno"> 6969</span> </div>
<div class="line"><a id="l06970" name="l06970"></a><span class="lineno"> 6970</span>$   <span class="keywordflow">return</span> _txBuffer_Select ((color == <a class="code hl_variable" href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">TX_TRANSPARENT</a>)? Win32::GetStockObject   (HOLLOW_BRUSH) :</div>
<div class="line"><a id="l06971" name="l06971"></a><span class="lineno"> 6971</span>                                                        Win32::CreateSolidBrush (color));</div>
<div class="line"><a id="l06972" name="l06972"></a><span class="lineno"> 6972</span>    }</div>
<div class="line"><a id="l06973" name="l06973"></a><span class="lineno"> 6973</span> </div>
<div class="line"><a id="l06974" name="l06974"></a><span class="lineno"> 6974</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06975" name="l06975"></a><span class="lineno"> 6975</span> </div>
<div class="line"><a id="l06976" name="l06976"></a><span class="lineno"> 6976</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga385a6f84e8f1447a33047fa0f3be972b">txFillColor</a> (<span class="keywordtype">double</span> red, <span class="keywordtype">double</span> green, <span class="keywordtype">double</span> blue)</div>
<div class="line"><a id="l06977" name="l06977"></a><span class="lineno"> 6977</span>    {</div>
<div class="line"><a id="l06978" name="l06978"></a><span class="lineno"> 6978</span>$1  <span class="keywordflow">if</span> (red   &gt; 1) red   = 1; <span class="keywordflow">if</span> (red   &lt; 0) red   = 0;</div>
<div class="line"><a id="l06979" name="l06979"></a><span class="lineno"> 6979</span>$   <span class="keywordflow">if</span> (green &gt; 1) green = 1; <span class="keywordflow">if</span> (green &lt; 0) green = 0;</div>
<div class="line"><a id="l06980" name="l06980"></a><span class="lineno"> 6980</span>$   <span class="keywordflow">if</span> (blue  &gt; 1) blue  = 1; <span class="keywordflow">if</span> (blue  &lt; 0) blue  = 0;</div>
<div class="line"><a id="l06981" name="l06981"></a><span class="lineno"> 6981</span> </div>
<div class="line"><a id="l06982" name="l06982"></a><span class="lineno"> 6982</span>$   <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf">txSetFillColor</a> (RGB (<a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (red * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (green * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (blue * 255)));</div>
<div class="line"><a id="l06983" name="l06983"></a><span class="lineno"> 6983</span>    }</div>
<div class="line"><a id="l06984" name="l06984"></a><span class="lineno"> 6984</span> </div>
<div class="line"><a id="l06985" name="l06985"></a><span class="lineno"> 6985</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l06986" name="l06986"></a><span class="lineno"> 6986</span> </div>
<div class="line"><a id="l06987" name="l06987"></a><span class="lineno"> 6987</span>COLORREF <a class="code hl_function" href="group___drawing.html#ga1a65fa9ddfd07bda8ab3e95873991b76">txGetFillColor</a>()</div>
<div class="line"><a id="l06988" name="l06988"></a><span class="lineno"> 6988</span>    {</div>
<div class="line"><a id="l06989" name="l06989"></a><span class="lineno"> 6989</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> CLR_INVALID;</div>
<div class="line"><a id="l06990" name="l06990"></a><span class="lineno"> 6990</span> </div>
<div class="line"><a id="l06991" name="l06991"></a><span class="lineno"> 6991</span>$   HGDIOBJ obj = <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::GetCurrentObject (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), OBJ_BRUSH)));</div>
<div class="line"><a id="l06992" name="l06992"></a><span class="lineno"> 6992</span>$   <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (obj); <span class="keywordflow">if</span> (!obj) <span class="keywordflow">return</span> CLR_INVALID;</div>
<div class="line"><a id="l06993" name="l06993"></a><span class="lineno"> 6993</span> </div>
<div class="line"><a id="l06994" name="l06994"></a><span class="lineno"> 6994</span>$   LOGBRUSH buf = {0};</div>
<div class="line"><a id="l06995" name="l06995"></a><span class="lineno"> 6995</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::GetObject (obj, <span class="keyword">sizeof</span> (buf), &amp;buf))) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l06996" name="l06996"></a><span class="lineno"> 6996</span> </div>
<div class="line"><a id="l06997" name="l06997"></a><span class="lineno"> 6997</span>$   <span class="keywordflow">return</span> buf.lbColor;</div>
<div class="line"><a id="l06998" name="l06998"></a><span class="lineno"> 6998</span>    }</div>
<div class="line"><a id="l06999" name="l06999"></a><span class="lineno"> 6999</span> </div>
<div class="line"><a id="l07000" name="l07000"></a><span class="lineno"> 7000</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07001" name="l07001"></a><span class="lineno"> 7001</span> </div>
<div class="line"><a id="l07002" name="l07002"></a><span class="lineno"> 7002</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga3ddd148ec8af2d1f722b398ee7e17a71">txSetROP2</a> (<span class="keywordtype">int</span> mode <span class="comment">/*= R2_COPYPEN*/</span>)</div>
<div class="line"><a id="l07003" name="l07003"></a><span class="lineno"> 7003</span>    {</div>
<div class="line"><a id="l07004" name="l07004"></a><span class="lineno"> 7004</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07005" name="l07005"></a><span class="lineno"> 7005</span> </div>
<div class="line"><a id="l07006" name="l07006"></a><span class="lineno"> 7006</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::SetROP2 (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), mode)));</div>
<div class="line"><a id="l07007" name="l07007"></a><span class="lineno"> 7007</span>    }</div>
<div class="line"><a id="l07008" name="l07008"></a><span class="lineno"> 7008</span> </div>
<div class="line"><a id="l07009" name="l07009"></a><span class="lineno"> 7009</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07010" name="l07010"></a><span class="lineno"> 7010</span> </div>
<div class="line"><a id="l07011" name="l07011"></a><span class="lineno"> 7011</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga2a3940b99d02c630364d4b74e7d08a23">txClear</a>()</div>
<div class="line"><a id="l07012" name="l07012"></a><span class="lineno"> 7012</span>    {</div>
<div class="line"><a id="l07013" name="l07013"></a><span class="lineno"> 7013</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07014" name="l07014"></a><span class="lineno"> 7014</span> </div>
<div class="line"><a id="l07015" name="l07015"></a><span class="lineno"> 7015</span>$   POINT size = <a class="code hl_function" href="group___drawing.html#ga69be92455ac555cb03470cb4ef4ac67c">txGetExtent</a>();</div>
<div class="line"><a id="l07016" name="l07016"></a><span class="lineno"> 7016</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::PatBlt (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), 0, 0, size.x, size.y, PATCOPY)));</div>
<div class="line"><a id="l07017" name="l07017"></a><span class="lineno"> 7017</span>    }</div>
<div class="line"><a id="l07018" name="l07018"></a><span class="lineno"> 7018</span> </div>
<div class="line"><a id="l07019" name="l07019"></a><span class="lineno"> 7019</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07020" name="l07020"></a><span class="lineno"> 7020</span> </div>
<div class="line"><a id="l07021" name="l07021"></a><span class="lineno"> 7021</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gad314ddd4f6afa0bb727c4b0cd8207603">txSetPixel</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, COLORREF color)</div>
<div class="line"><a id="l07022" name="l07022"></a><span class="lineno"> 7022</span>    {</div>
<div class="line"><a id="l07023" name="l07023"></a><span class="lineno"> 7023</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07024" name="l07024"></a><span class="lineno"> 7024</span> </div>
<div class="line"><a id="l07025" name="l07025"></a><span class="lineno"> 7025</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::SetPixel (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y), color)));</div>
<div class="line"><a id="l07026" name="l07026"></a><span class="lineno"> 7026</span> </div>
<div class="line"><a id="l07027" name="l07027"></a><span class="lineno"> 7027</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l07028" name="l07028"></a><span class="lineno"> 7028</span>    }</div>
<div class="line"><a id="l07029" name="l07029"></a><span class="lineno"> 7029</span> </div>
<div class="line"><a id="l07030" name="l07030"></a><span class="lineno"> 7030</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07031" name="l07031"></a><span class="lineno"> 7031</span> </div>
<div class="line"><a id="l07032" name="l07032"></a><span class="lineno"> 7032</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga3275b9e7d36b0aeefd60afea65150469">txPixel</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> red, <span class="keywordtype">double</span> green, <span class="keywordtype">double</span> blue)</div>
<div class="line"><a id="l07033" name="l07033"></a><span class="lineno"> 7033</span>    {</div>
<div class="line"><a id="l07034" name="l07034"></a><span class="lineno"> 7034</span>$1  <span class="keywordflow">if</span> (red   &gt; 1) red   = 1; <span class="keywordflow">if</span> (red   &lt; 0) red   = 0;</div>
<div class="line"><a id="l07035" name="l07035"></a><span class="lineno"> 7035</span>$   <span class="keywordflow">if</span> (green &gt; 1) green = 1; <span class="keywordflow">if</span> (green &lt; 0) green = 0;</div>
<div class="line"><a id="l07036" name="l07036"></a><span class="lineno"> 7036</span>$   <span class="keywordflow">if</span> (blue  &gt; 1) blue  = 1; <span class="keywordflow">if</span> (blue  &lt; 0) blue  = 0;</div>
<div class="line"><a id="l07037" name="l07037"></a><span class="lineno"> 7037</span> </div>
<div class="line"><a id="l07038" name="l07038"></a><span class="lineno"> 7038</span>$   <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#gad314ddd4f6afa0bb727c4b0cd8207603">txSetPixel</a> (x, y, RGB (<a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (red * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (green * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (blue * 255)));</div>
<div class="line"><a id="l07039" name="l07039"></a><span class="lineno"> 7039</span>    }</div>
<div class="line"><a id="l07040" name="l07040"></a><span class="lineno"> 7040</span> </div>
<div class="line"><a id="l07041" name="l07041"></a><span class="lineno"> 7041</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07042" name="l07042"></a><span class="lineno"> 7042</span> </div>
<div class="line"><a id="l07043" name="l07043"></a><span class="lineno"> 7043</span><span class="keyword">inline</span> COLORREF <a class="code hl_function" href="group___drawing.html#ga3d6ff7a642714b236c3837f977795396">txGetPixel</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)</div>
<div class="line"><a id="l07044" name="l07044"></a><span class="lineno"> 7044</span>    {</div>
<div class="line"><a id="l07045" name="l07045"></a><span class="lineno"> 7045</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> CLR_INVALID;</div>
<div class="line"><a id="l07046" name="l07046"></a><span class="lineno"> 7046</span> </div>
<div class="line"><a id="l07047" name="l07047"></a><span class="lineno"> 7047</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::GetPixel (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y))));</div>
<div class="line"><a id="l07048" name="l07048"></a><span class="lineno"> 7048</span>    }</div>
<div class="line"><a id="l07049" name="l07049"></a><span class="lineno"> 7049</span> </div>
<div class="line"><a id="l07050" name="l07050"></a><span class="lineno"> 7050</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07051" name="l07051"></a><span class="lineno"> 7051</span> </div>
<div class="line"><a id="l07052" name="l07052"></a><span class="lineno"> 7052</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1)</div>
<div class="line"><a id="l07053" name="l07053"></a><span class="lineno"> 7053</span>    {</div>
<div class="line"><a id="l07054" name="l07054"></a><span class="lineno"> 7054</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07055" name="l07055"></a><span class="lineno"> 7055</span> </div>
<div class="line"><a id="l07056" name="l07056"></a><span class="lineno"> 7056</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::MoveToEx (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y0), NULL))) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07057" name="l07057"></a><span class="lineno"> 7057</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::LineTo   (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x1), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y1)      ))) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07058" name="l07058"></a><span class="lineno"> 7058</span> </div>
<div class="line"><a id="l07059" name="l07059"></a><span class="lineno"> 7059</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l07060" name="l07060"></a><span class="lineno"> 7060</span>    }</div>
<div class="line"><a id="l07061" name="l07061"></a><span class="lineno"> 7061</span> </div>
<div class="line"><a id="l07062" name="l07062"></a><span class="lineno"> 7062</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07063" name="l07063"></a><span class="lineno"> 7063</span> </div>
<div class="line"><a id="l07064" name="l07064"></a><span class="lineno"> 7064</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga56fe553987cace1e1572b2e64ea46ebc">txRectangle</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1)</div>
<div class="line"><a id="l07065" name="l07065"></a><span class="lineno"> 7065</span>    {</div>
<div class="line"><a id="l07066" name="l07066"></a><span class="lineno"> 7066</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07067" name="l07067"></a><span class="lineno"> 7067</span> </div>
<div class="line"><a id="l07068" name="l07068"></a><span class="lineno"> 7068</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::Rectangle (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x1), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y1)))) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07069" name="l07069"></a><span class="lineno"> 7069</span> </div>
<div class="line"><a id="l07070" name="l07070"></a><span class="lineno"> 7070</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l07071" name="l07071"></a><span class="lineno"> 7071</span>    }</div>
<div class="line"><a id="l07072" name="l07072"></a><span class="lineno"> 7072</span> </div>
<div class="line"><a id="l07073" name="l07073"></a><span class="lineno"> 7073</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07074" name="l07074"></a><span class="lineno"> 7074</span> </div>
<div class="line"><a id="l07075" name="l07075"></a><span class="lineno"> 7075</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga4e872a3d71ac242bd40d614b9c03f86e">txPolygon</a> (<span class="keyword">const</span> POINT points[], <span class="keywordtype">int</span> numPoints)</div>
<div class="line"><a id="l07076" name="l07076"></a><span class="lineno"> 7076</span>    {</div>
<div class="line"><a id="l07077" name="l07077"></a><span class="lineno"> 7077</span>$1  _TX_IF_TXWINDOW_FAILED          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07078" name="l07078"></a><span class="lineno"> 7078</span>$   _TX_IF_ARGUMENT_FAILED (points) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07079" name="l07079"></a><span class="lineno"> 7079</span> </div>
<div class="line"><a id="l07080" name="l07080"></a><span class="lineno"> 7080</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::Polygon (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), points, numPoints)));</div>
<div class="line"><a id="l07081" name="l07081"></a><span class="lineno"> 7081</span>    }</div>
<div class="line"><a id="l07082" name="l07082"></a><span class="lineno"> 7082</span> </div>
<div class="line"><a id="l07083" name="l07083"></a><span class="lineno"> 7083</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07084" name="l07084"></a><span class="lineno"> 7084</span> </div>
<div class="line"><a id="l07085" name="l07085"></a><span class="lineno"> 7085</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga2bd0c5c1f84629e673601464e20ddc1f">txEllipse</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1)</div>
<div class="line"><a id="l07086" name="l07086"></a><span class="lineno"> 7086</span>    {</div>
<div class="line"><a id="l07087" name="l07087"></a><span class="lineno"> 7087</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07088" name="l07088"></a><span class="lineno"> 7088</span> </div>
<div class="line"><a id="l07089" name="l07089"></a><span class="lineno"> 7089</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::Ellipse (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x1), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y1)))) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07090" name="l07090"></a><span class="lineno"> 7090</span> </div>
<div class="line"><a id="l07091" name="l07091"></a><span class="lineno"> 7091</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l07092" name="l07092"></a><span class="lineno"> 7092</span>    }</div>
<div class="line"><a id="l07093" name="l07093"></a><span class="lineno"> 7093</span> </div>
<div class="line"><a id="l07094" name="l07094"></a><span class="lineno"> 7094</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07095" name="l07095"></a><span class="lineno"> 7095</span> </div>
<div class="line"><a id="l07096" name="l07096"></a><span class="lineno"> 7096</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gaa14e9c2a46cf713efaa1f850074d8adc">txCircle</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> r)</div>
<div class="line"><a id="l07097" name="l07097"></a><span class="lineno"> 7097</span>    {</div>
<div class="line"><a id="l07098" name="l07098"></a><span class="lineno"> 7098</span>$1  <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#ga2bd0c5c1f84629e673601464e20ddc1f">txEllipse</a> (x-r, y-r, x+r, y+r);</div>
<div class="line"><a id="l07099" name="l07099"></a><span class="lineno"> 7099</span>    }</div>
<div class="line"><a id="l07100" name="l07100"></a><span class="lineno"> 7100</span> </div>
<div class="line"><a id="l07101" name="l07101"></a><span class="lineno"> 7101</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07102" name="l07102"></a><span class="lineno"> 7102</span> </div>
<div class="line"><a id="l07103" name="l07103"></a><span class="lineno"> 7103</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga7e3759e5f9a708f87ac77ccc1419691e">txArc</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> startAngle, <span class="keywordtype">double</span> totalAngle)</div>
<div class="line"><a id="l07104" name="l07104"></a><span class="lineno"> 7104</span>    {</div>
<div class="line"><a id="l07105" name="l07105"></a><span class="lineno"> 7105</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07106" name="l07106"></a><span class="lineno"> 7106</span> </div>
<div class="line"><a id="l07107" name="l07107"></a><span class="lineno"> 7107</span>$   POINT center = { <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> ((x0 + x1) /2), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> ((y0 + y1) /2) };</div>
<div class="line"><a id="l07108" name="l07108"></a><span class="lineno"> 7108</span> </div>
<div class="line"><a id="l07109" name="l07109"></a><span class="lineno"> 7109</span>$   <span class="keywordtype">double</span> start =  startAngle               * <a class="code hl_variable" href="group___misc.html#gaf59817ad656dcbb3f9baebeb4d7f82f7">txPI</a>/180,</div>
<div class="line"><a id="l07110" name="l07110"></a><span class="lineno"> 7110</span>           end   = (startAngle + totalAngle) * <a class="code hl_variable" href="group___misc.html#gaf59817ad656dcbb3f9baebeb4d7f82f7">txPI</a>/180;</div>
<div class="line"><a id="l07111" name="l07111"></a><span class="lineno"> 7111</span> </div>
<div class="line"><a id="l07112" name="l07112"></a><span class="lineno"> 7112</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::Arc (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x1), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y1),</div>
<div class="line"><a id="l07113" name="l07113"></a><span class="lineno"> 7113</span>                                         <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.x + 1E3*cos (start)), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.y - 1E3*sin (start)),</div>
<div class="line"><a id="l07114" name="l07114"></a><span class="lineno"> 7114</span>                                         <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.x + 1E3*cos (end)),   <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.y - 1E3*sin (end)))));</div>
<div class="line"><a id="l07115" name="l07115"></a><span class="lineno"> 7115</span>    }</div>
<div class="line"><a id="l07116" name="l07116"></a><span class="lineno"> 7116</span> </div>
<div class="line"><a id="l07117" name="l07117"></a><span class="lineno"> 7117</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07118" name="l07118"></a><span class="lineno"> 7118</span> </div>
<div class="line"><a id="l07119" name="l07119"></a><span class="lineno"> 7119</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga100795a6e30f3ed01f04e4d1b01bd918">txPie</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> startAngle, <span class="keywordtype">double</span> totalAngle)</div>
<div class="line"><a id="l07120" name="l07120"></a><span class="lineno"> 7120</span>    {</div>
<div class="line"><a id="l07121" name="l07121"></a><span class="lineno"> 7121</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07122" name="l07122"></a><span class="lineno"> 7122</span> </div>
<div class="line"><a id="l07123" name="l07123"></a><span class="lineno"> 7123</span>$   POINT center = { <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> ((x0 + x1) /2), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> ((y0 + y1) /2) };</div>
<div class="line"><a id="l07124" name="l07124"></a><span class="lineno"> 7124</span> </div>
<div class="line"><a id="l07125" name="l07125"></a><span class="lineno"> 7125</span>$   <span class="keywordtype">double</span> start =  startAngle               * <a class="code hl_variable" href="group___misc.html#gaf59817ad656dcbb3f9baebeb4d7f82f7">txPI</a>/180,</div>
<div class="line"><a id="l07126" name="l07126"></a><span class="lineno"> 7126</span>           end   = (startAngle + totalAngle) * <a class="code hl_variable" href="group___misc.html#gaf59817ad656dcbb3f9baebeb4d7f82f7">txPI</a>/180;</div>
<div class="line"><a id="l07127" name="l07127"></a><span class="lineno"> 7127</span> </div>
<div class="line"><a id="l07128" name="l07128"></a><span class="lineno"> 7128</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::Pie (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x1), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y1),</div>
<div class="line"><a id="l07129" name="l07129"></a><span class="lineno"> 7129</span>                                         <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.x + 1E3*cos (start)), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.y - 1E3*sin (start)),</div>
<div class="line"><a id="l07130" name="l07130"></a><span class="lineno"> 7130</span>                                         <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.x + 1E3*cos (end)),   <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.y - 1E3*sin (end)))));</div>
<div class="line"><a id="l07131" name="l07131"></a><span class="lineno"> 7131</span>    }</div>
<div class="line"><a id="l07132" name="l07132"></a><span class="lineno"> 7132</span> </div>
<div class="line"><a id="l07133" name="l07133"></a><span class="lineno"> 7133</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07134" name="l07134"></a><span class="lineno"> 7134</span> </div>
<div class="line"><a id="l07135" name="l07135"></a><span class="lineno"> 7135</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gaa47cb24ee215e0d2fcb0cf9bcf0b8723">txChord</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> startAngle, <span class="keywordtype">double</span> totalAngle)</div>
<div class="line"><a id="l07136" name="l07136"></a><span class="lineno"> 7136</span>    {</div>
<div class="line"><a id="l07137" name="l07137"></a><span class="lineno"> 7137</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07138" name="l07138"></a><span class="lineno"> 7138</span> </div>
<div class="line"><a id="l07139" name="l07139"></a><span class="lineno"> 7139</span>$   POINT center = { <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> ((x0 + x1) /2), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> ((y0 + y1) /2) };</div>
<div class="line"><a id="l07140" name="l07140"></a><span class="lineno"> 7140</span> </div>
<div class="line"><a id="l07141" name="l07141"></a><span class="lineno"> 7141</span>$   <span class="keywordtype">double</span> start =  startAngle               * <a class="code hl_variable" href="group___misc.html#gaf59817ad656dcbb3f9baebeb4d7f82f7">txPI</a>/180,</div>
<div class="line"><a id="l07142" name="l07142"></a><span class="lineno"> 7142</span>           end   = (startAngle + totalAngle) * <a class="code hl_variable" href="group___misc.html#gaf59817ad656dcbb3f9baebeb4d7f82f7">txPI</a>/180;</div>
<div class="line"><a id="l07143" name="l07143"></a><span class="lineno"> 7143</span> </div>
<div class="line"><a id="l07144" name="l07144"></a><span class="lineno"> 7144</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::Chord (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x1), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y1),</div>
<div class="line"><a id="l07145" name="l07145"></a><span class="lineno"> 7145</span>                                           <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.x + 1E3*cos (start)), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.y - 1E3*sin (start)),</div>
<div class="line"><a id="l07146" name="l07146"></a><span class="lineno"> 7146</span>                                           <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.x + 1E3*cos (end)),   <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (center.y - 1E3*sin (end)))));</div>
<div class="line"><a id="l07147" name="l07147"></a><span class="lineno"> 7147</span>    }</div>
<div class="line"><a id="l07148" name="l07148"></a><span class="lineno"> 7148</span> </div>
<div class="line"><a id="l07149" name="l07149"></a><span class="lineno"> 7149</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07150" name="l07150"></a><span class="lineno"> 7150</span> </div>
<div class="line"><a id="l07151" name="l07151"></a><span class="lineno"> 7151</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga16b68f33ba5a925a58fce0abc99d7213">txFloodFill</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y,</div>
<div class="line"><a id="l07152" name="l07152"></a><span class="lineno"> 7152</span>                  COLORREF color <span class="comment">/*= TX_TRANSPARENT*/</span>, DWORD mode <span class="comment">/*= FLOODFILLSURFACE*/</span>)</div>
<div class="line"><a id="l07153" name="l07153"></a><span class="lineno"> 7153</span>    {</div>
<div class="line"><a id="l07154" name="l07154"></a><span class="lineno"> 7154</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07155" name="l07155"></a><span class="lineno"> 7155</span> </div>
<div class="line"><a id="l07156" name="l07156"></a><span class="lineno"> 7156</span>$   <span class="keywordflow">if</span> (color == <a class="code hl_variable" href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">TX_TRANSPARENT</a>) color = <a class="code hl_function" href="group___drawing.html#ga3d6ff7a642714b236c3837f977795396">txGetPixel</a> (x, y);</div>
<div class="line"><a id="l07157" name="l07157"></a><span class="lineno"> 7157</span> </div>
<div class="line"><a id="l07158" name="l07158"></a><span class="lineno"> 7158</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::ExtFloodFill (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y), color, mode)));</div>
<div class="line"><a id="l07159" name="l07159"></a><span class="lineno"> 7159</span>    }</div>
<div class="line"><a id="l07160" name="l07160"></a><span class="lineno"> 7160</span> </div>
<div class="line"><a id="l07161" name="l07161"></a><span class="lineno"> 7161</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07162" name="l07162"></a><span class="lineno"> 7162</span> </div>
<div class="line"><a id="l07163" name="l07163"></a><span class="lineno"> 7163</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga4eacb78833e54f44243f60ded9fdaf64">txTextOut</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keyword">const</span> <span class="keywordtype">char</span> text[])</div>
<div class="line"><a id="l07164" name="l07164"></a><span class="lineno"> 7164</span>    {</div>
<div class="line"><a id="l07165" name="l07165"></a><span class="lineno"> 7165</span>$1  _TX_IF_TXWINDOW_FAILED        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07166" name="l07166"></a><span class="lineno"> 7166</span>$   _TX_IF_ARGUMENT_FAILED (text) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07167" name="l07167"></a><span class="lineno"> 7167</span> </div>
<div class="line"><a id="l07168" name="l07168"></a><span class="lineno"> 7168</span>$   <span class="keywordtype">int</span> len = (int) strlen (text);</div>
<div class="line"><a id="l07169" name="l07169"></a><span class="lineno"> 7169</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::TextOut (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y), text, len))) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07170" name="l07170"></a><span class="lineno"> 7170</span> </div>
<div class="line"><a id="l07171" name="l07171"></a><span class="lineno"> 7171</span>$   SIZE size = {0};</div>
<div class="line"><a id="l07172" name="l07172"></a><span class="lineno"> 7172</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::GetTextExtentPoint32 (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), text, len, &amp;size))) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07173" name="l07173"></a><span class="lineno"> 7173</span> </div>
<div class="line"><a id="l07174" name="l07174"></a><span class="lineno"> 7174</span>$   RECT r = { <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x + size.cx), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y + size.cy) };</div>
<div class="line"><a id="l07175" name="l07175"></a><span class="lineno"> 7175</span>$   InvalidateRect (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), &amp;r, <span class="keyword">false</span>) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07176" name="l07176"></a><span class="lineno"> 7176</span> </div>
<div class="line"><a id="l07177" name="l07177"></a><span class="lineno"> 7177</span>$   return true;</div>
<div class="line"><a id="l07178" name="l07178"></a><span class="lineno"> 7178</span>    }</div>
<div class="line"><a id="l07179" name="l07179"></a><span class="lineno"> 7179</span> </div>
<div class="line"><a id="l07180" name="l07180"></a><span class="lineno"> 7180</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07181" name="l07181"></a><span class="lineno"> 7181</span> </div>
<div class="line"><a id="l07182" name="l07182"></a><span class="lineno"> 7182</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gae5f1c5f63d862d72883203213786d9f0">txDrawText</a> (<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, const <span class="keywordtype">char</span> text[],</div>
<div class="line"><a id="l07183" name="l07183"></a><span class="lineno"> 7183</span>                 <span class="keywordtype">unsigned</span> format <span class="comment">/*= DT_CENTER | DT_VCENTER | DT_WORDBREAK | DT_WORD_ELLIPSIS*/</span>)</div>
<div class="line"><a id="l07184" name="l07184"></a><span class="lineno"> 7184</span>{</div>
<div class="line"><a id="l07185" name="l07185"></a><span class="lineno"> 7185</span>$1  _TX_IF_TXWINDOW_FAILED        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07186" name="l07186"></a><span class="lineno"> 7186</span>$   _TX_IF_ARGUMENT_FAILED (text) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07187" name="l07187"></a><span class="lineno"> 7187</span> </div>
<div class="line"><a id="l07188" name="l07188"></a><span class="lineno"> 7188</span>$   RECT r = { <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y0), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (x1), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (y1) };</div>
<div class="line"><a id="l07189" name="l07189"></a><span class="lineno"> 7189</span> </div>
<div class="line"><a id="l07190" name="l07190"></a><span class="lineno"> 7190</span>$   <span class="keywordflow">if</span> (!strchr (text, <span class="charliteral">&#39;\n&#39;</span>)) format |= DT_SINGLELINE;</div>
<div class="line"><a id="l07191" name="l07191"></a><span class="lineno"> 7191</span> </div>
<div class="line"><a id="l07192" name="l07192"></a><span class="lineno"> 7192</span>$   <span class="keywordtype">unsigned</span> prev = <a class="code hl_function" href="group___drawing.html#ga5a3cef04fcf688a051a9eafd6c8338a7">txSetTextAlign</a> (TA_LEFT | TA_TOP | TA_NOUPDATECP);</div>
<div class="line"><a id="l07193" name="l07193"></a><span class="lineno"> 7193</span> </div>
<div class="line"><a id="l07194" name="l07194"></a><span class="lineno"> 7194</span>    <span class="keywordflow">if</span> (Win32::DrawText) { $ <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::DrawText (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), text, -1, &amp;r, format))) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>; }</div>
<div class="line"><a id="l07195" name="l07195"></a><span class="lineno"> 7195</span> </div>
<div class="line"><a id="l07196" name="l07196"></a><span class="lineno"> 7196</span>$   <a class="code hl_function" href="group___drawing.html#ga5a3cef04fcf688a051a9eafd6c8338a7">txSetTextAlign</a> (prev);</div>
<div class="line"><a id="l07197" name="l07197"></a><span class="lineno"> 7197</span> </div>
<div class="line"><a id="l07198" name="l07198"></a><span class="lineno"> 7198</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l07199" name="l07199"></a><span class="lineno"> 7199</span>}</div>
<div class="line"><a id="l07200" name="l07200"></a><span class="lineno"> 7200</span> </div>
<div class="line"><a id="l07201" name="l07201"></a><span class="lineno"> 7201</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07202" name="l07202"></a><span class="lineno"> 7202</span> </div>
<div class="line"><a id="l07203" name="l07203"></a><span class="lineno"> 7203</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga9290f4d78a1f2dc5db7892cabe9a2abc">txSelectFont</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> name[], <span class="keywordtype">double</span> sizeY,</div>
<div class="line"><a id="l07204" name="l07204"></a><span class="lineno"> 7204</span>                   <span class="keywordtype">double</span> sizeX     <span class="comment">/*= -1*/</span>,</div>
<div class="line"><a id="l07205" name="l07205"></a><span class="lineno"> 7205</span>                   <span class="keywordtype">int</span>    bold      <span class="comment">/*= FW_DONTCARE*/</span>,</div>
<div class="line"><a id="l07206" name="l07206"></a><span class="lineno"> 7206</span>                   <span class="keywordtype">bool</span>   italic    <span class="comment">/*= false*/</span>,</div>
<div class="line"><a id="l07207" name="l07207"></a><span class="lineno"> 7207</span>                   <span class="keywordtype">bool</span>   underline <span class="comment">/*= false*/</span>,</div>
<div class="line"><a id="l07208" name="l07208"></a><span class="lineno"> 7208</span>                   <span class="keywordtype">bool</span>   strikeout <span class="comment">/*= false*/</span>,</div>
<div class="line"><a id="l07209" name="l07209"></a><span class="lineno"> 7209</span>                   <span class="keywordtype">double</span> angle     <span class="comment">/*= 0*/</span>)</div>
<div class="line"><a id="l07210" name="l07210"></a><span class="lineno"> 7210</span>    {</div>
<div class="line"><a id="l07211" name="l07211"></a><span class="lineno"> 7211</span>$1  _TX_IF_TXWINDOW_FAILED        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07212" name="l07212"></a><span class="lineno"> 7212</span>$   _TX_IF_ARGUMENT_FAILED (name) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07213" name="l07213"></a><span class="lineno"> 7213</span> </div>
<div class="line"><a id="l07214" name="l07214"></a><span class="lineno"> 7214</span>$   _txBuffer_Select (<a class="code hl_function" href="group___drawing.html#ga1dc38c08e812d5f5a3c8f752a97c2bb2">txFontExist</a> (name)?</div>
<div class="line"><a id="l07215" name="l07215"></a><span class="lineno"> 7215</span>                          Win32::CreateFont (<a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (sizeY), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> ((sizeX &gt;= 0)? sizeX : sizeY/3),</div>
<div class="line"><a id="l07216" name="l07216"></a><span class="lineno"> 7216</span>                                             <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (angle*10), 0, bold, italic, underline, strikeout,</div>
<div class="line"><a id="l07217" name="l07217"></a><span class="lineno"> 7217</span>                                             RUSSIAN_CHARSET, OUT_DEFAULT_PRECIS, CLIP_DEFAULT_PRECIS,</div>
<div class="line"><a id="l07218" name="l07218"></a><span class="lineno"> 7218</span>                                             DEFAULT_QUALITY, FIXED_PITCH, name)</div>
<div class="line"><a id="l07219" name="l07219"></a><span class="lineno"> 7219</span>                          :</div>
<div class="line"><a id="l07220" name="l07220"></a><span class="lineno"> 7220</span>                          Win32::GetStockObject (SYSTEM_FIXED_FONT));</div>
<div class="line"><a id="l07221" name="l07221"></a><span class="lineno"> 7221</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l07222" name="l07222"></a><span class="lineno"> 7222</span>    }</div>
<div class="line"><a id="l07223" name="l07223"></a><span class="lineno"> 7223</span> </div>
<div class="line"><a id="l07224" name="l07224"></a><span class="lineno"> 7224</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07225" name="l07225"></a><span class="lineno"> 7225</span> </div>
<div class="line"><a id="l07226" name="l07226"></a><span class="lineno"> 7226</span>SIZE <a class="code hl_function" href="group___drawing.html#ga356c475609cf282310fc336821adf71f">txGetTextExtent</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> text[])</div>
<div class="line"><a id="l07227" name="l07227"></a><span class="lineno"> 7227</span>    {</div>
<div class="line"><a id="l07228" name="l07228"></a><span class="lineno"> 7228</span>$1  SIZE size = {0};</div>
<div class="line"><a id="l07229" name="l07229"></a><span class="lineno"> 7229</span> </div>
<div class="line"><a id="l07230" name="l07230"></a><span class="lineno"> 7230</span>$   _TX_IF_TXWINDOW_FAILED        <span class="keywordflow">return</span> size;</div>
<div class="line"><a id="l07231" name="l07231"></a><span class="lineno"> 7231</span>$   _TX_IF_ARGUMENT_FAILED (text) <span class="keywordflow">return</span> size;</div>
<div class="line"><a id="l07232" name="l07232"></a><span class="lineno"> 7232</span> </div>
<div class="line"><a id="l07233" name="l07233"></a><span class="lineno"> 7233</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::GetTextExtentPoint32 (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), text, (<span class="keywordtype">int</span>) strlen (text), &amp;size))) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07234" name="l07234"></a><span class="lineno"> 7234</span> </div>
<div class="line"><a id="l07235" name="l07235"></a><span class="lineno"> 7235</span>$   <span class="keywordflow">return</span> size;</div>
<div class="line"><a id="l07236" name="l07236"></a><span class="lineno"> 7236</span>    }</div>
<div class="line"><a id="l07237" name="l07237"></a><span class="lineno"> 7237</span> </div>
<div class="line"><a id="l07238" name="l07238"></a><span class="lineno"> 7238</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07239" name="l07239"></a><span class="lineno"> 7239</span> </div>
<div class="line"><a id="l07240" name="l07240"></a><span class="lineno"> 7240</span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gaad385937fb3526c8f4054ae288d285c6">txGetTextExtentX</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> text[])</div>
<div class="line"><a id="l07241" name="l07241"></a><span class="lineno"> 7241</span>    {</div>
<div class="line"><a id="l07242" name="l07242"></a><span class="lineno"> 7242</span>$1  <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#ga356c475609cf282310fc336821adf71f">txGetTextExtent</a> (text) .cx;</div>
<div class="line"><a id="l07243" name="l07243"></a><span class="lineno"> 7243</span>    }</div>
<div class="line"><a id="l07244" name="l07244"></a><span class="lineno"> 7244</span> </div>
<div class="line"><a id="l07245" name="l07245"></a><span class="lineno"> 7245</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07246" name="l07246"></a><span class="lineno"> 7246</span> </div>
<div class="line"><a id="l07247" name="l07247"></a><span class="lineno"> 7247</span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#ga3a34e3baf660b310f6ca0d373f36c024">txGetTextExtentY</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> text[])</div>
<div class="line"><a id="l07248" name="l07248"></a><span class="lineno"> 7248</span>    {</div>
<div class="line"><a id="l07249" name="l07249"></a><span class="lineno"> 7249</span>$1  <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#ga356c475609cf282310fc336821adf71f">txGetTextExtent</a> (text) .cy;</div>
<div class="line"><a id="l07250" name="l07250"></a><span class="lineno"> 7250</span>    }</div>
<div class="line"><a id="l07251" name="l07251"></a><span class="lineno"> 7251</span> </div>
<div class="line"><a id="l07252" name="l07252"></a><span class="lineno"> 7252</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07253" name="l07253"></a><span class="lineno"> 7253</span> </div>
<div class="line"><a id="l07254" name="l07254"></a><span class="lineno"> 7254</span><span class="keywordtype">unsigned</span> <a class="code hl_function" href="group___drawing.html#ga5a3cef04fcf688a051a9eafd6c8338a7">txSetTextAlign</a> (<span class="keywordtype">unsigned</span> align <span class="comment">/*= TA_CENTER | TA_BASELINE*/</span>)</div>
<div class="line"><a id="l07255" name="l07255"></a><span class="lineno"> 7255</span>    {</div>
<div class="line"><a id="l07256" name="l07256"></a><span class="lineno"> 7256</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07257" name="l07257"></a><span class="lineno"> 7257</span> </div>
<div class="line"><a id="l07258" name="l07258"></a><span class="lineno"> 7258</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::SetTextAlign (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), align)));</div>
<div class="line"><a id="l07259" name="l07259"></a><span class="lineno"> 7259</span>    }</div>
<div class="line"><a id="l07260" name="l07260"></a><span class="lineno"> 7260</span> </div>
<div class="line"><a id="l07261" name="l07261"></a><span class="lineno"> 7261</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07262" name="l07262"></a><span class="lineno"> 7262</span> </div>
<div class="line"><a id="l07263" name="l07263"></a><span class="lineno"> 7263</span>LOGFONT* <a class="code hl_function" href="group___drawing.html#ga1dc38c08e812d5f5a3c8f752a97c2bb2">txFontExist</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> name[])</div>
<div class="line"><a id="l07264" name="l07264"></a><span class="lineno"> 7264</span>    {</div>
<div class="line"><a id="l07265" name="l07265"></a><span class="lineno"> 7265</span>$1  _TX_IF_TXWINDOW_FAILED        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l07266" name="l07266"></a><span class="lineno"> 7266</span>$   _TX_IF_ARGUMENT_FAILED (name) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l07267" name="l07267"></a><span class="lineno"> 7267</span> </div>
<div class="line"><a id="l07268" name="l07268"></a><span class="lineno"> 7268</span>$   <span class="keyword">static</span> LOGFONT font = {0};</div>
<div class="line"><a id="l07269" name="l07269"></a><span class="lineno"> 7269</span>$   font.lfCharSet = DEFAULT_CHARSET;</div>
<div class="line"><a id="l07270" name="l07270"></a><span class="lineno"> 7270</span>$   strncpy_s (font.lfFaceName, name, sizeof (font.lfFaceName) - 1);</div>
<div class="line"><a id="l07271" name="l07271"></a><span class="lineno"> 7271</span> </div>
<div class="line"><a id="l07272" name="l07272"></a><span class="lineno"> 7272</span>$   <span class="keyword">struct </span>tools</div>
<div class="line"><a id="l07273" name="l07273"></a><span class="lineno"> 7273</span>        {</div>
<div class="line"><a id="l07274" name="l07274"></a><span class="lineno"> 7274</span>        <span class="keyword">static</span> <span class="keywordtype">int</span> CALLBACK enumFonts (<span class="keyword">const</span> LOGFONT* fnt, <span class="keyword">const</span> TEXTMETRIC*, DWORD, LPARAM data)</div>
<div class="line"><a id="l07275" name="l07275"></a><span class="lineno"> 7275</span>            {</div>
<div class="line"><a id="l07276" name="l07276"></a><span class="lineno"> 7276</span>$           _TX_IF_ARGUMENT_FAILED (fnt)  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07277" name="l07277"></a><span class="lineno"> 7277</span>$           _TX_IF_ARGUMENT_FAILED (data) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07278" name="l07278"></a><span class="lineno"> 7278</span> </div>
<div class="line"><a id="l07279" name="l07279"></a><span class="lineno"> 7279</span><span class="preprocessor">            #ifndef __STRICT_ANSI__</span></div>
<div class="line"><a id="l07280" name="l07280"></a><span class="lineno"> 7280</span>$           <span class="keywordflow">return</span> _strnicmp (fnt-&gt;lfFaceName, ((LOGFONT*)data)-&gt;lfFaceName, LF_FACESIZE);</div>
<div class="line"><a id="l07281" name="l07281"></a><span class="lineno"> 7281</span> </div>
<div class="line"><a id="l07282" name="l07282"></a><span class="lineno"> 7282</span><span class="preprocessor">            #else</span></div>
<div class="line"><a id="l07283" name="l07283"></a><span class="lineno"> 7283</span>$           <span class="keywordflow">return</span>  strncmp  (fnt-&gt;lfFaceName, ((LOGFONT*)data)-&gt;lfFaceName, LF_FACESIZE);</div>
<div class="line"><a id="l07284" name="l07284"></a><span class="lineno"> 7284</span> </div>
<div class="line"><a id="l07285" name="l07285"></a><span class="lineno"> 7285</span><span class="preprocessor">            #endif</span></div>
<div class="line"><a id="l07286" name="l07286"></a><span class="lineno"> 7286</span>            }</div>
<div class="line"><a id="l07287" name="l07287"></a><span class="lineno"> 7287</span>        };</div>
<div class="line"><a id="l07288" name="l07288"></a><span class="lineno"> 7288</span> </div>
<div class="line"><a id="l07289" name="l07289"></a><span class="lineno"> 7289</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> ((Win32::EnumFontFamiliesEx (<a class="code hl_function" href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a>(), &amp;font, tools::enumFonts, (LPARAM) &amp;font, 0))) == 0? &amp;font : NULL;</div>
<div class="line"><a id="l07290" name="l07290"></a><span class="lineno"> 7290</span>    }</div>
<div class="line"><a id="l07291" name="l07291"></a><span class="lineno"> 7291</span> </div>
<div class="line"><a id="l07292" name="l07292"></a><span class="lineno"> 7292</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07293" name="l07293"></a><span class="lineno"> 7293</span> </div>
<div class="line"><a id="l07294" name="l07294"></a><span class="lineno"> 7294</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gad4ee4d2a16f8f38412e0e7b1c380bf4d">txSelectObject</a> (HGDIOBJ obj)</div>
<div class="line"><a id="l07295" name="l07295"></a><span class="lineno"> 7295</span>    {</div>
<div class="line"><a id="l07296" name="l07296"></a><span class="lineno"> 7296</span>$1  _TX_IF_TXWINDOW_FAILED       <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07297" name="l07297"></a><span class="lineno"> 7297</span>$   _TX_IF_ARGUMENT_FAILED (obj) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07298" name="l07298"></a><span class="lineno"> 7298</span> </div>
<div class="line"><a id="l07299" name="l07299"></a><span class="lineno"> 7299</span>$   <span class="keywordflow">return</span> _txBuffer_Select (obj);</div>
<div class="line"><a id="l07300" name="l07300"></a><span class="lineno"> 7300</span>    }</div>
<div class="line"><a id="l07301" name="l07301"></a><span class="lineno"> 7301</span> </div>
<div class="line"><a id="l07302" name="l07302"></a><span class="lineno"> 7302</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07303" name="l07303"></a><span class="lineno"> 7303</span> </div>
<div class="line"><a id="l07304" name="l07304"></a><span class="lineno"> 7304</span>HDC <a class="code hl_function" href="group___drawing.html#ga2f1b4b81b2b9280bb58c2d79930e2a63">txCreateCompatibleDC</a> (<span class="keywordtype">double</span> sizeX, <span class="keywordtype">double</span> sizeY, HBITMAP bitmap <span class="comment">/*= NULL*/</span>)</div>
<div class="line"><a id="l07305" name="l07305"></a><span class="lineno"> 7305</span>    {</div>
<div class="line"><a id="l07306" name="l07306"></a><span class="lineno"> 7306</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l07307" name="l07307"></a><span class="lineno"> 7307</span> </div>
<div class="line"><a id="l07308" name="l07308"></a><span class="lineno"> 7308</span>$   POINT size = { <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (sizeX), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (sizeY) };</div>
<div class="line"><a id="l07309" name="l07309"></a><span class="lineno"> 7309</span>$   HDC dc = _txBuffer_Create (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), &amp;size, bitmap);</div>
<div class="line"><a id="l07310" name="l07310"></a><span class="lineno"> 7310</span>$   <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (dc); <span class="keywordflow">if</span> (!dc) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l07311" name="l07311"></a><span class="lineno"> 7311</span> </div>
<div class="line"><a id="l07312" name="l07312"></a><span class="lineno"> 7312</span>$   <span class="keywordflow">if</span> (!_txCanvas_UserDCs) <span class="keywordflow">return</span> dc;</div>
<div class="line"><a id="l07313" name="l07313"></a><span class="lineno"> 7313</span> </div>
<div class="line"><a id="l07314" name="l07314"></a><span class="lineno"> 7314</span>$   <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a> _lock;</div>
<div class="line"><a id="l07315" name="l07315"></a><span class="lineno"> 7315</span>$   _txCanvas_UserDCs-&gt;push_back (dc);</div>
<div class="line"><a id="l07316" name="l07316"></a><span class="lineno"> 7316</span> </div>
<div class="line"><a id="l07317" name="l07317"></a><span class="lineno"> 7317</span>$   <span class="keywordflow">if</span> (_txCanvas_UserDCs-&gt;size() &gt;= <a class="code hl_variable" href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a>)</div>
<div class="line"><a id="l07318" name="l07318"></a><span class="lineno"> 7318</span>        { $ <a class="code hl_function" href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577">txNotifyIcon</a> (NIIF_WARNING, NULL, <span class="stringliteral">&quot;   %d HDC,    .&quot;</span>, (<span class="keywordtype">int</span>) _txCanvas_UserDCs-&gt;size()); }</div>
<div class="line"><a id="l07319" name="l07319"></a><span class="lineno"> 7319</span> </div>
<div class="line"><a id="l07320" name="l07320"></a><span class="lineno"> 7320</span>$   <span class="keywordflow">return</span> dc;</div>
<div class="line"><a id="l07321" name="l07321"></a><span class="lineno"> 7321</span>    }</div>
<div class="line"><a id="l07322" name="l07322"></a><span class="lineno"> 7322</span> </div>
<div class="line"><a id="l07323" name="l07323"></a><span class="lineno"> 7323</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07324" name="l07324"></a><span class="lineno"> 7324</span> </div>
<div class="line"><a id="l07325" name="l07325"></a><span class="lineno"> 7325</span>HDC <a class="code hl_function" href="group___drawing.html#ga28123a5be2ad65c41550ccb558138476">txLoadImage</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> filename[], <span class="keywordtype">unsigned</span> imageFlags <span class="comment">/*= IMAGE_BITMAP*/</span>, <span class="keywordtype">unsigned</span> loadFlags <span class="comment">/*= LR_LOADFROMFILE*/</span>)</div>
<div class="line"><a id="l07326" name="l07326"></a><span class="lineno"> 7326</span>    {</div>
<div class="line"><a id="l07327" name="l07327"></a><span class="lineno"> 7327</span>$1  _TX_IF_TXWINDOW_FAILED                         <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l07328" name="l07328"></a><span class="lineno"> 7328</span>$   _TX_IF_ARGUMENT_FAILED (filename &amp;&amp; *filename) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l07329" name="l07329"></a><span class="lineno"> 7329</span> </div>
<div class="line"><a id="l07330" name="l07330"></a><span class="lineno"> 7330</span>$   HBITMAP image = (HBITMAP) Win32::LoadImage ((loadFlags &amp; LR_LOADFROMFILE)? NULL : GetModuleHandle (NULL),</div>
<div class="line"><a id="l07331" name="l07331"></a><span class="lineno"> 7331</span>                                                 filename, imageFlags, 0, 0, loadFlags);</div>
<div class="line"><a id="l07332" name="l07332"></a><span class="lineno"> 7332</span>$   <span class="keywordflow">if</span> (!image) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l07333" name="l07333"></a><span class="lineno"> 7333</span> </div>
<div class="line"><a id="l07334" name="l07334"></a><span class="lineno"> 7334</span>$   HDC dc = <a class="code hl_function" href="group___drawing.html#ga2f1b4b81b2b9280bb58c2d79930e2a63">txCreateCompatibleDC</a> (0, 0, image);</div>
<div class="line"><a id="l07335" name="l07335"></a><span class="lineno"> 7335</span> </div>
<div class="line"><a id="l07336" name="l07336"></a><span class="lineno"> 7336</span>$   <span class="keywordflow">if</span> (!(loadFlags &amp; LR_LOADFROMFILE)) <span class="keywordflow">return</span> dc;</div>
<div class="line"><a id="l07337" name="l07337"></a><span class="lineno"> 7337</span> </div>
<div class="line"><a id="l07338" name="l07338"></a><span class="lineno"> 7338</span>$   <span class="keyword">static</span> std::map &lt;std::string, unsigned&gt; loadTimes;</div>
<div class="line"><a id="l07339" name="l07339"></a><span class="lineno"> 7339</span>$   std::string file = filename;</div>
<div class="line"><a id="l07340" name="l07340"></a><span class="lineno"> 7340</span>$   <span class="keywordtype">unsigned</span> time    = GetTickCount();</div>
<div class="line"><a id="l07341" name="l07341"></a><span class="lineno"> 7341</span> </div>
<div class="line"><a id="l07342" name="l07342"></a><span class="lineno"> 7342</span>$   <span class="keywordflow">if</span> ((<span class="keywordtype">long</span>) (time - loadTimes [file]) &lt; <a class="code hl_variable" href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a>)</div>
<div class="line"><a id="l07343" name="l07343"></a><span class="lineno"> 7343</span>        { $ <a class="code hl_function" href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577">txNotifyIcon</a> (NIIF_WARNING, NULL, <span class="stringliteral">&quot;  \&quot;%s\&quot;  ,   .&quot;</span>, filename); }</div>
<div class="line"><a id="l07344" name="l07344"></a><span class="lineno"> 7344</span> </div>
<div class="line"><a id="l07345" name="l07345"></a><span class="lineno"> 7345</span>$   loadTimes [file] = time;</div>
<div class="line"><a id="l07346" name="l07346"></a><span class="lineno"> 7346</span> </div>
<div class="line"><a id="l07347" name="l07347"></a><span class="lineno"> 7347</span>$   <span class="keywordflow">return</span> dc;</div>
<div class="line"><a id="l07348" name="l07348"></a><span class="lineno"> 7348</span>    }</div>
<div class="line"><a id="l07349" name="l07349"></a><span class="lineno"> 7349</span> </div>
<div class="line"><a id="l07350" name="l07350"></a><span class="lineno"> 7350</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07351" name="l07351"></a><span class="lineno"> 7351</span> </div>
<div class="line"><a id="l07352" name="l07352"></a><span class="lineno"> 7352</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga505f212582bf9b2bf95a4ef15f84af42">txDeleteDC</a> (HDC* pdc)</div>
<div class="line"><a id="l07353" name="l07353"></a><span class="lineno"> 7353</span>    {</div>
<div class="line"><a id="l07354" name="l07354"></a><span class="lineno"> 7354</span>$1  _TX_IF_TXWINDOW_FAILED       <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07355" name="l07355"></a><span class="lineno"> 7355</span>$   _TX_IF_ARGUMENT_FAILED (pdc) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07356" name="l07356"></a><span class="lineno"> 7356</span> </div>
<div class="line"><a id="l07357" name="l07357"></a><span class="lineno"> 7357</span>$   HDC  dc = *pdc;</div>
<div class="line"><a id="l07358" name="l07358"></a><span class="lineno"> 7358</span>$   <span class="keywordtype">bool</span> ok = _txBuffer_Delete (pdc);</div>
<div class="line"><a id="l07359" name="l07359"></a><span class="lineno"> 7359</span>$   <span class="keywordflow">if</span> (!ok) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07360" name="l07360"></a><span class="lineno"> 7360</span> </div>
<div class="line"><a id="l07361" name="l07361"></a><span class="lineno"> 7361</span>$   <span class="keywordflow">if</span> (!_txCanvas_UserDCs) <span class="keywordflow">return</span> ok;</div>
<div class="line"><a id="l07362" name="l07362"></a><span class="lineno"> 7362</span> </div>
<div class="line"><a id="l07363" name="l07363"></a><span class="lineno"> 7363</span>$   <a class="code hl_class" href="classtx_auto_lock.html">txAutoLock</a> _lock;</div>
<div class="line"><a id="l07364" name="l07364"></a><span class="lineno"> 7364</span>$   std::vector &lt;HDC&gt; ::iterator i = std::find (_txCanvas_UserDCs-&gt;begin(), _txCanvas_UserDCs-&gt;end(), dc);</div>
<div class="line"><a id="l07365" name="l07365"></a><span class="lineno"> 7365</span>$   <span class="keywordflow">if</span> (i != _txCanvas_UserDCs-&gt;end()) { std::swap (*i, _txCanvas_UserDCs-&gt;back()); _txCanvas_UserDCs-&gt;pop_back(); }</div>
<div class="line"><a id="l07366" name="l07366"></a><span class="lineno"> 7366</span> </div>
<div class="line"><a id="l07367" name="l07367"></a><span class="lineno"> 7367</span>$   <span class="keywordflow">return</span> ok;</div>
<div class="line"><a id="l07368" name="l07368"></a><span class="lineno"> 7368</span>    }</div>
<div class="line"><a id="l07369" name="l07369"></a><span class="lineno"> 7369</span> </div>
<div class="line"><a id="l07370" name="l07370"></a><span class="lineno"> 7370</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07371" name="l07371"></a><span class="lineno"> 7371</span> </div>
<div class="line"><a id="l07372" name="l07372"></a><span class="lineno"> 7372</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga505f212582bf9b2bf95a4ef15f84af42">txDeleteDC</a> (HDC dc)</div>
<div class="line"><a id="l07373" name="l07373"></a><span class="lineno"> 7373</span>    {</div>
<div class="line"><a id="l07374" name="l07374"></a><span class="lineno"> 7374</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07375" name="l07375"></a><span class="lineno"> 7375</span> </div>
<div class="line"><a id="l07376" name="l07376"></a><span class="lineno"> 7376</span>$   <span class="keywordflow">return</span> <a class="code hl_function" href="group___drawing.html#ga505f212582bf9b2bf95a4ef15f84af42">txDeleteDC</a> (&amp;dc);</div>
<div class="line"><a id="l07377" name="l07377"></a><span class="lineno"> 7377</span>    }</div>
<div class="line"><a id="l07378" name="l07378"></a><span class="lineno"> 7378</span> </div>
<div class="line"><a id="l07379" name="l07379"></a><span class="lineno"> 7379</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07380" name="l07380"></a><span class="lineno"> 7380</span> </div>
<div class="line"><a id="l07381" name="l07381"></a><span class="lineno"> 7381</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga09488931ddf7b1e7e0b31529e1904887">txBitBlt</a> (HDC dest, <span class="keywordtype">double</span> xDest, <span class="keywordtype">double</span> yDest, <span class="keywordtype">double</span> width, <span class="keywordtype">double</span> height,</div>
<div class="line"><a id="l07382" name="l07382"></a><span class="lineno"> 7382</span>               HDC src,  <span class="keywordtype">double</span> xSrc <span class="comment">/*= 0*/</span>, <span class="keywordtype">double</span> ySrc <span class="comment">/*= 0*/</span>, DWORD rOp <span class="comment">/*= SRCCOPY*/</span>)</div>
<div class="line"><a id="l07383" name="l07383"></a><span class="lineno"> 7383</span>    {</div>
<div class="line"><a id="l07384" name="l07384"></a><span class="lineno"> 7384</span>$1  _TX_IF_TXWINDOW_FAILED        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07385" name="l07385"></a><span class="lineno"> 7385</span>$   _TX_IF_ARGUMENT_FAILED (dest) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07386" name="l07386"></a><span class="lineno"> 7386</span>$   _TX_IF_ARGUMENT_FAILED (src)  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07387" name="l07387"></a><span class="lineno"> 7387</span> </div>
<div class="line"><a id="l07388" name="l07388"></a><span class="lineno"> 7388</span>$   <span class="keywordflow">return</span> <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::BitBlt (dest, <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (yDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (width), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (height),</div>
<div class="line"><a id="l07389" name="l07389"></a><span class="lineno"> 7389</span>                                    src,  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xSrc),  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (ySrc),  rOp)));</div>
<div class="line"><a id="l07390" name="l07390"></a><span class="lineno"> 7390</span>    }</div>
<div class="line"><a id="l07391" name="l07391"></a><span class="lineno"> 7391</span> </div>
<div class="line"><a id="l07392" name="l07392"></a><span class="lineno"> 7392</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07393" name="l07393"></a><span class="lineno"> 7393</span> </div>
<div class="line"><a id="l07394" name="l07394"></a><span class="lineno"> 7394</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gab4b1096971ee1f427e9f0211c2b2dea4">txTransparentBlt</a> (HDC dest, <span class="keywordtype">double</span> xDest, <span class="keywordtype">double</span> yDest, <span class="keywordtype">double</span> width, <span class="keywordtype">double</span> height,</div>
<div class="line"><a id="l07395" name="l07395"></a><span class="lineno"> 7395</span>                       HDC src,  <span class="keywordtype">double</span> xSrc <span class="comment">/*= 0*/</span>, <span class="keywordtype">double</span> ySrc <span class="comment">/*= 0*/</span>, COLORREF transColor <span class="comment">/*= TX_BLACK*/</span>)</div>
<div class="line"><a id="l07396" name="l07396"></a><span class="lineno"> 7396</span>    {</div>
<div class="line"><a id="l07397" name="l07397"></a><span class="lineno"> 7397</span>$1  _TX_IF_TXWINDOW_FAILED        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07398" name="l07398"></a><span class="lineno"> 7398</span>$   _TX_IF_ARGUMENT_FAILED (dest) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07399" name="l07399"></a><span class="lineno"> 7399</span>$   _TX_IF_ARGUMENT_FAILED (src)  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07400" name="l07400"></a><span class="lineno"> 7400</span> </div>
<div class="line"><a id="l07401" name="l07401"></a><span class="lineno"> 7401</span>$   <span class="keywordflow">return</span> (Win32::TransparentBlt)?</div>
<div class="line"><a id="l07402" name="l07402"></a><span class="lineno"> 7402</span>        <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::TransparentBlt (dest, <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (yDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (width), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (height),</div>
<div class="line"><a id="l07403" name="l07403"></a><span class="lineno"> 7403</span>                                         src,  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xSrc),  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (ySrc),  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (width), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (height), transColor)))</div>
<div class="line"><a id="l07404" name="l07404"></a><span class="lineno"> 7404</span>    :</div>
<div class="line"><a id="l07405" name="l07405"></a><span class="lineno"> 7405</span>        <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::BitBlt         (dest, <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (yDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (width), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (height),</div>
<div class="line"><a id="l07406" name="l07406"></a><span class="lineno"> 7406</span>                                         src,  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xSrc),  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (ySrc),  SRCCOPY))), false;</div>
<div class="line"><a id="l07407" name="l07407"></a><span class="lineno"> 7407</span>    }</div>
<div class="line"><a id="l07408" name="l07408"></a><span class="lineno"> 7408</span> </div>
<div class="line"><a id="l07409" name="l07409"></a><span class="lineno"> 7409</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07410" name="l07410"></a><span class="lineno"> 7410</span> </div>
<div class="line"><a id="l07411" name="l07411"></a><span class="lineno"> 7411</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gad2a44daaf97dccd615e2754930bd8245">txAlphaBlend</a> (HDC dest, <span class="keywordtype">double</span> xDest, <span class="keywordtype">double</span> yDest, <span class="keywordtype">double</span> width, <span class="keywordtype">double</span> height,</div>
<div class="line"><a id="l07412" name="l07412"></a><span class="lineno"> 7412</span>                   HDC src,  <span class="keywordtype">double</span> xSrc <span class="comment">/*= 0*/</span>, <span class="keywordtype">double</span> ySrc <span class="comment">/*= 0*/</span>, <span class="keywordtype">double</span> alpha <span class="comment">/*= 1.0*/</span>)</div>
<div class="line"><a id="l07413" name="l07413"></a><span class="lineno"> 7413</span>    {</div>
<div class="line"><a id="l07414" name="l07414"></a><span class="lineno"> 7414</span>$1  _TX_IF_TXWINDOW_FAILED        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07415" name="l07415"></a><span class="lineno"> 7415</span>$   _TX_IF_ARGUMENT_FAILED (dest) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07416" name="l07416"></a><span class="lineno"> 7416</span>$   _TX_IF_ARGUMENT_FAILED (src)  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07417" name="l07417"></a><span class="lineno"> 7417</span> </div>
<div class="line"><a id="l07418" name="l07418"></a><span class="lineno"> 7418</span>$   <span class="keywordflow">if</span> (alpha &lt; 0) alpha = 0;</div>
<div class="line"><a id="l07419" name="l07419"></a><span class="lineno"> 7419</span>$   <span class="keywordflow">if</span> (alpha &gt; 1) alpha = 1;</div>
<div class="line"><a id="l07420" name="l07420"></a><span class="lineno"> 7420</span> </div>
<div class="line"><a id="l07421" name="l07421"></a><span class="lineno"> 7421</span>$   BLENDFUNCTION blend = { AC_SRC_OVER, 0, (BYTE) <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (alpha * 255), AC_SRC_ALPHA };</div>
<div class="line"><a id="l07422" name="l07422"></a><span class="lineno"> 7422</span> </div>
<div class="line"><a id="l07423" name="l07423"></a><span class="lineno"> 7423</span>$   <span class="keywordflow">return</span> (Win32::AlphaBlend)?</div>
<div class="line"><a id="l07424" name="l07424"></a><span class="lineno"> 7424</span>        <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::AlphaBlend (dest, <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (yDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (width), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (height),</div>
<div class="line"><a id="l07425" name="l07425"></a><span class="lineno"> 7425</span>                                     src,  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xSrc),  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (ySrc),  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (width), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (height), blend)))</div>
<div class="line"><a id="l07426" name="l07426"></a><span class="lineno"> 7426</span>    :</div>
<div class="line"><a id="l07427" name="l07427"></a><span class="lineno"> 7427</span>        <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (!!(Win32::BitBlt     (dest, <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (yDest), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (width), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (height),</div>
<div class="line"><a id="l07428" name="l07428"></a><span class="lineno"> 7428</span>                                     src,  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (xSrc),  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (ySrc),  SRCCOPY))), false;</div>
<div class="line"><a id="l07429" name="l07429"></a><span class="lineno"> 7429</span>    }</div>
<div class="line"><a id="l07430" name="l07430"></a><span class="lineno"> 7430</span> </div>
<div class="line"><a id="l07431" name="l07431"></a><span class="lineno"> 7431</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07432" name="l07432"></a><span class="lineno"> 7432</span> </div>
<div class="line"><a id="l07433" name="l07433"></a><span class="lineno"> 7433</span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41">txUpdateWindow</a> (<span class="keywordtype">int</span> update <span class="comment">/*= true*/</span>)</div>
<div class="line"><a id="l07434" name="l07434"></a><span class="lineno"> 7434</span>    {</div>
<div class="line"><a id="l07435" name="l07435"></a><span class="lineno"> 7435</span>$1  <span class="keywordflow">return</span> _txCanvas_SetRefreshLock (update &gt;= 0? !update : -update);</div>
<div class="line"><a id="l07436" name="l07436"></a><span class="lineno"> 7436</span>    }</div>
<div class="line"><a id="l07437" name="l07437"></a><span class="lineno"> 7437</span> </div>
<div class="line"><a id="l07438" name="l07438"></a><span class="lineno"> 7438</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07439" name="l07439"></a><span class="lineno"> 7439</span> </div>
<div class="line"><a id="l07440" name="l07440"></a><span class="lineno"> 7440</span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gae92e621aaed81f90e4d142356e38762a">txBegin</a>()</div>
<div class="line"><a id="l07441" name="l07441"></a><span class="lineno"> 7441</span>    {</div>
<div class="line"><a id="l07442" name="l07442"></a><span class="lineno"> 7442</span>$1  _txCanvas_SetRefreshLock (_txCanvas_RefreshLock + 1);</div>
<div class="line"><a id="l07443" name="l07443"></a><span class="lineno"> 7443</span> </div>
<div class="line"><a id="l07444" name="l07444"></a><span class="lineno"> 7444</span>$   <span class="keywordflow">return</span> _txCanvas_RefreshLock;</div>
<div class="line"><a id="l07445" name="l07445"></a><span class="lineno"> 7445</span>    }</div>
<div class="line"><a id="l07446" name="l07446"></a><span class="lineno"> 7446</span> </div>
<div class="line"><a id="l07447" name="l07447"></a><span class="lineno"> 7447</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07448" name="l07448"></a><span class="lineno"> 7448</span> </div>
<div class="line"><a id="l07449" name="l07449"></a><span class="lineno"> 7449</span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#ga809dc04afd5348247846ee01ce9a06e6">txEnd</a>()</div>
<div class="line"><a id="l07450" name="l07450"></a><span class="lineno"> 7450</span>    {</div>
<div class="line"><a id="l07451" name="l07451"></a><span class="lineno"> 7451</span>$1  _txCanvas_SetRefreshLock (_txCanvas_RefreshLock - 1);</div>
<div class="line"><a id="l07452" name="l07452"></a><span class="lineno"> 7452</span> </div>
<div class="line"><a id="l07453" name="l07453"></a><span class="lineno"> 7453</span>$   <span class="keywordflow">return</span> _txCanvas_RefreshLock;</div>
<div class="line"><a id="l07454" name="l07454"></a><span class="lineno"> 7454</span>    }</div>
<div class="line"><a id="l07455" name="l07455"></a><span class="lineno"> 7455</span> </div>
<div class="line"><a id="l07456" name="l07456"></a><span class="lineno"> 7456</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07457" name="l07457"></a><span class="lineno"> 7457</span> </div>
<div class="line"><a id="l07458" name="l07458"></a><span class="lineno"> 7458</span><span class="keywordtype">double</span> <a class="code hl_function" href="group___drawing.html#ga56227ddccbe156355eaca50264bf3334">txSleep</a> (<span class="keywordtype">double</span> time)</div>
<div class="line"><a id="l07459" name="l07459"></a><span class="lineno"> 7459</span>    {</div>
<div class="line"><a id="l07460" name="l07460"></a><span class="lineno"> 7460</span>$1  LARGE_INTEGER start = {{0}};</div>
<div class="line"><a id="l07461" name="l07461"></a><span class="lineno"> 7461</span>$   QueryPerformanceCounter (&amp;start) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07462" name="l07462"></a><span class="lineno"> 7462</span> </div>
<div class="line"><a id="l07463" name="l07463"></a><span class="lineno"> 7463</span>$   LARGE_INTEGER freq = {{0}};</div>
<div class="line"><a id="l07464" name="l07464"></a><span class="lineno"> 7464</span>$   QueryPerformanceFrequency (&amp;freq) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07465" name="l07465"></a><span class="lineno"> 7465</span> </div>
<div class="line"><a id="l07466" name="l07466"></a><span class="lineno"> 7466</span>$   <span class="keywordtype">int</span> lock = _txCanvas_RefreshLock;</div>
<div class="line"><a id="l07467" name="l07467"></a><span class="lineno"> 7467</span>$   _txCanvas_RefreshLock = 0;</div>
<div class="line"><a id="l07468" name="l07468"></a><span class="lineno"> 7468</span> </div>
<div class="line"><a id="l07469" name="l07469"></a><span class="lineno"> 7469</span>$   HWND wnd = <a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>();</div>
<div class="line"><a id="l07470" name="l07470"></a><span class="lineno"> 7470</span>    <span class="keywordflow">if</span> (wnd) { $ RedrawWindow (wnd, NULL, NULL, RDW_INVALIDATE | RDW_INTERNALPAINT | RDW_UPDATENOW) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>; }</div>
<div class="line"><a id="l07471" name="l07471"></a><span class="lineno"> 7471</span> </div>
<div class="line"><a id="l07472" name="l07472"></a><span class="lineno"> 7472</span>$   Sleep (<a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (time));</div>
<div class="line"><a id="l07473" name="l07473"></a><span class="lineno"> 7473</span> </div>
<div class="line"><a id="l07474" name="l07474"></a><span class="lineno"> 7474</span>$   _txCanvas_RefreshLock = lock;</div>
<div class="line"><a id="l07475" name="l07475"></a><span class="lineno"> 7475</span> </div>
<div class="line"><a id="l07476" name="l07476"></a><span class="lineno"> 7476</span>$   LARGE_INTEGER stop = {{0}};</div>
<div class="line"><a id="l07477" name="l07477"></a><span class="lineno"> 7477</span>$   QueryPerformanceCounter (&amp;stop) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07478" name="l07478"></a><span class="lineno"> 7478</span> </div>
<div class="line"><a id="l07479" name="l07479"></a><span class="lineno"> 7479</span>$   <span class="keywordflow">return</span> 1000.0 * (double) (stop.QuadPart - start.QuadPart) / (double) freq.QuadPart;</div>
<div class="line"><a id="l07480" name="l07480"></a><span class="lineno"> 7480</span>    }</div>
<div class="line"><a id="l07481" name="l07481"></a><span class="lineno"> 7481</span> </div>
<div class="line"><a id="l07482" name="l07482"></a><span class="lineno"> 7482</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07483" name="l07483"></a><span class="lineno"> 7483</span> </div>
<div class="line"><a id="l07484" name="l07484"></a><span class="lineno"> 7484</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2">txLock</a> (<span class="keywordtype">bool</span> wait <span class="comment">/*= true*/</span>)</div>
<div class="line"><a id="l07485" name="l07485"></a><span class="lineno"> 7485</span>    {</div>
<div class="line"><a id="l07486" name="l07486"></a><span class="lineno"> 7486</span>$1  <span class="keywordflow">if</span> (_txCanvas_RefreshLock &lt;= 0 || _txExit) Sleep (0);</div>
<div class="line"><a id="l07487" name="l07487"></a><span class="lineno"> 7487</span> </div>
<div class="line"><a id="l07488" name="l07488"></a><span class="lineno"> 7488</span>$   <span class="keywordflow">if</span> (wait) { $ <span class="keywordflow">return</span>      EnterCriticalSection (&amp;_txCanvas_LockBackBuf), <span class="keyword">true</span>; }</div>
<div class="line"><a id="l07489" name="l07489"></a><span class="lineno"> 7489</span>    <span class="keywordflow">else</span>      { $ <span class="keywordflow">return</span> !!TryEnterCriticalSection (&amp;_txCanvas_LockBackBuf);       }</div>
<div class="line"><a id="l07490" name="l07490"></a><span class="lineno"> 7490</span>    }</div>
<div class="line"><a id="l07491" name="l07491"></a><span class="lineno"> 7491</span> </div>
<div class="line"><a id="l07492" name="l07492"></a><span class="lineno"> 7492</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07493" name="l07493"></a><span class="lineno"> 7493</span> </div>
<div class="line"><a id="l07494" name="l07494"></a><span class="lineno"> 7494</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6">txUnlock</a>()</div>
<div class="line"><a id="l07495" name="l07495"></a><span class="lineno"> 7495</span>    {</div>
<div class="line"><a id="l07496" name="l07496"></a><span class="lineno"> 7496</span>$1  LeaveCriticalSection (&amp;_txCanvas_LockBackBuf);</div>
<div class="line"><a id="l07497" name="l07497"></a><span class="lineno"> 7497</span> </div>
<div class="line"><a id="l07498" name="l07498"></a><span class="lineno"> 7498</span>$   <span class="keywordflow">if</span> (_txCanvas_RefreshLock &lt;= 0 || _txExit) Sleep (0);</div>
<div class="line"><a id="l07499" name="l07499"></a><span class="lineno"> 7499</span>$   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07500" name="l07500"></a><span class="lineno"> 7500</span>    }</div>
<div class="line"><a id="l07501" name="l07501"></a><span class="lineno"> 7501</span> </div>
<div class="line"><a id="l07502" name="l07502"></a><span class="lineno"> 7502</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07503" name="l07503"></a><span class="lineno"> 7503</span> </div>
<div class="line"><a id="l07504" name="l07504"></a><span class="lineno"> 7504</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l07505" name="l07505"></a><span class="lineno"> 7505</span><span class="keyword">inline</span> T <a class="code hl_function" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6">txUnlock</a> (T value)</div>
<div class="line"><a id="l07506" name="l07506"></a><span class="lineno"> 7506</span>    {</div>
<div class="line"><a id="l07507" name="l07507"></a><span class="lineno"> 7507</span>$1  <a class="code hl_function" href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6">txUnlock</a>();</div>
<div class="line"><a id="l07508" name="l07508"></a><span class="lineno"> 7508</span>$   <span class="keywordflow">return</span> value;</div>
<div class="line"><a id="l07509" name="l07509"></a><span class="lineno"> 7509</span>    }</div>
<div class="line"><a id="l07510" name="l07510"></a><span class="lineno"> 7510</span> </div>
<div class="line"><a id="l07511" name="l07511"></a><span class="lineno"> 7511</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07512" name="l07512"></a><span class="lineno"> 7512</span> </div>
<div class="line"><a id="l07513" name="l07513"></a><span class="lineno"> 7513</span><span class="keyword">inline</span> POINT <a class="code hl_function" href="group___mouse.html#ga452a1a7dc5d3f467c8b79b9db3ea053e">txMousePos</a>()</div>
<div class="line"><a id="l07514" name="l07514"></a><span class="lineno"> 7514</span>    {</div>
<div class="line"><a id="l07515" name="l07515"></a><span class="lineno"> 7515</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#gade9b60c36576ef735b3e1d1f628ad9c6">ZERO</a> (POINT);</div>
<div class="line"><a id="l07516" name="l07516"></a><span class="lineno"> 7516</span> </div>
<div class="line"><a id="l07517" name="l07517"></a><span class="lineno"> 7517</span>$   <span class="keywordflow">return</span> _txMousePos;</div>
<div class="line"><a id="l07518" name="l07518"></a><span class="lineno"> 7518</span>    }</div>
<div class="line"><a id="l07519" name="l07519"></a><span class="lineno"> 7519</span> </div>
<div class="line"><a id="l07520" name="l07520"></a><span class="lineno"> 7520</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07521" name="l07521"></a><span class="lineno"> 7521</span> </div>
<div class="line"><a id="l07522" name="l07522"></a><span class="lineno"> 7522</span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___mouse.html#ga6adbdb491a8eec2a4209c54874ae7b7d">txMouseX</a>()</div>
<div class="line"><a id="l07523" name="l07523"></a><span class="lineno"> 7523</span>    {</div>
<div class="line"><a id="l07524" name="l07524"></a><span class="lineno"> 7524</span>$1  <span class="keywordflow">return</span> _txMousePos.x;</div>
<div class="line"><a id="l07525" name="l07525"></a><span class="lineno"> 7525</span>    }</div>
<div class="line"><a id="l07526" name="l07526"></a><span class="lineno"> 7526</span> </div>
<div class="line"><a id="l07527" name="l07527"></a><span class="lineno"> 7527</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07528" name="l07528"></a><span class="lineno"> 7528</span> </div>
<div class="line"><a id="l07529" name="l07529"></a><span class="lineno"> 7529</span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___mouse.html#ga572acf2310d35defaa9a37a2ec260576">txMouseY</a>()</div>
<div class="line"><a id="l07530" name="l07530"></a><span class="lineno"> 7530</span>    {</div>
<div class="line"><a id="l07531" name="l07531"></a><span class="lineno"> 7531</span>$1  <span class="keywordflow">return</span> _txMousePos.y;</div>
<div class="line"><a id="l07532" name="l07532"></a><span class="lineno"> 7532</span>    }</div>
<div class="line"><a id="l07533" name="l07533"></a><span class="lineno"> 7533</span> </div>
<div class="line"><a id="l07534" name="l07534"></a><span class="lineno"> 7534</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07535" name="l07535"></a><span class="lineno"> 7535</span> </div>
<div class="line"><a id="l07536" name="l07536"></a><span class="lineno"> 7536</span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___mouse.html#gab814b21d8f52c3efd0d7175d30a4fa73">txMouseButtons</a>()</div>
<div class="line"><a id="l07537" name="l07537"></a><span class="lineno"> 7537</span>    {</div>
<div class="line"><a id="l07538" name="l07538"></a><span class="lineno"> 7538</span>$1  _TX_IF_TXWINDOW_FAILED <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07539" name="l07539"></a><span class="lineno"> 7539</span> </div>
<div class="line"><a id="l07540" name="l07540"></a><span class="lineno"> 7540</span>$   <span class="keywordflow">return</span> _txMouseButtons;</div>
<div class="line"><a id="l07541" name="l07541"></a><span class="lineno"> 7541</span>    }</div>
<div class="line"><a id="l07542" name="l07542"></a><span class="lineno"> 7542</span> </div>
<div class="line"><a id="l07543" name="l07543"></a><span class="lineno"> 7543</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07544" name="l07544"></a><span class="lineno"> 7544</span> </div>
<div class="line"><a id="l07545" name="l07545"></a><span class="lineno"> 7545</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (<span class="keywordtype">unsigned</span> color <span class="comment">/*= 0x07*/</span>)</div>
<div class="line"><a id="l07546" name="l07546"></a><span class="lineno"> 7546</span>    {</div>
<div class="line"><a id="l07547" name="l07547"></a><span class="lineno"> 7547</span>$1  <span class="keywordflow">return</span> !!SetConsoleTextAttribute (GetStdHandle (STD_OUTPUT_HANDLE), (WORD) color);</div>
<div class="line"><a id="l07548" name="l07548"></a><span class="lineno"> 7548</span>    }</div>
<div class="line"><a id="l07549" name="l07549"></a><span class="lineno"> 7549</span> </div>
<div class="line"><a id="l07550" name="l07550"></a><span class="lineno"> 7550</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07551" name="l07551"></a><span class="lineno"> 7551</span> </div>
<div class="line"><a id="l07552" name="l07552"></a><span class="lineno"> 7552</span><span class="keywordtype">unsigned</span> <a class="code hl_function" href="group___drawing.html#ga9f2215b90264133de36ed7c2120f75f5">txGetConsoleAttr</a>()</div>
<div class="line"><a id="l07553" name="l07553"></a><span class="lineno"> 7553</span>    {</div>
<div class="line"><a id="l07554" name="l07554"></a><span class="lineno"> 7554</span>$1  CONSOLE_SCREEN_BUFFER_INFO con = {{0}};</div>
<div class="line"><a id="l07555" name="l07555"></a><span class="lineno"> 7555</span>$   GetConsoleScreenBufferInfo (GetStdHandle (STD_OUTPUT_HANDLE), &amp;con);</div>
<div class="line"><a id="l07556" name="l07556"></a><span class="lineno"> 7556</span> </div>
<div class="line"><a id="l07557" name="l07557"></a><span class="lineno"> 7557</span>$   <span class="keywordflow">return</span> con.wAttributes;</div>
<div class="line"><a id="l07558" name="l07558"></a><span class="lineno"> 7558</span>    }</div>
<div class="line"><a id="l07559" name="l07559"></a><span class="lineno"> 7559</span> </div>
<div class="line"><a id="l07560" name="l07560"></a><span class="lineno"> 7560</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07561" name="l07561"></a><span class="lineno"> 7561</span> </div>
<div class="line"><a id="l07562" name="l07562"></a><span class="lineno"> 7562</span>POINT <a class="code hl_function" href="group___drawing.html#gaee548f7b5672cbcbb99246e0291d7336">txSetConsoleCursorPos</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)</div>
<div class="line"><a id="l07563" name="l07563"></a><span class="lineno"> 7563</span>    {</div>
<div class="line"><a id="l07564" name="l07564"></a><span class="lineno"> 7564</span>$1  POINT fontSz = <a class="code hl_function" href="group___drawing.html#ga56faf7c36cf0112165fb705fedf6ec8e">txGetConsoleFontSize</a>();</div>
<div class="line"><a id="l07565" name="l07565"></a><span class="lineno"> 7565</span> </div>
<div class="line"><a id="l07566" name="l07566"></a><span class="lineno"> 7566</span>$   CONSOLE_SCREEN_BUFFER_INFO con = {{0}};</div>
<div class="line"><a id="l07567" name="l07567"></a><span class="lineno"> 7567</span>$   GetConsoleScreenBufferInfo (GetStdHandle (STD_OUTPUT_HANDLE), &amp;con) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07568" name="l07568"></a><span class="lineno"> 7568</span> </div>
<div class="line"><a id="l07569" name="l07569"></a><span class="lineno"> 7569</span>$   COORD pos = { (short) <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (1.0 * x / fontSz.x + con.srWindow.Left),</div>
<div class="line"><a id="l07570" name="l07570"></a><span class="lineno"> 7570</span>                  (short) <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (1.0 * y / fontSz.y + con.srWindow.Top ) };</div>
<div class="line"><a id="l07571" name="l07571"></a><span class="lineno"> 7571</span> </div>
<div class="line"><a id="l07572" name="l07572"></a><span class="lineno"> 7572</span>$   SetConsoleCursorPosition (GetStdHandle (STD_OUTPUT_HANDLE), pos) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07573" name="l07573"></a><span class="lineno"> 7573</span> </div>
<div class="line"><a id="l07574" name="l07574"></a><span class="lineno"> 7574</span>$   POINT prev = { <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (1.0 * (con.dwCursorPosition.X - con.srWindow.Left) / fontSz.x),</div>
<div class="line"><a id="l07575" name="l07575"></a><span class="lineno"> 7575</span>                   <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (1.0 * (con.dwCursorPosition.Y - con.srWindow.Top ) / fontSz.y) };</div>
<div class="line"><a id="l07576" name="l07576"></a><span class="lineno"> 7576</span>$   <span class="keywordflow">return</span> prev;</div>
<div class="line"><a id="l07577" name="l07577"></a><span class="lineno"> 7577</span>    }</div>
<div class="line"><a id="l07578" name="l07578"></a><span class="lineno"> 7578</span> </div>
<div class="line"><a id="l07579" name="l07579"></a><span class="lineno"> 7579</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07580" name="l07580"></a><span class="lineno"> 7580</span> </div>
<div class="line"><a id="l07581" name="l07581"></a><span class="lineno"> 7581</span>POINT <a class="code hl_function" href="group___drawing.html#ga3227242c57eef33049cdaee655f4faee">txGetConsoleCursorPos</a>()</div>
<div class="line"><a id="l07582" name="l07582"></a><span class="lineno"> 7582</span>    {</div>
<div class="line"><a id="l07583" name="l07583"></a><span class="lineno"> 7583</span>$1  POINT fontSz = <a class="code hl_function" href="group___drawing.html#ga56faf7c36cf0112165fb705fedf6ec8e">txGetConsoleFontSize</a>();</div>
<div class="line"><a id="l07584" name="l07584"></a><span class="lineno"> 7584</span> </div>
<div class="line"><a id="l07585" name="l07585"></a><span class="lineno"> 7585</span>$   CONSOLE_SCREEN_BUFFER_INFO con = {{0}};</div>
<div class="line"><a id="l07586" name="l07586"></a><span class="lineno"> 7586</span>$   GetConsoleScreenBufferInfo (GetStdHandle (STD_OUTPUT_HANDLE), &amp;con) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07587" name="l07587"></a><span class="lineno"> 7587</span> </div>
<div class="line"><a id="l07588" name="l07588"></a><span class="lineno"> 7588</span>$   POINT pos = { <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (1.0 * (con.dwCursorPosition.X - con.srWindow.Left) / fontSz.x),</div>
<div class="line"><a id="l07589" name="l07589"></a><span class="lineno"> 7589</span>                  <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (1.0 * (con.dwCursorPosition.Y - con.srWindow.Top ) / fontSz.y) };</div>
<div class="line"><a id="l07590" name="l07590"></a><span class="lineno"> 7590</span>$   <span class="keywordflow">return</span> pos;</div>
<div class="line"><a id="l07591" name="l07591"></a><span class="lineno"> 7591</span>    }</div>
<div class="line"><a id="l07592" name="l07592"></a><span class="lineno"> 7592</span> </div>
<div class="line"><a id="l07593" name="l07593"></a><span class="lineno"> 7593</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07594" name="l07594"></a><span class="lineno"> 7594</span> </div>
<div class="line"><a id="l07595" name="l07595"></a><span class="lineno"> 7595</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga2cb63c12d9206e9ed2b2c83c9a08f68e">txClearConsole</a>()</div>
<div class="line"><a id="l07596" name="l07596"></a><span class="lineno"> 7596</span>    {</div>
<div class="line"><a id="l07597" name="l07597"></a><span class="lineno"> 7597</span>$1  HANDLE out = GetStdHandle (STD_OUTPUT_HANDLE);</div>
<div class="line"><a id="l07598" name="l07598"></a><span class="lineno"> 7598</span> </div>
<div class="line"><a id="l07599" name="l07599"></a><span class="lineno"> 7599</span>$   CONSOLE_SCREEN_BUFFER_INFO con = {{0}};</div>
<div class="line"><a id="l07600" name="l07600"></a><span class="lineno"> 7600</span>$   GetConsoleScreenBufferInfo (out, &amp;con) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07601" name="l07601"></a><span class="lineno"> 7601</span> </div>
<div class="line"><a id="l07602" name="l07602"></a><span class="lineno"> 7602</span>$   COORD start = {con.srWindow.Left, con.srWindow.Top};</div>
<div class="line"><a id="l07603" name="l07603"></a><span class="lineno"> 7603</span> </div>
<div class="line"><a id="l07604" name="l07604"></a><span class="lineno"> 7604</span>$   DWORD len   = (con.srWindow.Right  - con.srWindow.Left + 1) *</div>
<div class="line"><a id="l07605" name="l07605"></a><span class="lineno"> 7605</span>                  (con.srWindow.Bottom - con.srWindow.Top  + 1);</div>
<div class="line"><a id="l07606" name="l07606"></a><span class="lineno"> 7606</span> </div>
<div class="line"><a id="l07607" name="l07607"></a><span class="lineno"> 7607</span>$   DWORD written = 0;</div>
<div class="line"><a id="l07608" name="l07608"></a><span class="lineno"> 7608</span>$   FillConsoleOutputCharacter (out, 0x20 <span class="comment">/*&#39; &#39;*/</span>,    len, start, &amp;written) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07609" name="l07609"></a><span class="lineno"> 7609</span>$   FillConsoleOutputAttribute (out, con.wAttributes, len, start, &amp;written) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07610" name="l07610"></a><span class="lineno"> 7610</span> </div>
<div class="line"><a id="l07611" name="l07611"></a><span class="lineno"> 7611</span>$   SetConsoleCursorPosition (GetStdHandle (STD_OUTPUT_HANDLE), start) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07612" name="l07612"></a><span class="lineno"> 7612</span> </div>
<div class="line"><a id="l07613" name="l07613"></a><span class="lineno"> 7613</span>$   <span class="keywordflow">return</span> written == len;</div>
<div class="line"><a id="l07614" name="l07614"></a><span class="lineno"> 7614</span>    }</div>
<div class="line"><a id="l07615" name="l07615"></a><span class="lineno"> 7615</span> </div>
<div class="line"><a id="l07616" name="l07616"></a><span class="lineno"> 7616</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07617" name="l07617"></a><span class="lineno"> 7617</span> </div>
<div class="line"><a id="l07618" name="l07618"></a><span class="lineno"> 7618</span>POINT <a class="code hl_function" href="group___drawing.html#ga56faf7c36cf0112165fb705fedf6ec8e">txGetConsoleFontSize</a>()</div>
<div class="line"><a id="l07619" name="l07619"></a><span class="lineno"> 7619</span>    {</div>
<div class="line"><a id="l07620" name="l07620"></a><span class="lineno"> 7620</span>$1  CONSOLE_FONT_INFO font = {0, {8, 16}};</div>
<div class="line"><a id="l07621" name="l07621"></a><span class="lineno"> 7621</span> </div>
<div class="line"><a id="l07622" name="l07622"></a><span class="lineno"> 7622</span>$   <span class="keywordflow">if</span> (Win32::GetCurrentConsoleFont)</div>
<div class="line"><a id="l07623" name="l07623"></a><span class="lineno"> 7623</span>        { $ Win32::GetCurrentConsoleFont (GetStdHandle (STD_OUTPUT_HANDLE), <span class="keyword">false</span>, &amp;font) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>; }</div>
<div class="line"><a id="l07624" name="l07624"></a><span class="lineno"> 7624</span> </div>
<div class="line"><a id="l07625" name="l07625"></a><span class="lineno"> 7625</span>$   SIZE size = { font.dwFontSize.X, font.dwFontSize.Y };</div>
<div class="line"><a id="l07626" name="l07626"></a><span class="lineno"> 7626</span>$   <a class="code hl_define" href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a> (Win32::GetTextExtentPoint32 (_txCanvas_BackBuf[1], <span class="stringliteral">&quot;W&quot;</span>, 1, &amp;size));</div>
<div class="line"><a id="l07627" name="l07627"></a><span class="lineno"> 7627</span> </div>
<div class="line"><a id="l07628" name="l07628"></a><span class="lineno"> 7628</span>$   POINT sizeFont = { size.cx, size.cy };</div>
<div class="line"><a id="l07629" name="l07629"></a><span class="lineno"> 7629</span>$   <span class="keywordflow">return</span> sizeFont;</div>
<div class="line"><a id="l07630" name="l07630"></a><span class="lineno"> 7630</span>    }</div>
<div class="line"><a id="l07631" name="l07631"></a><span class="lineno"> 7631</span> </div>
<div class="line"><a id="l07632" name="l07632"></a><span class="lineno"> 7632</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07633" name="l07633"></a><span class="lineno"> 7633</span> </div>
<div class="line"><a id="l07634" name="l07634"></a><span class="lineno"> 7634</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#gaa148d2040d20ed74cf46ab186c35f9ed">txTextCursor</a> (<span class="keywordtype">bool</span> blink <span class="comment">/*= true*/</span>)</div>
<div class="line"><a id="l07635" name="l07635"></a><span class="lineno"> 7635</span>    {</div>
<div class="line"><a id="l07636" name="l07636"></a><span class="lineno"> 7636</span>$1  <span class="keywordtype">bool</span> old = _txConsole_IsBlinking;</div>
<div class="line"><a id="l07637" name="l07637"></a><span class="lineno"> 7637</span> </div>
<div class="line"><a id="l07638" name="l07638"></a><span class="lineno"> 7638</span>$   _txConsole_IsBlinking = blink;</div>
<div class="line"><a id="l07639" name="l07639"></a><span class="lineno"> 7639</span> </div>
<div class="line"><a id="l07640" name="l07640"></a><span class="lineno"> 7640</span>$   <span class="keywordflow">return</span> old;</div>
<div class="line"><a id="l07641" name="l07641"></a><span class="lineno"> 7641</span>    }</div>
<div class="line"><a id="l07642" name="l07642"></a><span class="lineno"> 7642</span> </div>
<div class="line"><a id="l07643" name="l07643"></a><span class="lineno"> 7643</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07644" name="l07644"></a><span class="lineno"> 7644</span> </div>
<div class="line"><a id="l07645" name="l07645"></a><span class="lineno"> 7645</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga177f8bcb7544821ea4b5bd0571fe7196">txPlaySound</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> filename[] <span class="comment">/*= NULL*/</span>, DWORD mode <span class="comment">/*= SND_ASYNC*/</span>)</div>
<div class="line"><a id="l07646" name="l07646"></a><span class="lineno"> 7646</span>    {</div>
<div class="line"><a id="l07647" name="l07647"></a><span class="lineno"> 7647</span>$1  _TX_IF_ARGUMENT_FAILED (!(filename &amp;&amp; !*filename)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07648" name="l07648"></a><span class="lineno"> 7648</span> </div>
<div class="line"><a id="l07649" name="l07649"></a><span class="lineno"> 7649</span>$   mode |= SND_FILENAME | SND_NODEFAULT | SND_NOWAIT;</div>
<div class="line"><a id="l07650" name="l07650"></a><span class="lineno"> 7650</span>$   <span class="keywordflow">if</span> (mode &amp; SND_LOOP) mode = (mode &amp; ~SND_SYNC) | SND_ASYNC;</div>
<div class="line"><a id="l07651" name="l07651"></a><span class="lineno"> 7651</span> </div>
<div class="line"><a id="l07652" name="l07652"></a><span class="lineno"> 7652</span>$   <span class="keywordflow">if</span> (!filename) mode = SND_PURGE;</div>
<div class="line"><a id="l07653" name="l07653"></a><span class="lineno"> 7653</span> </div>
<div class="line"><a id="l07654" name="l07654"></a><span class="lineno"> 7654</span>$   <span class="keywordflow">return</span> !!Win32::PlaySound (filename, NULL, mode);</div>
<div class="line"><a id="l07655" name="l07655"></a><span class="lineno"> 7655</span>    }</div>
<div class="line"><a id="l07656" name="l07656"></a><span class="lineno"> 7656</span> </div>
<div class="line"><a id="l07657" name="l07657"></a><span class="lineno"> 7657</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07658" name="l07658"></a><span class="lineno"> 7658</span> </div>
<div class="line"><a id="l07659" name="l07659"></a><span class="lineno"> 7659</span><span class="comment">// +--&lt;&lt;&lt;       ,    :)</span></div>
<div class="line"><a id="l07660" name="l07660"></a><span class="lineno"> 7660</span><span class="comment">// V          ,   </span></div>
<div class="line"><a id="l07661" name="l07661"></a><span class="lineno"> 7661</span> </div>
<div class="line"><a id="l07662" name="l07662"></a><span class="lineno"> 7662</span>WNDPROC <a class="code hl_function" href="group___service.html#ga30fb1a6913174dfcea5079391f655be2">txSetWindowsHook</a> (WNDPROC wndProc <span class="comment">/*= NULL*/</span>)</div>
<div class="line"><a id="l07663" name="l07663"></a><span class="lineno"> 7663</span>    {</div>
<div class="line"><a id="l07664" name="l07664"></a><span class="lineno"> 7664</span>$1  WNDPROC old = _txAltWndProc; _txAltWndProc = wndProc;</div>
<div class="line"><a id="l07665" name="l07665"></a><span class="lineno"> 7665</span>$   <span class="keywordflow">return</span>  old;</div>
<div class="line"><a id="l07666" name="l07666"></a><span class="lineno"> 7666</span>    }</div>
<div class="line"><a id="l07667" name="l07667"></a><span class="lineno"> 7667</span> </div>
<div class="line"><a id="l07668" name="l07668"></a><span class="lineno"> 7668</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07669" name="l07669"></a><span class="lineno"> 7669</span> </div>
<div class="line"><a id="l07670" name="l07670"></a><span class="lineno"> 7670</span><span class="comment">//     +--&lt;&lt;&lt;  , ,    .</span></div>
<div class="line"><a id="l07671" name="l07671"></a><span class="lineno"> 7671</span><span class="comment">//     |        !    - .</span></div>
<div class="line"><a id="l07672" name="l07672"></a><span class="lineno"> 7672</span><span class="comment">//     |</span></div>
<div class="line"><a id="l07673" name="l07673"></a><span class="lineno"> 7673</span><span class="comment">//     v</span></div>
<div class="line"><a id="l07674" name="l07674"></a><span class="lineno"> 7674</span><span class="keywordtype">bool</span> <a class="code hl_function" href="group___drawing.html#ga93cecf6b117fc403c0488f388b78a6d1">txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture</a>()</div>
<div class="line"><a id="l07675" name="l07675"></a><span class="lineno"> 7675</span>    {</div>
<div class="line"><a id="l07676" name="l07676"></a><span class="lineno"> 7676</span>$1  <a class="code hl_function" href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a> (<span class="stringliteral">&quot;  .  .   :\n\n&quot;</span></div>
<div class="line"><a id="l07677" name="l07677"></a><span class="lineno"> 7677</span> </div>
<div class="line"><a id="l07678" name="l07678"></a><span class="lineno"> 7678</span>                  <span class="stringliteral">&quot;txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture()\n\n&quot;</span></div>
<div class="line"><a id="l07679" name="l07679"></a><span class="lineno"> 7679</span> </div>
<div class="line"><a id="l07680" name="l07680"></a><span class="lineno"> 7680</span>                  <span class="stringliteral">&quot;   []  ,       . &quot;</span></div>
<div class="line"><a id="l07681" name="l07681"></a><span class="lineno"> 7681</span>                  <span class="stringliteral">&quot;  ,   -   ,       .\n\n&quot;</span></div>
<div class="line"><a id="l07682" name="l07682"></a><span class="lineno"> 7682</span> </div>
<div class="line"><a id="l07683" name="l07683"></a><span class="lineno"> 7683</span>                  <span class="stringliteral">&quot;    .        TXLib.h,    &quot;</span></div>
<div class="line"><a id="l07684" name="l07684"></a><span class="lineno"> 7684</span>                  <span class="stringliteral">&quot;      ,    .\n\n&quot;</span></div>
<div class="line"><a id="l07685" name="l07685"></a><span class="lineno"> 7685</span> </div>
<div class="line"><a id="l07686" name="l07686"></a><span class="lineno"> 7686</span>                  <span class="stringliteral">&quot;   Ctrl+O,     TXLib.h (   ,   &quot;</span></div>
<div class="line"><a id="l07687" name="l07687"></a><span class="lineno"> 7687</span>                  <span class="stringliteral">&quot; TXLib),   Ctrl+F   \&quot;txIDontWant\&quot;. !\n\n&quot;</span>,</div>
<div class="line"><a id="l07688" name="l07688"></a><span class="lineno"> 7688</span> </div>
<div class="line"><a id="l07689" name="l07689"></a><span class="lineno"> 7689</span>                  <span class="stringliteral">&quot; &quot;</span>, MB_ICONSTOP);</div>
<div class="line"><a id="l07690" name="l07690"></a><span class="lineno"> 7690</span> </div>
<div class="line"><a id="l07691" name="l07691"></a><span class="lineno"> 7691</span>    <span class="comment">// The truth is out there... (C++files)</span></div>
<div class="line"><a id="l07692" name="l07692"></a><span class="lineno"> 7692</span> </div>
<div class="line"><a id="l07693" name="l07693"></a><span class="lineno"> 7693</span>$   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l07694" name="l07694"></a><span class="lineno"> 7694</span>    }</div>
<div class="line"><a id="l07695" name="l07695"></a><span class="lineno"> 7695</span> </div>
<div class="line"><a id="l07696" name="l07696"></a><span class="lineno"> 7696</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07697" name="l07697"></a><span class="lineno"> 7697</span> </div>
<div class="line"><a id="l07698" name="l07698"></a><span class="lineno"> 7698</span><span class="comment">// Bingo! Now you are learned to use the Sources, Luke. And may the Source be with you.</span></div>
<div class="line"><a id="l07699" name="l07699"></a><span class="lineno"> 7699</span> </div>
<div class="line"><a id="l07700" name="l07700"></a><span class="lineno"> 7700</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> txDisableAutoPause()</div>
<div class="line"><a id="l07701" name="l07701"></a><span class="lineno"> 7701</span>    {</div>
<div class="line"><a id="l07702" name="l07702"></a><span class="lineno"> 7702</span>$1  _txExit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l07703" name="l07703"></a><span class="lineno"> 7703</span>$   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l07704" name="l07704"></a><span class="lineno"> 7704</span>    }</div>
<div class="line"><a id="l07705" name="l07705"></a><span class="lineno"> 7705</span> </div>
<div class="line"><a id="l07706" name="l07706"></a><span class="lineno"> 7706</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07707" name="l07707"></a><span class="lineno"> 7707</span> </div>
<div class="line"><a id="l07708" name="l07708"></a><span class="lineno"> 7708</span><span class="keywordtype">void</span> <a class="code hl_function" href="group___drawing.html#gac76227ff55076802ea267be18b4d7a8d">txDrawMan</a> (<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> sizeX, <span class="keywordtype">int</span> sizeY, COLORREF color, <span class="keywordtype">double</span> handL, <span class="keywordtype">double</span> handR, <span class="keywordtype">double</span> twist,</div>
<div class="line"><a id="l07709" name="l07709"></a><span class="lineno"> 7709</span>                <span class="keywordtype">double</span> head, <span class="keywordtype">double</span> eyes, <span class="keywordtype">double</span> wink, <span class="keywordtype">double</span> crazy, <span class="keywordtype">double</span> smile, <span class="keywordtype">double</span> hair, <span class="keywordtype">double</span> wind)</div>
<div class="line"><a id="l07710" name="l07710"></a><span class="lineno"> 7710</span>    {</div>
<div class="line"><a id="l07711" name="l07711"></a><span class="lineno"> 7711</span>$1  <span class="keyword">const</span> <span class="keywordtype">char</span> msg[] = <span class="stringliteral">&quot;\0/  -   !\0/   !\0/  !\0/&quot;</span>;</div>
<div class="line"><a id="l07712" name="l07712"></a><span class="lineno"> 7712</span>    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> count = GetTickCount(), L = 0;</div>
<div class="line"><a id="l07713" name="l07713"></a><span class="lineno"> 7713</span> </div>
<div class="line"><a id="l07714" name="l07714"></a><span class="lineno"> 7714</span>$   COLORREF lineColor = <a class="code hl_function" href="group___drawing.html#ga4894075399ec8e8747177f90c15fb35d">txGetColor</a>();</div>
<div class="line"><a id="l07715" name="l07715"></a><span class="lineno"> 7715</span>    COLORREF fillColor = <a class="code hl_function" href="group___drawing.html#ga1a65fa9ddfd07bda8ab3e95873991b76">txGetFillColor</a>();</div>
<div class="line"><a id="l07716" name="l07716"></a><span class="lineno"> 7716</span> </div>
<div class="line"><a id="l07717" name="l07717"></a><span class="lineno"> 7717</span>$   <a class="code hl_function" href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e">txSetColor</a>     (<a class="code hl_variable" href="group___drawing.html#ga16ef56f4dfb0cf5f8422bab9663eb7a9">TX_DARKGRAY</a>);</div>
<div class="line"><a id="l07718" name="l07718"></a><span class="lineno"> 7718</span>    <a class="code hl_function" href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf">txSetFillColor</a> (<a class="code hl_variable" href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">TX_TRANSPARENT</a>);</div>
<div class="line"><a id="l07719" name="l07719"></a><span class="lineno"> 7719</span> </div>
<div class="line"><a id="l07720" name="l07720"></a><span class="lineno"> 7720</span>$   <a class="code hl_function" href="group___drawing.html#ga56fe553987cace1e1572b2e64ea46ebc">txRectangle</a> (x - sizeX/2, y - sizeY, x + sizeX/2, y);</div>
<div class="line"><a id="l07721" name="l07721"></a><span class="lineno"> 7721</span>    <a class="code hl_function" href="group___drawing.html#gaa14e9c2a46cf713efaa1f850074d8adc">txCircle</a> (x, y, 4);</div>
<div class="line"><a id="l07722" name="l07722"></a><span class="lineno"> 7722</span> </div>
<div class="line"><a id="l07723" name="l07723"></a><span class="lineno"> 7723</span>$   <a class="code hl_function" href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e">txSetColor</a>     (color);</div>
<div class="line"><a id="l07724" name="l07724"></a><span class="lineno"> 7724</span>    <a class="code hl_function" href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf">txSetFillColor</a> (color);</div>
<div class="line"><a id="l07725" name="l07725"></a><span class="lineno"> 7725</span> </div>
<div class="line"><a id="l07726" name="l07726"></a><span class="lineno"> 7726</span>$   <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x + twist * sizeX, y - 0.35 * sizeY, x, y - 0.7 * sizeY);</div>
<div class="line"><a id="l07727" name="l07727"></a><span class="lineno"> 7727</span> </div>
<div class="line"><a id="l07728" name="l07728"></a><span class="lineno"> 7728</span>$   <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x, y - 0.7 * sizeY, x - sizeX/2, y - (0.7 + handL) * sizeY);</div>
<div class="line"><a id="l07729" name="l07729"></a><span class="lineno"> 7729</span>    <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x, y - 0.7 * sizeY, x + sizeX/2, y - (0.7 + handR) * sizeY);</div>
<div class="line"><a id="l07730" name="l07730"></a><span class="lineno"> 7730</span> </div>
<div class="line"><a id="l07731" name="l07731"></a><span class="lineno"> 7731</span>$   <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x + twist * sizeX, y - 0.35 * sizeY, x - sizeX/2, y);</div>
<div class="line"><a id="l07732" name="l07732"></a><span class="lineno"> 7732</span>    <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x + twist * sizeX, y - 0.35 * sizeY, x + sizeX/2, y);</div>
<div class="line"><a id="l07733" name="l07733"></a><span class="lineno"> 7733</span> </div>
<div class="line"><a id="l07734" name="l07734"></a><span class="lineno"> 7734</span>$   <a class="code hl_function" href="group___drawing.html#gaa14e9c2a46cf713efaa1f850074d8adc">txCircle</a> (x, y - (0.85 + head) * sizeY, 0.15 * sizeY);</div>
<div class="line"><a id="l07735" name="l07735"></a><span class="lineno"> 7735</span> </div>
<div class="line"><a id="l07736" name="l07736"></a><span class="lineno"> 7736</span>$   <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x, y - (1 + head) * sizeY, x +  wind/10        * sizeX, y - (1 + head + hair/10) * sizeY);</div>
<div class="line"><a id="l07737" name="l07737"></a><span class="lineno"> 7737</span>    <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x, y - (1 + head) * sizeY, x + (wind/10 - 0.1) * sizeX, y - (1 + head + hair/10) * sizeY);</div>
<div class="line"><a id="l07738" name="l07738"></a><span class="lineno"> 7738</span>    <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x, y - (1 + head) * sizeY, x + (wind/10 + 0.1) * sizeX, y - (1 + head + hair/10) * sizeY);</div>
<div class="line"><a id="l07739" name="l07739"></a><span class="lineno"> 7739</span> </div>
<div class="line"><a id="l07740" name="l07740"></a><span class="lineno"> 7740</span>$   <a class="code hl_function" href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e">txSetColor</a>     (~color &amp; 0xFFFFFF);</div>
<div class="line"><a id="l07741" name="l07741"></a><span class="lineno"> 7741</span>    <a class="code hl_function" href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf">txSetFillColor</a> (~color &amp; 0xFFFFFF);</div>
<div class="line"><a id="l07742" name="l07742"></a><span class="lineno"> 7742</span> </div>
<div class="line"><a id="l07743" name="l07743"></a><span class="lineno"> 7743</span>$   <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x, y - (0.8 + head - 0.05 * smile/2) * sizeY, x - 0.05 * sizeY, y - (0.8 + head + 0.05 * smile/2) * sizeY),</div>
<div class="line"><a id="l07744" name="l07744"></a><span class="lineno"> 7744</span>    <a class="code hl_function" href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a> (x, y - (0.8 + head - 0.05 * smile/2) * sizeY, x + 0.05 * sizeY, y - (0.8 + head + 0.05 * smile/2) * sizeY),</div>
<div class="line"><a id="l07745" name="l07745"></a><span class="lineno"> 7745</span>    <a class="code hl_function" href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577">txNotifyIcon</a> (4, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)!! (L+<span class="charliteral">&#39;L&#39;</span>)[msg], <span class="stringliteral">&quot;\n%s\n&quot;</span>, msg + (count++ % 3)[<span class="stringliteral">&quot;&#x2402;\&quot;&lt;&quot;</span>]);</div>
<div class="line"><a id="l07746" name="l07746"></a><span class="lineno"> 7746</span> </div>
<div class="line"><a id="l07747" name="l07747"></a><span class="lineno"> 7747</span>$   <a class="code hl_function" href="group___drawing.html#gaa14e9c2a46cf713efaa1f850074d8adc">txCircle</a> (x - 0.05 * sizeY, y - (0.9 + head - 0.02 * crazy) * sizeY, eyes * (1 + 0.5*wink) * 0.02 * sizeY),</div>
<div class="line"><a id="l07748" name="l07748"></a><span class="lineno"> 7748</span>    <a class="code hl_function" href="group___drawing.html#gaa14e9c2a46cf713efaa1f850074d8adc">txCircle</a> (x + 0.05 * sizeY, y - (0.9 + head + 0.02 * crazy) * sizeY, eyes * (1 - 0.5*wink) * 0.02 * sizeY),</div>
<div class="line"><a id="l07749" name="l07749"></a><span class="lineno"> 7749</span>    Sleep (1000 + count%2);</div>
<div class="line"><a id="l07750" name="l07750"></a><span class="lineno"> 7750</span> </div>
<div class="line"><a id="l07751" name="l07751"></a><span class="lineno"> 7751</span>$   <a class="code hl_function" href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e">txSetColor</a>     (lineColor);</div>
<div class="line"><a id="l07752" name="l07752"></a><span class="lineno"> 7752</span>    <a class="code hl_function" href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf">txSetFillColor</a> (fillColor);</div>
<div class="line"><a id="l07753" name="l07753"></a><span class="lineno"> 7753</span>    }</div>
<div class="line"><a id="l07754" name="l07754"></a><span class="lineno"> 7754</span> </div>
<div class="line"><a id="l07755" name="l07755"></a><span class="lineno"> 7755</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07756" name="l07756"></a><span class="lineno"> 7756</span> </div>
<div class="line"><a id="l07757" name="l07757"></a><span class="lineno"> 7757</span><span class="keywordtype">void</span> <a class="code hl_function" href="group___misc.html#ga7b470eef58eabacf9c7820ce6d392506">txDump</a> (<span class="keyword">const</span> <span class="keywordtype">void</span>* address, <span class="keyword">const</span> <span class="keywordtype">char</span> name[] <span class="comment">/*= &quot;txDump()&quot;*/</span>)</div>
<div class="line"><a id="l07758" name="l07758"></a><span class="lineno"> 7758</span>    {</div>
<div class="line"><a id="l07759" name="l07759"></a><span class="lineno"> 7759</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* p = (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*) address;</div>
<div class="line"><a id="l07760" name="l07760"></a><span class="lineno"> 7760</span>    <span class="keywordtype">int</span> x = 0;</div>
<div class="line"><a id="l07761" name="l07761"></a><span class="lineno"> 7761</span> </div>
<div class="line"><a id="l07762" name="l07762"></a><span class="lineno"> 7762</span>    <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (0x0F);</div>
<div class="line"><a id="l07763" name="l07763"></a><span class="lineno"> 7763</span>    printf (<span class="stringliteral">&quot;\n%8.8s &quot;</span>, name? name : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l07764" name="l07764"></a><span class="lineno"> 7764</span> </div>
<div class="line"><a id="l07765" name="l07765"></a><span class="lineno"> 7765</span>    <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (0x0E);</div>
<div class="line"><a id="l07766" name="l07766"></a><span class="lineno"> 7766</span>    <span class="keywordflow">for</span> (x = 0; x &lt; 16; x++) printf (<span class="stringliteral">&quot;%02X &quot;</span>, x);</div>
<div class="line"><a id="l07767" name="l07767"></a><span class="lineno"> 7767</span>    <span class="keywordflow">for</span> (x = 0; x &lt; 16; x++) printf (<span class="stringliteral">&quot;%X&quot;</span>,    x);</div>
<div class="line"><a id="l07768" name="l07768"></a><span class="lineno"> 7768</span> </div>
<div class="line"><a id="l07769" name="l07769"></a><span class="lineno"> 7769</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; 16; y++, p += 16)</div>
<div class="line"><a id="l07770" name="l07770"></a><span class="lineno"> 7770</span>        {</div>
<div class="line"><a id="l07771" name="l07771"></a><span class="lineno"> 7771</span>        <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (0x0E);</div>
<div class="line"><a id="l07772" name="l07772"></a><span class="lineno"> 7772</span>        printf (<span class="stringliteral">&quot;\n&quot;</span> <span class="stringliteral">&quot;%8p &quot;</span>, p);</div>
<div class="line"><a id="l07773" name="l07773"></a><span class="lineno"> 7773</span> </div>
<div class="line"><a id="l07774" name="l07774"></a><span class="lineno"> 7774</span>        <span class="keywordflow">for</span> (x = 0; x &lt; 16; x++) { <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (0x0A + x/4%2); printf (<span class="stringliteral">&quot;%02X &quot;</span>, p[x]); }</div>
<div class="line"><a id="l07775" name="l07775"></a><span class="lineno"> 7775</span>        <span class="keywordflow">for</span> (x = 0; x &lt; 16; x++) { <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (0x0A + x/4%2); printf (<span class="stringliteral">&quot;%c&quot;</span>,    isprint (p[x])? p[x] : <span class="charliteral">&#39;.&#39;</span>); }</div>
<div class="line"><a id="l07776" name="l07776"></a><span class="lineno"> 7776</span>        }</div>
<div class="line"><a id="l07777" name="l07777"></a><span class="lineno"> 7777</span> </div>
<div class="line"><a id="l07778" name="l07778"></a><span class="lineno"> 7778</span>    <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (0x07);</div>
<div class="line"><a id="l07779" name="l07779"></a><span class="lineno"> 7779</span>    printf (<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l07780" name="l07780"></a><span class="lineno"> 7780</span>    }</div>
<div class="line"><a id="l07781" name="l07781"></a><span class="lineno"> 7781</span> </div>
<div class="line"><a id="l07782" name="l07782"></a><span class="lineno"> 7782</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07783" name="l07783"></a><span class="lineno"> 7783</span> </div>
<div class="line"><a id="l07784" name="l07784"></a><span class="lineno"> 7784</span><span class="keywordtype">double</span> <a class="code hl_function" href="group___drawing.html#gaebe0b0f6b1324031ee6b9461ba5b0ab3">txQueryPerformance</a>()</div>
<div class="line"><a id="l07785" name="l07785"></a><span class="lineno"> 7785</span>    {</div>
<div class="line"><a id="l07786" name="l07786"></a><span class="lineno"> 7786</span>$1  <span class="keywordtype">int</span> maxTime    =  500;</div>
<div class="line"><a id="l07787" name="l07787"></a><span class="lineno"> 7787</span>$   <span class="keywordtype">int</span> maxSamples =  100;</div>
<div class="line"><a id="l07788" name="l07788"></a><span class="lineno"> 7788</span>$   POINT size     = {500, 500};</div>
<div class="line"><a id="l07789" name="l07789"></a><span class="lineno"> 7789</span> </div>
<div class="line"><a id="l07790" name="l07790"></a><span class="lineno"> 7790</span>$   HDC dc = _txBuffer_Create (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>(), &amp;size, NULL);</div>
<div class="line"><a id="l07791" name="l07791"></a><span class="lineno"> 7791</span>$   <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (dc); <span class="keywordflow">if</span> (!dc) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l07792" name="l07792"></a><span class="lineno"> 7792</span> </div>
<div class="line"><a id="l07793" name="l07793"></a><span class="lineno"> 7793</span>$   DWORD mask = (DWORD) SetThreadAffinityMask (GetCurrentThread(), 1);</div>
<div class="line"><a id="l07794" name="l07794"></a><span class="lineno"> 7794</span>$   <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (mask);</div>
<div class="line"><a id="l07795" name="l07795"></a><span class="lineno"> 7795</span> </div>
<div class="line"><a id="l07796" name="l07796"></a><span class="lineno"> 7796</span>$   LARGE_INTEGER freq = {{0}};</div>
<div class="line"><a id="l07797" name="l07797"></a><span class="lineno"> 7797</span>$   QueryPerformanceFrequency (&amp;freq) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07798" name="l07798"></a><span class="lineno"> 7798</span> </div>
<div class="line"><a id="l07799" name="l07799"></a><span class="lineno"> 7799</span>$   LARGE_INTEGER start = {{0}};</div>
<div class="line"><a id="l07800" name="l07800"></a><span class="lineno"> 7800</span>$   QueryPerformanceCounter (&amp;start) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07801" name="l07801"></a><span class="lineno"> 7801</span> </div>
<div class="line"><a id="l07802" name="l07802"></a><span class="lineno"> 7802</span>$   <span class="keywordtype">int</span> samples = 0;</div>
<div class="line"><a id="l07803" name="l07803"></a><span class="lineno"> 7803</span>$   <span class="keywordflow">while</span> (samples++ &lt; maxSamples)</div>
<div class="line"><a id="l07804" name="l07804"></a><span class="lineno"> 7804</span>        {</div>
<div class="line"><a id="l07805" name="l07805"></a><span class="lineno"> 7805</span>$       LARGE_INTEGER cur = {{0}};</div>
<div class="line"><a id="l07806" name="l07806"></a><span class="lineno"> 7806</span>$       QueryPerformanceCounter (&amp;cur) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07807" name="l07807"></a><span class="lineno"> 7807</span> </div>
<div class="line"><a id="l07808" name="l07808"></a><span class="lineno"> 7808</span>$       <span class="keywordtype">double</span> t = 1000.0 * (double) (cur.QuadPart - start.QuadPart) / (double) freq.QuadPart;</div>
<div class="line"><a id="l07809" name="l07809"></a><span class="lineno"> 7809</span>$       if (t &gt; maxTime) <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l07810" name="l07810"></a><span class="lineno"> 7810</span> </div>
<div class="line"><a id="l07811" name="l07811"></a><span class="lineno"> 7811</span>        <span class="comment">// Draw test scene</span></div>
<div class="line"><a id="l07812" name="l07812"></a><span class="lineno"> 7812</span> </div>
<div class="line"><a id="l07813" name="l07813"></a><span class="lineno"> 7813</span>$       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; size.y; y += 10)</div>
<div class="line"><a id="l07814" name="l07814"></a><span class="lineno"> 7814</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; size.x; x += 10) Win32::TextOut (dc, x, y, <span class="stringliteral">&quot;*&quot;</span>, 1);</div>
<div class="line"><a id="l07815" name="l07815"></a><span class="lineno"> 7815</span> </div>
<div class="line"><a id="l07816" name="l07816"></a><span class="lineno"> 7816</span>$       Win32::Ellipse (dc, 0, 0, size.x, size.y);</div>
<div class="line"><a id="l07817" name="l07817"></a><span class="lineno"> 7817</span>$       Win32::ExtFloodFill (dc, size.x/2, size.y/2, <a class="code hl_variable" href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">TX_TRANSPARENT</a>, FLOODFILLSURFACE);</div>
<div class="line"><a id="l07818" name="l07818"></a><span class="lineno"> 7818</span> </div>
<div class="line"><a id="l07819" name="l07819"></a><span class="lineno"> 7819</span>$       <a class="code hl_function" href="group___drawing.html#ga09488931ddf7b1e7e0b31529e1904887">txBitBlt</a> (dc, size.x/2,        0, size.x/2, size.y/2, dc,        0,        0) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07820" name="l07820"></a><span class="lineno"> 7820</span>$       <a class="code hl_function" href="group___drawing.html#ga09488931ddf7b1e7e0b31529e1904887">txBitBlt</a> (dc, size.x/2, size.y/2, size.x/2, size.y/2, dc,        0, size.y/2) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07821" name="l07821"></a><span class="lineno"> 7821</span>$       <a class="code hl_function" href="group___drawing.html#ga09488931ddf7b1e7e0b31529e1904887">txBitBlt</a> (dc,        0, size.y/2, size.x/2, size.y/2, dc,        0,        0) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07822" name="l07822"></a><span class="lineno"> 7822</span>$       <a class="code hl_function" href="group___drawing.html#ga09488931ddf7b1e7e0b31529e1904887">txBitBlt</a> (dc, size.x/2, size.y/2, size.x/2, size.y/2, dc, size.x/2,        0) <a class="code hl_define" href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a>;</div>
<div class="line"><a id="l07823" name="l07823"></a><span class="lineno"> 7823</span>        }</div>
<div class="line"><a id="l07824" name="l07824"></a><span class="lineno"> 7824</span> </div>
<div class="line"><a id="l07825" name="l07825"></a><span class="lineno"> 7825</span>$   mask = (DWORD) SetThreadAffinityMask (GetCurrentThread(), mask);</div>
<div class="line"><a id="l07826" name="l07826"></a><span class="lineno"> 7826</span>$   <a class="code hl_define" href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a> (mask);</div>
<div class="line"><a id="l07827" name="l07827"></a><span class="lineno"> 7827</span> </div>
<div class="line"><a id="l07828" name="l07828"></a><span class="lineno"> 7828</span>$   _txBuffer_Delete (&amp;dc);</div>
<div class="line"><a id="l07829" name="l07829"></a><span class="lineno"> 7829</span> </div>
<div class="line"><a id="l07830" name="l07830"></a><span class="lineno"> 7830</span>$   return 15.0 * samples / sqrt (1.0 * size.x * size.y);</div>
<div class="line"><a id="l07831" name="l07831"></a><span class="lineno"> 7831</span>    }</div>
<div class="line"><a id="l07832" name="l07832"></a><span class="lineno"> 7832</span> </div>
<div class="line"><a id="l07833" name="l07833"></a><span class="lineno"> 7833</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07834" name="l07834"></a><span class="lineno"> 7834</span> </div>
<div class="line"><a id="l07835" name="l07835"></a><span class="lineno"> 7835</span><span class="keywordtype">int</span> <a class="code hl_function" href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">txExtractColor</a> (COLORREF color, COLORREF component)</div>
<div class="line"><a id="l07836" name="l07836"></a><span class="lineno"> 7836</span>    {</div>
<div class="line"><a id="l07837" name="l07837"></a><span class="lineno"> 7837</span>$1  <span class="keywordflow">switch</span> (component)</div>
<div class="line"><a id="l07838" name="l07838"></a><span class="lineno"> 7838</span>        {</div>
<div class="line"><a id="l07839" name="l07839"></a><span class="lineno"> 7839</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="group___drawing.html#ga93e1976dd8ae8d5e1b3932a4e5bfd158">TX_RED</a>:</div>
<div class="line"><a id="l07840" name="l07840"></a><span class="lineno"> 7840</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="group___drawing.html#gaa5cab2d4aa67ea50390c30f094a77862">TX_HUE</a>:        $ <span class="keywordflow">return</span> (color &gt;&gt;  0) &amp; 0xFF;</div>
<div class="line"><a id="l07841" name="l07841"></a><span class="lineno"> 7841</span> </div>
<div class="line"><a id="l07842" name="l07842"></a><span class="lineno"> 7842</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="group___drawing.html#ga32abcdee1b6897c768f21bf9264fe3eb">TX_GREEN</a>:</div>
<div class="line"><a id="l07843" name="l07843"></a><span class="lineno"> 7843</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="group___drawing.html#ga4395ad7eeeda9d2163a89996ca91133e">TX_SATURATION</a>: $ <span class="keywordflow">return</span> (color &gt;&gt;  8) &amp; 0xFF;</div>
<div class="line"><a id="l07844" name="l07844"></a><span class="lineno"> 7844</span> </div>
<div class="line"><a id="l07845" name="l07845"></a><span class="lineno"> 7845</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="group___drawing.html#gaa281a54954945bb0e96314fb4cfad7b9">TX_BLUE</a>:</div>
<div class="line"><a id="l07846" name="l07846"></a><span class="lineno"> 7846</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="group___drawing.html#ga03a8558c6bf26c0d6f59f85fc458c1a8">TX_LIGHTNESS</a>:  $ <span class="keywordflow">return</span> (color &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><a id="l07847" name="l07847"></a><span class="lineno"> 7847</span> </div>
<div class="line"><a id="l07848" name="l07848"></a><span class="lineno"> 7848</span>        <span class="keywordflow">default</span>:            $ <span class="keywordflow">return</span> CLR_INVALID;</div>
<div class="line"><a id="l07849" name="l07849"></a><span class="lineno"> 7849</span>        }</div>
<div class="line"><a id="l07850" name="l07850"></a><span class="lineno"> 7850</span>    }</div>
<div class="line"><a id="l07851" name="l07851"></a><span class="lineno"> 7851</span> </div>
<div class="line"><a id="l07852" name="l07852"></a><span class="lineno"> 7852</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07853" name="l07853"></a><span class="lineno"> 7853</span> </div>
<div class="line"><a id="l07854" name="l07854"></a><span class="lineno"> 7854</span>COLORREF <a class="code hl_function" href="group___drawing.html#ga0dc8953591b63696392ec581c6b25f7c">txRGB2HSL</a> (COLORREF rgbColor)</div>
<div class="line"><a id="l07855" name="l07855"></a><span class="lineno"> 7855</span>    {</div>
<div class="line"><a id="l07856" name="l07856"></a><span class="lineno"> 7856</span>$1  <span class="keywordtype">int</span> r = <a class="code hl_function" href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">txExtractColor</a> (rgbColor, <a class="code hl_variable" href="group___drawing.html#ga93e1976dd8ae8d5e1b3932a4e5bfd158">TX_RED</a>),</div>
<div class="line"><a id="l07857" name="l07857"></a><span class="lineno"> 7857</span>        g = <a class="code hl_function" href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">txExtractColor</a> (rgbColor, <a class="code hl_variable" href="group___drawing.html#ga32abcdee1b6897c768f21bf9264fe3eb">TX_GREEN</a>),</div>
<div class="line"><a id="l07858" name="l07858"></a><span class="lineno"> 7858</span>        b = <a class="code hl_function" href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">txExtractColor</a> (rgbColor, <a class="code hl_variable" href="group___drawing.html#gaa281a54954945bb0e96314fb4cfad7b9">TX_BLUE</a>);</div>
<div class="line"><a id="l07859" name="l07859"></a><span class="lineno"> 7859</span> </div>
<div class="line"><a id="l07860" name="l07860"></a><span class="lineno"> 7860</span>$   <span class="keywordtype">double</span> m1 = <a class="code hl_define" href="group___misc.html#gafa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a> (<a class="code hl_define" href="group___misc.html#gafa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a> (r, g), b) / 255.0,</div>
<div class="line"><a id="l07861" name="l07861"></a><span class="lineno"> 7861</span>           m2 = <a class="code hl_define" href="group___misc.html#ga3acffbd305ee72dcd4593c0d8af64a4f">MIN</a> (<a class="code hl_define" href="group___misc.html#ga3acffbd305ee72dcd4593c0d8af64a4f">MIN</a> (r, g), b) / 255.0,</div>
<div class="line"><a id="l07862" name="l07862"></a><span class="lineno"> 7862</span>           dm = m1 - m2,</div>
<div class="line"><a id="l07863" name="l07863"></a><span class="lineno"> 7863</span>           sm = m1 + m2,</div>
<div class="line"><a id="l07864" name="l07864"></a><span class="lineno"> 7864</span> </div>
<div class="line"><a id="l07865" name="l07865"></a><span class="lineno"> 7865</span>           ir = r / 255.0,</div>
<div class="line"><a id="l07866" name="l07866"></a><span class="lineno"> 7866</span>           ig = g / 255.0,</div>
<div class="line"><a id="l07867" name="l07867"></a><span class="lineno"> 7867</span>           ib = b / 255.0,</div>
<div class="line"><a id="l07868" name="l07868"></a><span class="lineno"> 7868</span> </div>
<div class="line"><a id="l07869" name="l07869"></a><span class="lineno"> 7869</span>           ih = 0,</div>
<div class="line"><a id="l07870" name="l07870"></a><span class="lineno"> 7870</span>           is = 0,</div>
<div class="line"><a id="l07871" name="l07871"></a><span class="lineno"> 7871</span>           il = sm / 2;</div>
<div class="line"><a id="l07872" name="l07872"></a><span class="lineno"> 7872</span> </div>
<div class="line"><a id="l07873" name="l07873"></a><span class="lineno"> 7873</span>$   <span class="keyword">const</span> <span class="keywordtype">double</span> prec = 0.001;</div>
<div class="line"><a id="l07874" name="l07874"></a><span class="lineno"> 7874</span> </div>
<div class="line"><a id="l07875" name="l07875"></a><span class="lineno"> 7875</span>$   <span class="keywordflow">if</span> (fabs (dm) &lt; prec)</div>
<div class="line"><a id="l07876" name="l07876"></a><span class="lineno"> 7876</span>        {</div>
<div class="line"><a id="l07877" name="l07877"></a><span class="lineno"> 7877</span>$       is = dm / ((sm &lt;= 1)? sm : (2-sm));</div>
<div class="line"><a id="l07878" name="l07878"></a><span class="lineno"> 7878</span> </div>
<div class="line"><a id="l07879" name="l07879"></a><span class="lineno"> 7879</span>$       <span class="keywordtype">double</span> cr = (m1 - ir) / dm,</div>
<div class="line"><a id="l07880" name="l07880"></a><span class="lineno"> 7880</span>               cg = (m1 - ig) / dm,</div>
<div class="line"><a id="l07881" name="l07881"></a><span class="lineno"> 7881</span>               cb = (m1 - ib) / dm;</div>
<div class="line"><a id="l07882" name="l07882"></a><span class="lineno"> 7882</span> </div>
<div class="line"><a id="l07883" name="l07883"></a><span class="lineno"> 7883</span>$       <span class="keywordflow">if</span> (fabs (ir - m1) &lt; prec) ih =     cb - cg;</div>
<div class="line"><a id="l07884" name="l07884"></a><span class="lineno"> 7884</span>$       <span class="keywordflow">if</span> (fabs (ig - m1) &lt; prec) ih = 2 + cr - cb;</div>
<div class="line"><a id="l07885" name="l07885"></a><span class="lineno"> 7885</span>$       <span class="keywordflow">if</span> (fabs (ib - m1) &lt; prec) ih = 4 + cg - cr;</div>
<div class="line"><a id="l07886" name="l07886"></a><span class="lineno"> 7886</span>        }</div>
<div class="line"><a id="l07887" name="l07887"></a><span class="lineno"> 7887</span> </div>
<div class="line"><a id="l07888" name="l07888"></a><span class="lineno"> 7888</span>$   ih = (ih &gt;= 0)? ih*60 : ih*60 + 360;</div>
<div class="line"><a id="l07889" name="l07889"></a><span class="lineno"> 7889</span> </div>
<div class="line"><a id="l07890" name="l07890"></a><span class="lineno"> 7890</span>$   <span class="keywordflow">return</span> RGB (<a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (ih / 360 * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (is * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (il * 255));</div>
<div class="line"><a id="l07891" name="l07891"></a><span class="lineno"> 7891</span>    }</div>
<div class="line"><a id="l07892" name="l07892"></a><span class="lineno"> 7892</span> </div>
<div class="line"><a id="l07893" name="l07893"></a><span class="lineno"> 7893</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07894" name="l07894"></a><span class="lineno"> 7894</span> </div>
<div class="line"><a id="l07895" name="l07895"></a><span class="lineno"> 7895</span>COLORREF <a class="code hl_function" href="group___drawing.html#ga1a87b7cd3e5a74e4dc6828d42d03fffa">txHSL2RGB</a> (COLORREF hslColor)</div>
<div class="line"><a id="l07896" name="l07896"></a><span class="lineno"> 7896</span>    {</div>
<div class="line"><a id="l07897" name="l07897"></a><span class="lineno"> 7897</span>$1  <span class="keyword">struct </span>xRGB</div>
<div class="line"><a id="l07898" name="l07898"></a><span class="lineno"> 7898</span>        {</div>
<div class="line"><a id="l07899" name="l07899"></a><span class="lineno"> 7899</span>        <span class="keyword">static</span> <span class="keywordtype">double</span> calc (<span class="keywordtype">double</span> h, <span class="keywordtype">double</span> m1, <span class="keywordtype">double</span> m2)</div>
<div class="line"><a id="l07900" name="l07900"></a><span class="lineno"> 7900</span>            {</div>
<div class="line"><a id="l07901" name="l07901"></a><span class="lineno"> 7901</span>$           <span class="keywordflow">if</span> (h &lt; 0)   h += 360;</div>
<div class="line"><a id="l07902" name="l07902"></a><span class="lineno"> 7902</span>$           <span class="keywordflow">if</span> (h &gt; 360) h -= 360;</div>
<div class="line"><a id="l07903" name="l07903"></a><span class="lineno"> 7903</span> </div>
<div class="line"><a id="l07904" name="l07904"></a><span class="lineno"> 7904</span>$           <span class="keywordflow">return</span> (h &lt;  60)? m1 + (m2-m1) *      h  / 60 :</div>
<div class="line"><a id="l07905" name="l07905"></a><span class="lineno"> 7905</span>                   (h &lt; 180)? m2 :</div>
<div class="line"><a id="l07906" name="l07906"></a><span class="lineno"> 7906</span>                   (h &lt; 240)? m1 + (m2-m1) * (240-h) / 60 :</div>
<div class="line"><a id="l07907" name="l07907"></a><span class="lineno"> 7907</span>                              m1;</div>
<div class="line"><a id="l07908" name="l07908"></a><span class="lineno"> 7908</span>            }</div>
<div class="line"><a id="l07909" name="l07909"></a><span class="lineno"> 7909</span>        };</div>
<div class="line"><a id="l07910" name="l07910"></a><span class="lineno"> 7910</span> </div>
<div class="line"><a id="l07911" name="l07911"></a><span class="lineno"> 7911</span>$   <span class="keywordtype">int</span> h = <a class="code hl_function" href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">txExtractColor</a> (hslColor, <a class="code hl_variable" href="group___drawing.html#gaa5cab2d4aa67ea50390c30f094a77862">TX_HUE</a>),</div>
<div class="line"><a id="l07912" name="l07912"></a><span class="lineno"> 7912</span>        s = <a class="code hl_function" href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">txExtractColor</a> (hslColor, <a class="code hl_variable" href="group___drawing.html#ga4395ad7eeeda9d2163a89996ca91133e">TX_SATURATION</a>),</div>
<div class="line"><a id="l07913" name="l07913"></a><span class="lineno"> 7913</span>        l = <a class="code hl_function" href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">txExtractColor</a> (hslColor, <a class="code hl_variable" href="group___drawing.html#ga03a8558c6bf26c0d6f59f85fc458c1a8">TX_LIGHTNESS</a>);</div>
<div class="line"><a id="l07914" name="l07914"></a><span class="lineno"> 7914</span> </div>
<div class="line"><a id="l07915" name="l07915"></a><span class="lineno"> 7915</span>$   <span class="keywordtype">double</span> ih = h / 255.0 * 360.0,</div>
<div class="line"><a id="l07916" name="l07916"></a><span class="lineno"> 7916</span>           il = l / 100.0,</div>
<div class="line"><a id="l07917" name="l07917"></a><span class="lineno"> 7917</span>           is = s / 100.0,</div>
<div class="line"><a id="l07918" name="l07918"></a><span class="lineno"> 7918</span> </div>
<div class="line"><a id="l07919" name="l07919"></a><span class="lineno"> 7919</span>           m2 = (il &lt;= 0.5)? il * (1 + is) : il + is - il * is,</div>
<div class="line"><a id="l07920" name="l07920"></a><span class="lineno"> 7920</span>           m1 = 2 * il - m2,</div>
<div class="line"><a id="l07921" name="l07921"></a><span class="lineno"> 7921</span> </div>
<div class="line"><a id="l07922" name="l07922"></a><span class="lineno"> 7922</span>           ir = s? xRGB::calc (ih + 120, m1, m2) : il,</div>
<div class="line"><a id="l07923" name="l07923"></a><span class="lineno"> 7923</span>           ig = s? xRGB::calc (ih,       m1, m2) : il,</div>
<div class="line"><a id="l07924" name="l07924"></a><span class="lineno"> 7924</span>           ib = s? xRGB::calc (ih - 120, m1, m2) : il;</div>
<div class="line"><a id="l07925" name="l07925"></a><span class="lineno"> 7925</span> </div>
<div class="line"><a id="l07926" name="l07926"></a><span class="lineno"> 7926</span>$   <span class="keywordflow">return</span> RGB (<a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (ir * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (ig * 255), <a class="code hl_define" href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a> (ib * 255));</div>
<div class="line"><a id="l07927" name="l07927"></a><span class="lineno"> 7927</span>    }</div>
<div class="line"><a id="l07928" name="l07928"></a><span class="lineno"> 7928</span> </div>
<div class="line"><a id="l07929" name="l07929"></a><span class="lineno"> 7929</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07930" name="l07930"></a><span class="lineno"> 7930</span> </div>
<div class="line"><a id="l07931" name="l07931"></a><span class="lineno"> 7931</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l07932" name="l07932"></a><span class="lineno"> 7932</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (T x, T a, T b)</div>
<div class="line"><a id="l07933" name="l07933"></a><span class="lineno"> 7933</span>    {</div>
<div class="line"><a id="l07934" name="l07934"></a><span class="lineno"> 7934</span>    <span class="keywordflow">return</span> a &lt;= x &amp;&amp; x &lt;= b;</div>
<div class="line"><a id="l07935" name="l07935"></a><span class="lineno"> 7935</span>    }</div>
<div class="line"><a id="l07936" name="l07936"></a><span class="lineno"> 7936</span> </div>
<div class="line"><a id="l07937" name="l07937"></a><span class="lineno"> 7937</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07938" name="l07938"></a><span class="lineno"> 7938</span> </div>
<div class="line"><a id="l07939" name="l07939"></a><span class="lineno"> 7939</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (<span class="keyword">const</span> POINT&amp; pt, <span class="keyword">const</span> RECT&amp; rect)</div>
<div class="line"><a id="l07940" name="l07940"></a><span class="lineno"> 7940</span>    {</div>
<div class="line"><a id="l07941" name="l07941"></a><span class="lineno"> 7941</span>    _TX_IF_ARGUMENT_FAILED (&amp;pt)   <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07942" name="l07942"></a><span class="lineno"> 7942</span>    _TX_IF_ARGUMENT_FAILED (&amp;rect) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07943" name="l07943"></a><span class="lineno"> 7943</span> </div>
<div class="line"><a id="l07944" name="l07944"></a><span class="lineno"> 7944</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (pt.x, rect.left, rect.right) &amp;&amp;</div>
<div class="line"><a id="l07945" name="l07945"></a><span class="lineno"> 7945</span>           <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (pt.y, rect.top,  rect.bottom);</div>
<div class="line"><a id="l07946" name="l07946"></a><span class="lineno"> 7946</span>    }</div>
<div class="line"><a id="l07947" name="l07947"></a><span class="lineno"> 7947</span> </div>
<div class="line"><a id="l07948" name="l07948"></a><span class="lineno"> 7948</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07949" name="l07949"></a><span class="lineno"> 7949</span> </div>
<div class="line"><a id="l07950" name="l07950"></a><span class="lineno"> 7950</span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (<span class="keyword">const</span> COORD&amp; pt, <span class="keyword">const</span> SMALL_RECT&amp; rect)</div>
<div class="line"><a id="l07951" name="l07951"></a><span class="lineno"> 7951</span>    {</div>
<div class="line"><a id="l07952" name="l07952"></a><span class="lineno"> 7952</span>    _TX_IF_ARGUMENT_FAILED (&amp;pt)   <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07953" name="l07953"></a><span class="lineno"> 7953</span>    _TX_IF_ARGUMENT_FAILED (&amp;rect) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l07954" name="l07954"></a><span class="lineno"> 7954</span> </div>
<div class="line"><a id="l07955" name="l07955"></a><span class="lineno"> 7955</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (pt.X, rect.Left, rect.Right) &amp;&amp;</div>
<div class="line"><a id="l07956" name="l07956"></a><span class="lineno"> 7956</span>           <a class="code hl_function" href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a> (pt.Y, rect.Top,  rect.Bottom);</div>
<div class="line"><a id="l07957" name="l07957"></a><span class="lineno"> 7957</span>    }</div>
<div class="line"><a id="l07958" name="l07958"></a><span class="lineno"> 7958</span> </div>
<div class="line"><a id="l07959" name="l07959"></a><span class="lineno"> 7959</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07960" name="l07960"></a><span class="lineno"> 7960</span> </div>
<div class="line"><a id="l07961" name="l07961"></a><span class="lineno"> 7961</span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="group___misc.html#gaa4558a3bf2a126a9e19c5a3655520787">random</a> (<span class="keywordtype">int</span> range)</div>
<div class="line"><a id="l07962" name="l07962"></a><span class="lineno"> 7962</span>    {</div>
<div class="line"><a id="l07963" name="l07963"></a><span class="lineno"> 7963</span>    <span class="keywordflow">return</span> rand() % range;</div>
<div class="line"><a id="l07964" name="l07964"></a><span class="lineno"> 7964</span>    }</div>
<div class="line"><a id="l07965" name="l07965"></a><span class="lineno"> 7965</span> </div>
<div class="line"><a id="l07966" name="l07966"></a><span class="lineno"> 7966</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07967" name="l07967"></a><span class="lineno"> 7967</span> </div>
<div class="line"><a id="l07968" name="l07968"></a><span class="lineno"> 7968</span><span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code hl_function" href="group___misc.html#gaa4558a3bf2a126a9e19c5a3655520787">random</a> (<span class="keywordtype">double</span> left, <span class="keywordtype">double</span> right)</div>
<div class="line"><a id="l07969" name="l07969"></a><span class="lineno"> 7969</span>    {</div>
<div class="line"><a id="l07970" name="l07970"></a><span class="lineno"> 7970</span>    <span class="keywordflow">return</span> left + (right - left) * ((<span class="keywordtype">double</span>) rand() / RAND_MAX);</div>
<div class="line"><a id="l07971" name="l07971"></a><span class="lineno"> 7971</span>    }</div>
<div class="line"><a id="l07972" name="l07972"></a><span class="lineno"> 7972</span> </div>
<div class="line"><a id="l07973" name="l07973"></a><span class="lineno"> 7973</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07974" name="l07974"></a><span class="lineno"> 7974</span> </div>
<div class="line"><a id="l07975" name="l07975"></a><span class="lineno"> 7975</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l07976" name="l07976"></a><span class="lineno"> 7976</span><span class="keyword">inline</span> T zero()</div>
<div class="line"><a id="l07977" name="l07977"></a><span class="lineno"> 7977</span><span class="preprocessor">#ifdef _MSC_VER_6</span></div>
<div class="line"><a id="l07978" name="l07978"></a><span class="lineno"> 7978</span>    { T __zero = {0}; <span class="keywordflow">return</span> __zero; }</div>
<div class="line"><a id="l07979" name="l07979"></a><span class="lineno"> 7979</span> </div>
<div class="line"><a id="l07980" name="l07980"></a><span class="lineno"> 7980</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l07981" name="l07981"></a><span class="lineno"> 7981</span>    { T __zero = { }; <span class="keywordflow">return</span> __zero; }</div>
<div class="line"><a id="l07982" name="l07982"></a><span class="lineno"> 7982</span> </div>
<div class="line"><a id="l07983" name="l07983"></a><span class="lineno"> 7983</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l07984" name="l07984"></a><span class="lineno"> 7984</span> </div>
<div class="line"><a id="l07985" name="l07985"></a><span class="lineno"> 7985</span><span class="comment">//}</span></div>
<div class="line"><a id="l07986" name="l07986"></a><span class="lineno"> 7986</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l07987" name="l07987"></a><span class="lineno"> 7987</span> </div>
<div class="line"><a id="l07988" name="l07988"></a><span class="lineno"> 7988</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l07989" name="l07989"></a><span class="lineno"> 7989</span><span class="comment">//{          txDialog methods implementation</span></div>
<div class="line"><a id="l07990" name="l07990"></a><span class="lineno"> 7990</span><span class="comment">//              txDialog</span></div>
<div class="line"><a id="l07991" name="l07991"></a><span class="lineno"> 7991</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l07992" name="l07992"></a><span class="lineno"> 7992</span> </div>
<div class="line"><a id="l07993" name="l07993"></a><span class="lineno"> 7993</span><a class="code hl_function" href="structtx_dialog.html#a081a2029ed8e4ffd6726c9f39966a04c">txDialog::txDialog</a> () :</div>
<div class="line"><a id="l07994" name="l07994"></a><span class="lineno"> 7994</span>    layout_ (NULL)</div>
<div class="line"><a id="l07995" name="l07995"></a><span class="lineno"> 7995</span>    {$1}</div>
<div class="line"><a id="l07996" name="l07996"></a><span class="lineno"> 7996</span> </div>
<div class="line"><a id="l07997" name="l07997"></a><span class="lineno"> 7997</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l07998" name="l07998"></a><span class="lineno"> 7998</span> </div>
<div class="line"><a id="l07999" name="l07999"></a><span class="lineno"> 7999</span><a class="code hl_function" href="structtx_dialog.html#a081a2029ed8e4ffd6726c9f39966a04c">txDialog::txDialog</a> (<span class="keyword">const</span> Layout* layout) :</div>
<div class="line"><a id="l08000" name="l08000"></a><span class="lineno"> 8000</span>    layout_ (layout)</div>
<div class="line"><a id="l08001" name="l08001"></a><span class="lineno"> 8001</span>    {$1}</div>
<div class="line"><a id="l08002" name="l08002"></a><span class="lineno"> 8002</span> </div>
<div class="line"><a id="l08003" name="l08003"></a><span class="lineno"> 8003</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08004" name="l08004"></a><span class="lineno"> 8004</span> </div>
<div class="line"><a id="l08005" name="l08005"></a><span class="lineno"> 8005</span><span class="keyword">const</span> <a class="code hl_struct" href="structtx_dialog_1_1_layout.html">txDialog::Layout</a>* <a class="code hl_function" href="structtx_dialog.html#acc3c6561d4b13780848b7b5ff032f2e4">txDialog::setLayout</a> (<span class="keyword">const</span> Layout* layout)</div>
<div class="line"><a id="l08006" name="l08006"></a><span class="lineno"> 8006</span>    {</div>
<div class="line"><a id="l08007" name="l08007"></a><span class="lineno"> 8007</span>$1  <span class="keywordflow">return</span> std::swap (layout_, layout), layout;</div>
<div class="line"><a id="l08008" name="l08008"></a><span class="lineno"> 8008</span>    }</div>
<div class="line"><a id="l08009" name="l08009"></a><span class="lineno"> 8009</span> </div>
<div class="line"><a id="l08010" name="l08010"></a><span class="lineno"> 8010</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08011" name="l08011"></a><span class="lineno"> 8011</span> </div>
<div class="line"><a id="l08012" name="l08012"></a><span class="lineno"> 8012</span>INT_PTR <a class="code hl_function" href="structtx_dialog.html#ae1990ecaf5a955c66eae928aa0d9c896">txDialog::dialogBox</a> (WORD resourceID)</div>
<div class="line"><a id="l08013" name="l08013"></a><span class="lineno"> 8013</span>    {</div>
<div class="line"><a id="l08014" name="l08014"></a><span class="lineno"> 8014</span>$1  <span class="keyword">const</span> <span class="keywordtype">char</span>* resName = (<span class="keywordtype">char</span>*)(ptrdiff_t) resourceID;</div>
<div class="line"><a id="l08015" name="l08015"></a><span class="lineno"> 8015</span> </div>
<div class="line"><a id="l08016" name="l08016"></a><span class="lineno"> 8016</span>$   <span class="keywordflow">if</span> (!FindResource (NULL, resName, RT_DIALOG)) <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;    %d&quot;</span> <a class="code hl_define" href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a> resourceID), 0;</div>
<div class="line"><a id="l08017" name="l08017"></a><span class="lineno"> 8017</span> </div>
<div class="line"><a id="l08018" name="l08018"></a><span class="lineno"> 8018</span>$   <span class="keywordflow">return</span> DialogBoxParam (NULL, resName, NULL, dialogProc__, (LPARAM) <span class="keyword">this</span>);</div>
<div class="line"><a id="l08019" name="l08019"></a><span class="lineno"> 8019</span>    }</div>
<div class="line"><a id="l08020" name="l08020"></a><span class="lineno"> 8020</span> </div>
<div class="line"><a id="l08021" name="l08021"></a><span class="lineno"> 8021</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08022" name="l08022"></a><span class="lineno"> 8022</span> </div>
<div class="line"><a id="l08023" name="l08023"></a><span class="lineno"> 8023</span>INT_PTR <a class="code hl_function" href="structtx_dialog.html#ae1990ecaf5a955c66eae928aa0d9c896">txDialog::dialogBox</a> (<span class="keyword">const</span> <a class="code hl_struct" href="structtx_dialog_1_1_layout.html">txDialog::Layout</a>* layout <span class="comment">/*= NULL*/</span>, <span class="keywordtype">size_t</span> bufsize <span class="comment">/*= 0*/</span>)</div>
<div class="line"><a id="l08024" name="l08024"></a><span class="lineno"> 8024</span>    {</div>
<div class="line"><a id="l08025" name="l08025"></a><span class="lineno"> 8025</span>$1  <span class="keywordflow">if</span> (!layout)  layout = layout_;</div>
<div class="line"><a id="l08026" name="l08026"></a><span class="lineno"> 8026</span>$   <span class="keywordflow">if</span> (!layout)  <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;    &quot;</span>), 0;</div>
<div class="line"><a id="l08027" name="l08027"></a><span class="lineno"> 8027</span> </div>
<div class="line"><a id="l08028" name="l08028"></a><span class="lineno"> 8028</span>$   <span class="keywordflow">if</span> (!bufsize) bufsize = 1024;</div>
<div class="line"><a id="l08029" name="l08029"></a><span class="lineno"> 8029</span> </div>
<div class="line"><a id="l08030" name="l08030"></a><span class="lineno"> 8030</span>$   DLGTEMPLATE* tmpl = (DLGTEMPLATE*) GlobalAlloc (GPTR, bufsize);</div>
<div class="line"><a id="l08031" name="l08031"></a><span class="lineno"> 8031</span>$   <span class="keywordflow">if</span> (!tmpl) <span class="keywordflow">return</span> <a class="code hl_define" href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a> (<span class="stringliteral">&quot;GlobalAlloc():     &quot;</span>), 0;</div>
<div class="line"><a id="l08032" name="l08032"></a><span class="lineno"> 8032</span> </div>
<div class="line"><a id="l08033" name="l08033"></a><span class="lineno"> 8033</span>$   <span class="keyword">const</span> Layout* dlg = &amp;layout[0];</div>
<div class="line"><a id="l08034" name="l08034"></a><span class="lineno"> 8034</span>$   <span class="keyword">const</span> Layout  def = { <a class="code hl_enumvalue" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a1988e748c6846b398b020c0cb6f057ab">DIALOG</a>, NULL, 0, 0,0,0,0, WS_CAPTION | WS_SYSMENU | DS_MODALFRAME | DS_CENTER, <span class="stringliteral">&quot;MS Shell Dlg&quot;</span>, 8 };</div>
<div class="line"><a id="l08035" name="l08035"></a><span class="lineno"> 8035</span> </div>
<div class="line"><a id="l08036" name="l08036"></a><span class="lineno"> 8036</span>$   <span class="keywordtype">void</span>* ptr = _tx_DLGTEMPLATE_Create (tmpl, bufsize,</div>
<div class="line"><a id="l08037" name="l08037"></a><span class="lineno"> 8037</span>                                       (dlg-&gt;style? dlg-&gt;style : def.style) | DS_SETFONT, 0, 0,</div>
<div class="line"><a id="l08038" name="l08038"></a><span class="lineno"> 8038</span>                                        dlg-&gt;x, dlg-&gt;y, dlg-&gt;sx, dlg-&gt;sy,</div>
<div class="line"><a id="l08039" name="l08039"></a><span class="lineno"> 8039</span>                                        dlg-&gt;caption?  dlg-&gt;caption  : def.caption,</div>
<div class="line"><a id="l08040" name="l08040"></a><span class="lineno"> 8040</span>                                        dlg-&gt;font?     dlg-&gt;font     : def.font,</div>
<div class="line"><a id="l08041" name="l08041"></a><span class="lineno"> 8041</span>                                        dlg-&gt;fontsize? dlg-&gt;fontsize : def.fontsize, NULL);</div>
<div class="line"><a id="l08042" name="l08042"></a><span class="lineno"> 8042</span>$   WORD i = 0;</div>
<div class="line"><a id="l08043" name="l08043"></a><span class="lineno"> 8043</span>$   <span class="keywordflow">for</span> (i = 1; layout[i].<a class="code hl_variable" href="structtx_dialog_1_1_layout.html#a2591914a85c05cce0fc862df1a569064">wndclass</a> != <a class="code hl_enumvalue" href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a342a4f0af79f46e07894a95e5951b7aa">END</a>; ++i)</div>
<div class="line"><a id="l08044" name="l08044"></a><span class="lineno"> 8044</span>        {</div>
<div class="line"><a id="l08045" name="l08045"></a><span class="lineno"> 8045</span>$       <span class="keyword">const</span> Layout* item = &amp;layout[i];</div>
<div class="line"><a id="l08046" name="l08046"></a><span class="lineno"> 8046</span> </div>
<div class="line"><a id="l08047" name="l08047"></a><span class="lineno"> 8047</span>$       ptr = _tx_DLGTEMPLATE_Add (ptr, bufsize - ((<span class="keywordtype">char</span>*)ptr - (<span class="keywordtype">char</span>*)tmpl),</div>
<div class="line"><a id="l08048" name="l08048"></a><span class="lineno"> 8048</span>                                   item-&gt;style | WS_VISIBLE, 0, item-&gt;x, item-&gt;y, item-&gt;sx, item-&gt;sy,</div>
<div class="line"><a id="l08049" name="l08049"></a><span class="lineno"> 8049</span>                                   item-&gt;id, (<span class="keyword">const</span> <span class="keywordtype">char</span>*) item-&gt;wndclass, item-&gt;caption);</div>
<div class="line"><a id="l08050" name="l08050"></a><span class="lineno"> 8050</span>        }</div>
<div class="line"><a id="l08051" name="l08051"></a><span class="lineno"> 8051</span> </div>
<div class="line"><a id="l08052" name="l08052"></a><span class="lineno"> 8052</span>$   tmpl-&gt;cdit = (<span class="keywordtype">unsigned</span> short) (i-1);</div>
<div class="line"><a id="l08053" name="l08053"></a><span class="lineno"> 8053</span>$   INT_PTR res = DialogBoxIndirectParam (NULL, tmpl, NULL, dialogProc__, (LPARAM) <span class="keyword">this</span>);</div>
<div class="line"><a id="l08054" name="l08054"></a><span class="lineno"> 8054</span> </div>
<div class="line"><a id="l08055" name="l08055"></a><span class="lineno"> 8055</span>$   GlobalFree (tmpl);</div>
<div class="line"><a id="l08056" name="l08056"></a><span class="lineno"> 8056</span> </div>
<div class="line"><a id="l08057" name="l08057"></a><span class="lineno"> 8057</span>$   <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l08058" name="l08058"></a><span class="lineno"> 8058</span>    }</div>
<div class="line"><a id="l08059" name="l08059"></a><span class="lineno"> 8059</span> </div>
<div class="line"><a id="l08060" name="l08060"></a><span class="lineno"> 8060</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08061" name="l08061"></a><span class="lineno"> 8061</span> </div>
<div class="line"><a id="l08062" name="l08062"></a><span class="lineno"> 8062</span><span class="keywordtype">int</span> <a class="code hl_function" href="structtx_dialog.html#a39efe9383833aedb0839d2519173930e">txDialog::dialogProc</a> (HWND, UINT, WPARAM, LPARAM)</div>
<div class="line"><a id="l08063" name="l08063"></a><span class="lineno"> 8063</span>    {</div>
<div class="line"><a id="l08064" name="l08064"></a><span class="lineno"> 8064</span>$1  <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a id="l08065" name="l08065"></a><span class="lineno"> 8065</span>    }</div>
<div class="line"><a id="l08066" name="l08066"></a><span class="lineno"> 8066</span> </div>
<div class="line"><a id="l08067" name="l08067"></a><span class="lineno"> 8067</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08068" name="l08068"></a><span class="lineno"> 8068</span> </div>
<div class="line"><a id="l08069" name="l08069"></a><span class="lineno"> 8069</span>ptrdiff_t CALLBACK txDialog::dialogProc__ (HWND wnd, UINT msg, WPARAM wParam, LPARAM lParam)</div>
<div class="line"><a id="l08070" name="l08070"></a><span class="lineno"> 8070</span>    {</div>
<div class="line"><a id="l08071" name="l08071"></a><span class="lineno"> 8071</span>$1  <span class="keyword">static</span> <a class="code hl_struct" href="structtx_dialog.html">txDialog</a>* this__ = NULL;</div>
<div class="line"><a id="l08072" name="l08072"></a><span class="lineno"> 8072</span> </div>
<div class="line"><a id="l08073" name="l08073"></a><span class="lineno"> 8073</span>$   <span class="keywordflow">if</span> (msg == WM_INITDIALOG) this__ = (<a class="code hl_struct" href="structtx_dialog.html">txDialog</a>*) lParam;</div>
<div class="line"><a id="l08074" name="l08074"></a><span class="lineno"> 8074</span>$   <span class="keywordflow">if</span> (!this__) <span class="keywordflow">return</span> FALSE;</div>
<div class="line"><a id="l08075" name="l08075"></a><span class="lineno"> 8075</span> </div>
<div class="line"><a id="l08076" name="l08076"></a><span class="lineno"> 8076</span>$   <span class="keywordflow">switch</span> (msg)</div>
<div class="line"><a id="l08077" name="l08077"></a><span class="lineno"> 8077</span>        {</div>
<div class="line"><a id="l08078" name="l08078"></a><span class="lineno"> 8078</span>        <span class="keywordflow">case</span> WM_INITDIALOG: $ SetForegroundWindow (wnd);         <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08079" name="l08079"></a><span class="lineno"> 8079</span> </div>
<div class="line"><a id="l08080" name="l08080"></a><span class="lineno"> 8080</span>        <span class="keywordflow">case</span> WM_COMMAND:    $ <span class="keywordflow">switch</span> (LOWORD (wParam))</div>
<div class="line"><a id="l08081" name="l08081"></a><span class="lineno"> 8081</span>            {</div>
<div class="line"><a id="l08082" name="l08082"></a><span class="lineno"> 8082</span>            <span class="keywordflow">case</span> IDOK:</div>
<div class="line"><a id="l08083" name="l08083"></a><span class="lineno"> 8083</span>            <span class="keywordflow">case</span> IDCANCEL:  $ SetForegroundWindow (<a class="code hl_function" href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a>());</div>
<div class="line"><a id="l08084" name="l08084"></a><span class="lineno"> 8084</span>                            $ EndDialog (wnd, (INT_PTR) this__); <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08085" name="l08085"></a><span class="lineno"> 8085</span>            <span class="keywordflow">default</span>:        $ <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08086" name="l08086"></a><span class="lineno"> 8086</span>            }</div>
<div class="line"><a id="l08087" name="l08087"></a><span class="lineno"> 8087</span> </div>
<div class="line"><a id="l08088" name="l08088"></a><span class="lineno"> 8088</span>        <span class="keywordflow">default</span>:            $ <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l08089" name="l08089"></a><span class="lineno"> 8089</span>        }</div>
<div class="line"><a id="l08090" name="l08090"></a><span class="lineno"> 8090</span> </div>
<div class="line"><a id="l08091" name="l08091"></a><span class="lineno"> 8091</span>$   <span class="keywordflow">return</span> this__-&gt; <a class="code hl_function" href="structtx_dialog.html#a39efe9383833aedb0839d2519173930e">dialogProc</a> (wnd, msg, wParam, lParam);</div>
<div class="line"><a id="l08092" name="l08092"></a><span class="lineno"> 8092</span>    }</div>
<div class="line"><a id="l08093" name="l08093"></a><span class="lineno"> 8093</span> </div>
<div class="line"><a id="l08094" name="l08094"></a><span class="lineno"> 8094</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08095" name="l08095"></a><span class="lineno"> 8095</span> </div>
<div class="line"><a id="l08096" name="l08096"></a><span class="lineno"> 8096</span><span class="keywordtype">void</span>* _tx_DLGTEMPLATE_Create (<span class="keywordtype">void</span>* globalMem, <span class="keywordtype">size_t</span> bufsize, DWORD style, DWORD exStyle,</div>
<div class="line"><a id="l08097" name="l08097"></a><span class="lineno"> 8097</span>                              WORD controls, <span class="keywordtype">short</span> x, <span class="keywordtype">short</span> y, <span class="keywordtype">short</span> cx, <span class="keywordtype">short</span> cy,</div>
<div class="line"><a id="l08098" name="l08098"></a><span class="lineno"> 8098</span>                              <span class="keyword">const</span> <span class="keywordtype">char</span> caption[], <span class="keyword">const</span> <span class="keywordtype">char</span> font[], WORD fontsize, HANDLE menu)</div>
<div class="line"><a id="l08099" name="l08099"></a><span class="lineno"> 8099</span>    {</div>
<div class="line"><a id="l08100" name="l08100"></a><span class="lineno"> 8100</span>$1  _TX_IF_ARGUMENT_FAILED (globalMem) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l08101" name="l08101"></a><span class="lineno"> 8101</span> </div>
<div class="line"><a id="l08102" name="l08102"></a><span class="lineno"> 8102</span>$   WORD* pw = (WORD*) globalMem;</div>
<div class="line"><a id="l08103" name="l08103"></a><span class="lineno"> 8103</span> </div>
<div class="line"><a id="l08104" name="l08104"></a><span class="lineno"> 8104</span>$   DLGTEMPLATE* tmpl = ((DLGTEMPLATE*&amp;) pw)++;</div>
<div class="line"><a id="l08105" name="l08105"></a><span class="lineno"> 8105</span> </div>
<div class="line"><a id="l08106" name="l08106"></a><span class="lineno"> 8106</span>$   tmpl-&gt;style = style;</div>
<div class="line"><a id="l08107" name="l08107"></a><span class="lineno"> 8107</span>$   tmpl-&gt;dwExtendedStyle = exStyle;</div>
<div class="line"><a id="l08108" name="l08108"></a><span class="lineno"> 8108</span>$   tmpl-&gt;cdit  = controls;</div>
<div class="line"><a id="l08109" name="l08109"></a><span class="lineno"> 8109</span>$   tmpl-&gt;x     = x;</div>
<div class="line"><a id="l08110" name="l08110"></a><span class="lineno"> 8110</span>$   tmpl-&gt;y     = y;</div>
<div class="line"><a id="l08111" name="l08111"></a><span class="lineno"> 8111</span>$   tmpl-&gt;cx    = cx;</div>
<div class="line"><a id="l08112" name="l08112"></a><span class="lineno"> 8112</span>$   tmpl-&gt;cy    = cy;</div>
<div class="line"><a id="l08113" name="l08113"></a><span class="lineno"> 8113</span> </div>
<div class="line"><a id="l08114" name="l08114"></a><span class="lineno"> 8114</span>$   *pw++ = (WORD)(ptrdiff_t) NULL;</div>
<div class="line"><a id="l08115" name="l08115"></a><span class="lineno"> 8115</span>$   *pw++ = (WORD)(ptrdiff_t) menu;</div>
<div class="line"><a id="l08116" name="l08116"></a><span class="lineno"> 8116</span> </div>
<div class="line"><a id="l08117" name="l08117"></a><span class="lineno"> 8117</span>$   <span class="keywordflow">if</span> (caption)</div>
<div class="line"><a id="l08118" name="l08118"></a><span class="lineno"> 8118</span>        {</div>
<div class="line"><a id="l08119" name="l08119"></a><span class="lineno"> 8119</span>$       pw  += MultiByteToWideChar   (_TX_CP, 0, caption? caption : <span class="stringliteral">&quot;&quot;</span>, -1, (<span class="keywordtype">wchar_t</span>*) pw,</div>
<div class="line"><a id="l08120" name="l08120"></a><span class="lineno"> 8120</span>                                     (<span class="keywordtype">int</span>) (bufsize? bufsize - ((<span class="keywordtype">char</span>*)pw - (<span class="keywordtype">char</span>*)globalMem) : 0xFFFF));</div>
<div class="line"><a id="l08121" name="l08121"></a><span class="lineno"> 8121</span>        }</div>
<div class="line"><a id="l08122" name="l08122"></a><span class="lineno"> 8122</span> </div>
<div class="line"><a id="l08123" name="l08123"></a><span class="lineno"> 8123</span>$   <span class="keywordflow">if</span> (style &amp; DS_SETFONT)</div>
<div class="line"><a id="l08124" name="l08124"></a><span class="lineno"> 8124</span>         {</div>
<div class="line"><a id="l08125" name="l08125"></a><span class="lineno"> 8125</span>$        *pw++ = fontsize;</div>
<div class="line"><a id="l08126" name="l08126"></a><span class="lineno"> 8126</span>$         pw  += MultiByteToWideChar (_TX_CP, 0, font?    font    : <span class="stringliteral">&quot;&quot;</span>, -1, (<span class="keywordtype">wchar_t</span>*) pw,</div>
<div class="line"><a id="l08127" name="l08127"></a><span class="lineno"> 8127</span>                                     (<span class="keywordtype">int</span>) (bufsize? bufsize - ((<span class="keywordtype">char</span>*)pw - (<span class="keywordtype">char</span>*)globalMem) : 0xFFFF));</div>
<div class="line"><a id="l08128" name="l08128"></a><span class="lineno"> 8128</span>         }</div>
<div class="line"><a id="l08129" name="l08129"></a><span class="lineno"> 8129</span> </div>
<div class="line"><a id="l08130" name="l08130"></a><span class="lineno"> 8130</span>$   <span class="keywordflow">return</span> pw;</div>
<div class="line"><a id="l08131" name="l08131"></a><span class="lineno"> 8131</span>    }</div>
<div class="line"><a id="l08132" name="l08132"></a><span class="lineno"> 8132</span> </div>
<div class="line"><a id="l08133" name="l08133"></a><span class="lineno"> 8133</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08134" name="l08134"></a><span class="lineno"> 8134</span> </div>
<div class="line"><a id="l08135" name="l08135"></a><span class="lineno"> 8135</span><span class="keywordtype">void</span>* _tx_DLGTEMPLATE_Add (<span class="keywordtype">void</span>* dlgTemplatePtr, <span class="keywordtype">size_t</span> bufsize, DWORD style, DWORD exStyle,</div>
<div class="line"><a id="l08136" name="l08136"></a><span class="lineno"> 8136</span>                           <span class="keywordtype">short</span> x, <span class="keywordtype">short</span> y, <span class="keywordtype">short</span> cx, <span class="keywordtype">short</span> cy,</div>
<div class="line"><a id="l08137" name="l08137"></a><span class="lineno"> 8137</span>                           WORD <span class="keywordtype">id</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> wclass[], <span class="keyword">const</span> <span class="keywordtype">char</span> caption[])</div>
<div class="line"><a id="l08138" name="l08138"></a><span class="lineno"> 8138</span>    {</div>
<div class="line"><a id="l08139" name="l08139"></a><span class="lineno"> 8139</span>$1  _TX_IF_ARGUMENT_FAILED (dlgTemplatePtr) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l08140" name="l08140"></a><span class="lineno"> 8140</span> </div>
<div class="line"><a id="l08141" name="l08141"></a><span class="lineno"> 8141</span>$   WORD* pw = (LPWORD) dlgTemplatePtr;  <span class="comment">// Force align at word boundary</span></div>
<div class="line"><a id="l08142" name="l08142"></a><span class="lineno"> 8142</span>$   (ULONG&amp;) pw  += 3;</div>
<div class="line"><a id="l08143" name="l08143"></a><span class="lineno"> 8143</span>$   (ULONG&amp;) pw &gt;&gt;= 2;</div>
<div class="line"><a id="l08144" name="l08144"></a><span class="lineno"> 8144</span>$   (ULONG&amp;) pw &lt;&lt;= 2;</div>
<div class="line"><a id="l08145" name="l08145"></a><span class="lineno"> 8145</span> </div>
<div class="line"><a id="l08146" name="l08146"></a><span class="lineno"> 8146</span>$   DLGITEMTEMPLATE* tmpl = ((DLGITEMTEMPLATE*&amp;) pw)++;</div>
<div class="line"><a id="l08147" name="l08147"></a><span class="lineno"> 8147</span> </div>
<div class="line"><a id="l08148" name="l08148"></a><span class="lineno"> 8148</span>$   tmpl-&gt;style = style;</div>
<div class="line"><a id="l08149" name="l08149"></a><span class="lineno"> 8149</span>$   tmpl-&gt;dwExtendedStyle = exStyle;</div>
<div class="line"><a id="l08150" name="l08150"></a><span class="lineno"> 8150</span>$   tmpl-&gt;x     = x;</div>
<div class="line"><a id="l08151" name="l08151"></a><span class="lineno"> 8151</span>$   tmpl-&gt;y     = y;</div>
<div class="line"><a id="l08152" name="l08152"></a><span class="lineno"> 8152</span>$   tmpl-&gt;cx    = cx;</div>
<div class="line"><a id="l08153" name="l08153"></a><span class="lineno"> 8153</span>$   tmpl-&gt;cy    = cy;</div>
<div class="line"><a id="l08154" name="l08154"></a><span class="lineno"> 8154</span>$   tmpl-&gt;id    = id;</div>
<div class="line"><a id="l08155" name="l08155"></a><span class="lineno"> 8155</span> </div>
<div class="line"><a id="l08156" name="l08156"></a><span class="lineno"> 8156</span>$   <span class="keywordflow">if</span> (HIWORD (wclass) == 0xFFFF)</div>
<div class="line"><a id="l08157" name="l08157"></a><span class="lineno"> 8157</span>        {</div>
<div class="line"><a id="l08158" name="l08158"></a><span class="lineno"> 8158</span>$       *pw++ = (WORD) (HIWORD ((ptrdiff_t) wclass));</div>
<div class="line"><a id="l08159" name="l08159"></a><span class="lineno"> 8159</span>$       *pw++ = (WORD) (LOWORD ((ptrdiff_t) wclass));</div>
<div class="line"><a id="l08160" name="l08160"></a><span class="lineno"> 8160</span>        }</div>
<div class="line"><a id="l08161" name="l08161"></a><span class="lineno"> 8161</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wclass)</div>
<div class="line"><a id="l08162" name="l08162"></a><span class="lineno"> 8162</span>        {</div>
<div class="line"><a id="l08163" name="l08163"></a><span class="lineno"> 8163</span>$       pw  += MultiByteToWideChar (_TX_CP, 0, <span class="keyword">const_cast &lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span> (wclass), -1, (<span class="keywordtype">wchar_t</span>*) pw,</div>
<div class="line"><a id="l08164" name="l08164"></a><span class="lineno"> 8164</span>                                   (<span class="keywordtype">int</span>) (bufsize? bufsize - ((<span class="keywordtype">char</span>*)pw - (<span class="keywordtype">char</span>*)dlgTemplatePtr) : 0xFFFF));</div>
<div class="line"><a id="l08165" name="l08165"></a><span class="lineno"> 8165</span>        }</div>
<div class="line"><a id="l08166" name="l08166"></a><span class="lineno"> 8166</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l08167" name="l08167"></a><span class="lineno"> 8167</span>        {</div>
<div class="line"><a id="l08168" name="l08168"></a><span class="lineno"> 8168</span>$       *pw++ = 0;</div>
<div class="line"><a id="l08169" name="l08169"></a><span class="lineno"> 8169</span>        }</div>
<div class="line"><a id="l08170" name="l08170"></a><span class="lineno"> 8170</span> </div>
<div class="line"><a id="l08171" name="l08171"></a><span class="lineno"> 8171</span>$   <span class="keywordflow">if</span> (caption)</div>
<div class="line"><a id="l08172" name="l08172"></a><span class="lineno"> 8172</span>         {</div>
<div class="line"><a id="l08173" name="l08173"></a><span class="lineno"> 8173</span>$        pw  += MultiByteToWideChar (_TX_CP, 0, caption, -1, (<span class="keywordtype">wchar_t</span>*) pw,</div>
<div class="line"><a id="l08174" name="l08174"></a><span class="lineno"> 8174</span>                                    (<span class="keywordtype">int</span>) (bufsize? bufsize - ((<span class="keywordtype">char</span>*)pw - (<span class="keywordtype">char</span>*)dlgTemplatePtr) : 0xFFFF));</div>
<div class="line"><a id="l08175" name="l08175"></a><span class="lineno"> 8175</span>         }</div>
<div class="line"><a id="l08176" name="l08176"></a><span class="lineno"> 8176</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l08177" name="l08177"></a><span class="lineno"> 8177</span>        {</div>
<div class="line"><a id="l08178" name="l08178"></a><span class="lineno"> 8178</span>$       *pw++ = 0;</div>
<div class="line"><a id="l08179" name="l08179"></a><span class="lineno"> 8179</span>        }</div>
<div class="line"><a id="l08180" name="l08180"></a><span class="lineno"> 8180</span> </div>
<div class="line"><a id="l08181" name="l08181"></a><span class="lineno"> 8181</span>$   *pw++ = 0;</div>
<div class="line"><a id="l08182" name="l08182"></a><span class="lineno"> 8182</span> </div>
<div class="line"><a id="l08183" name="l08183"></a><span class="lineno"> 8183</span>$   <span class="keywordflow">return</span> pw;</div>
<div class="line"><a id="l08184" name="l08184"></a><span class="lineno"> 8184</span>    }</div>
<div class="line"><a id="l08185" name="l08185"></a><span class="lineno"> 8185</span> </div>
<div class="line"><a id="l08186" name="l08186"></a><span class="lineno"> 8186</span><span class="comment">//}</span></div>
<div class="line"><a id="l08187" name="l08187"></a><span class="lineno"> 8187</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08188" name="l08188"></a><span class="lineno"> 8188</span> </div>
<div class="line"><a id="l08189" name="l08189"></a><span class="lineno"> 8189</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08190" name="l08190"></a><span class="lineno"> 8190</span><span class="comment">//{          Cleaning up the utility macros</span></div>
<div class="line"><a id="l08191" name="l08191"></a><span class="lineno"> 8191</span><span class="comment">//             </span></div>
<div class="line"><a id="l08192" name="l08192"></a><span class="lineno"> 8192</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08193" name="l08193"></a><span class="lineno"> 8193</span> </div>
<div class="line"><a id="l08194" name="l08194"></a><span class="lineno"> 8194</span><span class="preprocessor">#undef       $</span></div>
<div class="line"><a id="l08195" name="l08195"></a><span class="lineno"> 8195</span> </div>
<div class="line"><a id="l08196" name="l08196"></a><span class="lineno"> 8196</span><span class="comment">//}</span></div>
<div class="line"><a id="l08197" name="l08197"></a><span class="lineno"> 8197</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08198" name="l08198"></a><span class="lineno"> 8198</span> </div>
<div class="line"><a id="l08200" name="l08200"></a><span class="lineno"> 8200</span><span class="comment">//}</span></div>
<div class="line"><a id="l08201" name="l08201"></a><span class="lineno"> 8201</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08202" name="l08202"></a><span class="lineno"> 8202</span> </div>
<div class="line"><a id="l08205" name="l08205"></a><span class="lineno"> 8205</span>} }  <span class="comment">// namespace TX, anonymous namespace</span></div>
<div class="line"><a id="l08206" name="l08206"></a><span class="lineno"> 8206</span> </div>
<div class="line"><a id="l08209" name="l08209"></a><span class="lineno"> 8209</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08210" name="l08210"></a><span class="lineno"> 8210</span><span class="comment">//{          Easy using of TX:: and some of std::</span></div>
<div class="line"><a id="l08211" name="l08211"></a><span class="lineno"> 8211</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08212" name="l08212"></a><span class="lineno"> 8212</span> </div>
<div class="line"><a id="l08213" name="l08213"></a><span class="lineno"> 8213</span><span class="keyword">using namespace </span>TX;            <span class="comment">// Allow easy usage of TXLib functions</span></div>
<div class="line"><a id="l08214" name="l08214"></a><span class="lineno"> 8214</span> </div>
<div class="line"><a id="l08215" name="l08215"></a><span class="lineno"> 8215</span>using ::std::cin;              <span class="comment">// Predefined usings to avoid &quot;using namespace std&quot;</span></div>
<div class="line"><a id="l08216" name="l08216"></a><span class="lineno"> 8216</span>using ::std::cout;</div>
<div class="line"><a id="l08217" name="l08217"></a><span class="lineno"> 8217</span>using ::std::cerr;</div>
<div class="line"><a id="l08218" name="l08218"></a><span class="lineno"> 8218</span>using ::std::string;</div>
<div class="line"><a id="l08219" name="l08219"></a><span class="lineno"> 8219</span> </div>
<div class="line"><a id="l08220" name="l08220"></a><span class="lineno"> 8220</span><span class="comment">//}</span></div>
<div class="line"><a id="l08221" name="l08221"></a><span class="lineno"> 8221</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08222" name="l08222"></a><span class="lineno"> 8222</span> </div>
<div class="line"><a id="l08223" name="l08223"></a><span class="lineno"> 8223</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08224" name="l08224"></a><span class="lineno"> 8224</span><span class="comment">//{          [Experimental] Debugging macros</span></div>
<div class="line"><a id="l08226" name="l08226"></a><span class="lineno"> 8226</span><span class="comment"></span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08227" name="l08227"></a><span class="lineno"> 8227</span> </div>
<div class="line"><a id="l08228" name="l08228"></a><span class="lineno"> 8228</span><span class="comment">//{----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08301" name="l08301"></a><span class="lineno"> 8301</span><span class="comment"></span><span class="comment">//}----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08302" name="l08302"></a><span class="lineno"> 8302</span> </div>
<div class="line"><a id="l08303" name="l08303"></a><span class="lineno"> 8303</span><span class="preprocessor">#ifndef __TX_DEBUG_MACROS</span></div>
<div class="line"><a id="l08304" name="l08304"></a><span class="lineno"><a class="line" href="group___misc.html#gaaa5d2cd4ba134312dcaca4e8316bbe9e"> 8304</a></span><span class="preprocessor">#define __TX_DEBUG_MACROS  (&quot;  $-&quot;</span>)</div>
<div class="line"><a id="l08305" name="l08305"></a><span class="lineno"> 8305</span> </div>
<div class="line"><a id="l08307" name="l08307"></a><span class="lineno"> 8307</span> </div>
<div class="line"><a id="l08308" name="l08308"></a><span class="lineno"> 8308</span><span class="preprocessor">#define $_(var)      _txDump (var)</span></div>
<div class="line"><a id="l08309" name="l08309"></a><span class="lineno"> 8309</span> </div>
<div class="line"><a id="l08310" name="l08310"></a><span class="lineno"> 8310</span><span class="preprocessor">#define $(var)     ( _txDump ((var),  &quot;[&quot;</span> #var &quot; = &quot;, &quot;] &quot;) )</div>
<div class="line"><a id="l08311" name="l08311"></a><span class="lineno"> 8311</span> </div>
<div class="line"><a id="l08312" name="l08312"></a><span class="lineno"> 8312</span><span class="preprocessor">#define $$(cmd)    (  std::cerr &lt;&lt;  &quot;\n[&quot;</span> __TX_FILELINE__ &quot;: &quot; #cmd &quot;]\n&quot;,  \</div>
<div class="line"><a id="l08313" name="l08313"></a><span class="lineno"> 8313</span>                     _txDump ((cmd),&quot;\n[&quot; __TX_FILELINE__ &quot;: &quot; #cmd &quot;: &quot;, &quot;, DONE]\n&quot;) )</div>
<div class="line"><a id="l08314" name="l08314"></a><span class="lineno"> 8314</span> </div>
<div class="line"><a id="l08315" name="l08315"></a><span class="lineno"> 8315</span><span class="preprocessor">#define $$_(cmd)   (  std::cerr &lt;&lt;  &quot;\n[&quot;</span> __TX_FILELINE__ &quot;: &quot; #cmd &quot;]\n&quot;,  \</div>
<div class="line"><a id="l08316" name="l08316"></a><span class="lineno"> 8316</span>                     _txDump ((cmd),  &quot;[&quot; __TX_FILELINE__ &quot;: &quot; #cmd &quot;: &quot;, &quot;, DONE]\n&quot;) )</div>
<div class="line"><a id="l08317" name="l08317"></a><span class="lineno"> 8317</span> </div>
<div class="line"><a id="l08318" name="l08318"></a><span class="lineno"> 8318</span><span class="preprocessor">#define $$$(cmd)   {  std::cerr &lt;&lt;  &quot;\n[&quot;</span> __TX_FILELINE__ &quot;: &quot; #cmd &quot;]\n&quot;;  \</div>
<div class="line"><a id="l08319" name="l08319"></a><span class="lineno"> 8319</span>                     _txDumpSuffix (&quot;\n[&quot; __TX_FILELINE__ &quot;: &quot; #cmd &quot; DONE]\n&quot;); { cmd; } }</div>
<div class="line"><a id="l08320" name="l08320"></a><span class="lineno"> 8320</span> </div>
<div class="line"><a id="l08321" name="l08321"></a><span class="lineno"> 8321</span><span class="preprocessor">#define $$$_(cmd)  {  std::cerr &lt;&lt;  &quot;\n[&quot;</span> __TX_FILELINE__ &quot;: &quot; #cmd &quot;]\n&quot;;  \</div>
<div class="line"><a id="l08322" name="l08322"></a><span class="lineno"> 8322</span>                     _txDumpSuffix (  &quot;[&quot; __TX_FILELINE__ &quot;: &quot; #cmd &quot; DONE]\n&quot;); { cmd; } }</div>
<div class="line"><a id="l08323" name="l08323"></a><span class="lineno"> 8323</span> </div>
<div class="line"><a id="l08324" name="l08324"></a><span class="lineno"> 8324</span><span class="preprocessor">#define $$$$       {       txOutputDebugPrintf (&quot;\f\n&quot;</span>); \</div>
<div class="line"><a id="l08325" name="l08325"></a><span class="lineno"> 8325</span>                   { $s $l txOutputDebugPrintf (&quot;\f&quot; &quot;[%s (%d) %s]&quot;, __FILE__, __LINE__, __TX_FUNCTION__); } txOutputDebugPrintf (&quot;\f\n&quot;); }</div>
<div class="line"><a id="l08326" name="l08326"></a><span class="lineno"> 8326</span> </div>
<div class="line"><a id="l08327" name="l08327"></a><span class="lineno"> 8327</span><span class="preprocessor">#define $$$$_      {       txOutputDebugPrintf (&quot;\f\n&quot;</span>); \</div>
<div class="line"><a id="l08328" name="l08328"></a><span class="lineno"> 8328</span>                   { $s $l txOutputDebugPrintf (&quot;\f&quot; &quot;[%s]&quot;, __func__);                                    } txOutputDebugPrintf (&quot;\f\n&quot;); }</div>
<div class="line"><a id="l08329" name="l08329"></a><span class="lineno"> 8329</span> </div>
<div class="line"><a id="l08330" name="l08330"></a><span class="lineno"> 8330</span><span class="preprocessor">#define $n            std::cerr &lt;&lt; &quot;\n&quot;</span>;</div>
<div class="line"><a id="l08331" name="l08331"></a><span class="lineno"> 8331</span> </div>
<div class="line"><a id="l08332" name="l08332"></a><span class="lineno"> 8332</span><span class="preprocessor">#define $s            _txSaveConsoleAttr __txSaveConsoleAttr;</span></div>
<div class="line"><a id="l08333" name="l08333"></a><span class="lineno"> 8333</span> </div>
<div class="line"><a id="l08334" name="l08334"></a><span class="lineno"> 8334</span><span class="preprocessor">#define $T            txSetConsoleAttr (0x00);</span></div>
<div class="line"><a id="l08335" name="l08335"></a><span class="lineno"> 8335</span><span class="preprocessor">#define $B            txSetConsoleAttr (0x01);</span></div>
<div class="line"><a id="l08336" name="l08336"></a><span class="lineno"> 8336</span><span class="preprocessor">#define $G            txSetConsoleAttr (0x02);</span></div>
<div class="line"><a id="l08337" name="l08337"></a><span class="lineno"> 8337</span><span class="preprocessor">#define $C            txSetConsoleAttr (0x03);</span></div>
<div class="line"><a id="l08338" name="l08338"></a><span class="lineno"> 8338</span><span class="preprocessor">#define $R            txSetConsoleAttr (0x04);</span></div>
<div class="line"><a id="l08339" name="l08339"></a><span class="lineno"> 8339</span><span class="preprocessor">#define $M            txSetConsoleAttr (0x05);</span></div>
<div class="line"><a id="l08340" name="l08340"></a><span class="lineno"> 8340</span><span class="preprocessor">#define $Y            txSetConsoleAttr (0x06);</span></div>
<div class="line"><a id="l08341" name="l08341"></a><span class="lineno"> 8341</span><span class="preprocessor">#define $d            txSetConsoleAttr (0x07);</span></div>
<div class="line"><a id="l08342" name="l08342"></a><span class="lineno"> 8342</span><span class="preprocessor">#define $D            txSetConsoleAttr (0x08);</span></div>
<div class="line"><a id="l08343" name="l08343"></a><span class="lineno"> 8343</span><span class="preprocessor">#define $b            txSetConsoleAttr (0x09);</span></div>
<div class="line"><a id="l08344" name="l08344"></a><span class="lineno"> 8344</span><span class="preprocessor">#define $g            txSetConsoleAttr (0x0a);</span></div>
<div class="line"><a id="l08345" name="l08345"></a><span class="lineno"> 8345</span><span class="preprocessor">#define $c            txSetConsoleAttr (0x0b);</span></div>
<div class="line"><a id="l08346" name="l08346"></a><span class="lineno"> 8346</span><span class="preprocessor">#define $r            txSetConsoleAttr (0x0c);</span></div>
<div class="line"><a id="l08347" name="l08347"></a><span class="lineno"> 8347</span><span class="preprocessor">#define $m            txSetConsoleAttr (0x0d);</span></div>
<div class="line"><a id="l08348" name="l08348"></a><span class="lineno"> 8348</span><span class="preprocessor">#define $y            txSetConsoleAttr (0x0e);</span></div>
<div class="line"><a id="l08349" name="l08349"></a><span class="lineno"> 8349</span><span class="preprocessor">#define $t            txSetConsoleAttr (0x0f);</span></div>
<div class="line"><a id="l08350" name="l08350"></a><span class="lineno"> 8350</span> </div>
<div class="line"><a id="l08351" name="l08351"></a><span class="lineno"> 8351</span><span class="preprocessor">#define $i            txSetConsoleAttr (0x1b);</span></div>
<div class="line"><a id="l08352" name="l08352"></a><span class="lineno"> 8352</span><span class="preprocessor">#define $I            txSetConsoleAttr (0x1e);</span></div>
<div class="line"><a id="l08353" name="l08353"></a><span class="lineno"> 8353</span><span class="preprocessor">#define $a            txSetConsoleAttr (0x2a);</span></div>
<div class="line"><a id="l08354" name="l08354"></a><span class="lineno"> 8354</span><span class="preprocessor">#define $A            txSetConsoleAttr (0x2e);</span></div>
<div class="line"><a id="l08355" name="l08355"></a><span class="lineno"> 8355</span><span class="preprocessor">#define $e            txSetConsoleAttr (0x4f);</span></div>
<div class="line"><a id="l08356" name="l08356"></a><span class="lineno"> 8356</span><span class="preprocessor">#define $E            txSetConsoleAttr (0x4e);</span></div>
<div class="line"><a id="l08357" name="l08357"></a><span class="lineno"> 8357</span><span class="preprocessor">#define $w            txSetConsoleAttr (0x5d);</span></div>
<div class="line"><a id="l08358" name="l08358"></a><span class="lineno"> 8358</span><span class="preprocessor">#define $W            txSetConsoleAttr (0x5e);</span></div>
<div class="line"><a id="l08359" name="l08359"></a><span class="lineno"> 8359</span><span class="preprocessor">#define $f            txSetConsoleAttr (0xc0);</span></div>
<div class="line"><a id="l08360" name="l08360"></a><span class="lineno"> 8360</span><span class="preprocessor">#define $F            txSetConsoleAttr (0xc5);</span></div>
<div class="line"><a id="l08361" name="l08361"></a><span class="lineno"> 8361</span><span class="preprocessor">#define $l            txSetConsoleAttr (0x80);</span></div>
<div class="line"><a id="l08362" name="l08362"></a><span class="lineno"> 8362</span><span class="preprocessor">#define $L            txSetConsoleAttr (0x87);</span></div>
<div class="line"><a id="l08363" name="l08363"></a><span class="lineno"> 8363</span> </div>
<div class="line"><a id="l08364" name="l08364"></a><span class="lineno"> 8364</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08365" name="l08365"></a><span class="lineno"> 8365</span> </div>
<div class="line"><a id="l08366" name="l08366"></a><span class="lineno"> 8366</span><span class="preprocessor">#if !defined (_MSC_VER_6)</span></div>
<div class="line"><a id="l08367" name="l08367"></a><span class="lineno"> 8367</span> </div>
<div class="line"><a id="l08368" name="l08368"></a><span class="lineno"> 8368</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span></div>
<div class="line"><a id="l08369" name="l08369"></a><span class="lineno"> 8369</span><span class="keyword">const</span> T&amp; _txDump (<span class="keyword">const</span> T&amp; value, <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix = <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* suffix = <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l08370" name="l08370"></a><span class="lineno"> 8370</span>    {</div>
<div class="line"><a id="l08371" name="l08371"></a><span class="lineno"> 8371</span>    std::cerr &lt;&lt; prefix &lt;&lt; value &lt;&lt; suffix;</div>
<div class="line"><a id="l08372" name="l08372"></a><span class="lineno"> 8372</span>    <span class="keywordflow">return</span> value;</div>
<div class="line"><a id="l08373" name="l08373"></a><span class="lineno"> 8373</span>    }</div>
<div class="line"><a id="l08374" name="l08374"></a><span class="lineno"> 8374</span> </div>
<div class="line"><a id="l08375" name="l08375"></a><span class="lineno"> 8375</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l08376" name="l08376"></a><span class="lineno"> 8376</span> </div>
<div class="line"><a id="l08377" name="l08377"></a><span class="lineno"> 8377</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span></div>
<div class="line"><a id="l08378" name="l08378"></a><span class="lineno"> 8378</span>      T&amp; _txDump (      T&amp; value, <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix = <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* suffix = <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l08379" name="l08379"></a><span class="lineno"> 8379</span>    {</div>
<div class="line"><a id="l08380" name="l08380"></a><span class="lineno"> 8380</span>    std::cerr &lt;&lt; prefix &lt;&lt; value &lt;&lt; suffix;</div>
<div class="line"><a id="l08381" name="l08381"></a><span class="lineno"> 8381</span>    <span class="keywordflow">return</span> value;</div>
<div class="line"><a id="l08382" name="l08382"></a><span class="lineno"> 8382</span>    }</div>
<div class="line"><a id="l08383" name="l08383"></a><span class="lineno"> 8383</span> </div>
<div class="line"><a id="l08384" name="l08384"></a><span class="lineno"> 8384</span><span class="keyword">struct </span>_txDumpSuffix</div>
<div class="line"><a id="l08385" name="l08385"></a><span class="lineno"> 8385</span>    {</div>
<div class="line"><a id="l08386" name="l08386"></a><span class="lineno"> 8386</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* suffix_;</div>
<div class="line"><a id="l08387" name="l08387"></a><span class="lineno"> 8387</span> </div>
<div class="line"><a id="l08388" name="l08388"></a><span class="lineno"> 8388</span>    <span class="keyword">inline</span>  _txDumpSuffix (<span class="keyword">const</span> <span class="keywordtype">char</span>* suffix = <span class="stringliteral">&quot;&quot;</span>) : suffix_ (suffix)     {}</div>
<div class="line"><a id="l08389" name="l08389"></a><span class="lineno"> 8389</span>    <span class="keyword">inline</span> ~_txDumpSuffix()                         { std::cerr &lt;&lt; suffix_; }</div>
<div class="line"><a id="l08390" name="l08390"></a><span class="lineno"> 8390</span> </div>
<div class="line"><a id="l08391" name="l08391"></a><span class="lineno"> 8391</span>    _txDumpSuffix             (<span class="keyword">const</span> _txDumpSuffix&amp;);</div>
<div class="line"><a id="l08392" name="l08392"></a><span class="lineno"> 8392</span>    _txDumpSuffix&amp; operator = (<span class="keyword">const</span> _txDumpSuffix&amp;);</div>
<div class="line"><a id="l08393" name="l08393"></a><span class="lineno"> 8393</span>    };</div>
<div class="line"><a id="l08394" name="l08394"></a><span class="lineno"> 8394</span> </div>
<div class="line"><a id="l08395" name="l08395"></a><span class="lineno"> 8395</span><span class="keyword">struct </span>_txSaveConsoleAttr</div>
<div class="line"><a id="l08396" name="l08396"></a><span class="lineno"> 8396</span>    {</div>
<div class="line"><a id="l08397" name="l08397"></a><span class="lineno"> 8397</span>    <span class="keywordtype">unsigned</span> attr_;</div>
<div class="line"><a id="l08398" name="l08398"></a><span class="lineno"> 8398</span> </div>
<div class="line"><a id="l08399" name="l08399"></a><span class="lineno"> 8399</span>    <span class="keyword">inline</span>  _txSaveConsoleAttr()           : attr_ (<a class="code hl_function" href="group___drawing.html#ga9f2215b90264133de36ed7c2120f75f5">txGetConsoleAttr</a> ()) {}</div>
<div class="line"><a id="l08400" name="l08400"></a><span class="lineno"> 8400</span>    <span class="keyword">inline</span>  _txSaveConsoleAttr (WORD attr) : attr_ (<a class="code hl_function" href="group___drawing.html#ga9f2215b90264133de36ed7c2120f75f5">txGetConsoleAttr</a> ()) { <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (attr);  }</div>
<div class="line"><a id="l08401" name="l08401"></a><span class="lineno"> 8401</span>    <span class="keyword">inline</span> ~_txSaveConsoleAttr()                                         { <a class="code hl_function" href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a> (attr_); }</div>
<div class="line"><a id="l08402" name="l08402"></a><span class="lineno"> 8402</span>    };</div>
<div class="line"><a id="l08403" name="l08403"></a><span class="lineno"> 8403</span> </div>
<div class="line"><a id="l08405" name="l08405"></a><span class="lineno"> 8405</span> </div>
<div class="line"><a id="l08406" name="l08406"></a><span class="lineno"> 8406</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l08407" name="l08407"></a><span class="lineno"> 8407</span> </div>
<div class="line"><a id="l08408" name="l08408"></a><span class="lineno"> 8408</span><span class="comment">//}</span></div>
<div class="line"><a id="l08409" name="l08409"></a><span class="lineno"> 8409</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08410" name="l08410"></a><span class="lineno"> 8410</span> </div>
<div class="line"><a id="l08411" name="l08411"></a><span class="lineno"> 8411</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08412" name="l08412"></a><span class="lineno"> 8412</span><span class="comment">//{          Compiler- and platform-specific</span></div>
<div class="line"><a id="l08413" name="l08413"></a><span class="lineno"> 8413</span><span class="comment">//               </span></div>
<div class="line"><a id="l08414" name="l08414"></a><span class="lineno"> 8414</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08416" name="l08416"></a><span class="lineno"> 8416</span><span class="comment"></span> </div>
<div class="line"><a id="l08417" name="l08417"></a><span class="lineno"> 8417</span><span class="preprocessor">#if defined (_GCC_VER) &amp;&amp; (_GCC_VER &gt;= 420)</span></div>
<div class="line"><a id="l08418" name="l08418"></a><span class="lineno"> 8418</span> </div>
<div class="line"><a id="l08419" name="l08419"></a><span class="lineno"> 8419</span><span class="preprocessor">    #pragma GCC optimize          (&quot;strict-aliasing&quot;</span>)</div>
<div class="line"><a id="l08420" name="l08420"></a><span class="lineno"> 8420</span> </div>
<div class="line"><a id="l08421" name="l08421"></a><span class="lineno"> 8421</span><span class="preprocessor">    #if (_GCC_VER &gt;= 460)</span></div>
<div class="line"><a id="l08422" name="l08422"></a><span class="lineno"> 8422</span><span class="preprocessor">    #pragma GCC diagnostic pop</span></div>
<div class="line"><a id="l08423" name="l08423"></a><span class="lineno"> 8423</span> </div>
<div class="line"><a id="l08424" name="l08424"></a><span class="lineno"> 8424</span><span class="preprocessor">    #else</span></div>
<div class="line"><a id="l08425" name="l08425"></a><span class="lineno"> 8425</span><span class="preprocessor">    #pragma GCC diagnostic warning &quot;-Wstrict-aliasing&quot;</span></div>
<div class="line"><a id="l08426" name="l08426"></a><span class="lineno"> 8426</span><span class="preprocessor">    #pragma GCC diagnostic warning &quot;-Wshadow&quot;</span></div>
<div class="line"><a id="l08427" name="l08427"></a><span class="lineno"> 8427</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l08428" name="l08428"></a><span class="lineno"> 8428</span> </div>
<div class="line"><a id="l08429" name="l08429"></a><span class="lineno"> 8429</span>    <span class="comment">// Still block this warnings to avoid reporting about &quot;= {0}&quot; or &quot;= {}&quot; init style,</span></div>
<div class="line"><a id="l08430" name="l08430"></a><span class="lineno"> 8430</span>    <span class="comment">// and old style cast used in Windows.h RGB() macro.</span></div>
<div class="line"><a id="l08431" name="l08431"></a><span class="lineno"> 8431</span> </div>
<div class="line"><a id="l08432" name="l08432"></a><span class="lineno"> 8432</span><span class="preprocessor">    #pragma GCC diagnostic ignored &quot;-Wmissing-field-initializers&quot;</span></div>
<div class="line"><a id="l08433" name="l08433"></a><span class="lineno"> 8433</span><span class="preprocessor">    #pragma GCC diagnostic ignored &quot;-Wold-style-cast&quot;</span></div>
<div class="line"><a id="l08434" name="l08434"></a><span class="lineno"> 8434</span> </div>
<div class="line"><a id="l08435" name="l08435"></a><span class="lineno"> 8435</span>    <span class="comment">// These warnings really occur at end of compilation, so block them too.</span></div>
<div class="line"><a id="l08436" name="l08436"></a><span class="lineno"> 8436</span> </div>
<div class="line"><a id="l08437" name="l08437"></a><span class="lineno"> 8437</span><span class="preprocessor">    #pragma GCC diagnostic ignored &quot;-Wunreachable-code&quot;</span></div>
<div class="line"><a id="l08438" name="l08438"></a><span class="lineno"> 8438</span><span class="preprocessor">    #pragma GCC diagnostic ignored &quot;-Wunused-label&quot;</span></div>
<div class="line"><a id="l08439" name="l08439"></a><span class="lineno"> 8439</span><span class="preprocessor">    #pragma GCC diagnostic ignored &quot;-Winline&quot;</span></div>
<div class="line"><a id="l08440" name="l08440"></a><span class="lineno"> 8440</span> </div>
<div class="line"><a id="l08441" name="l08441"></a><span class="lineno"> 8441</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l08442" name="l08442"></a><span class="lineno"> 8442</span> </div>
<div class="line"><a id="l08443" name="l08443"></a><span class="lineno"> 8443</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08444" name="l08444"></a><span class="lineno"> 8444</span> </div>
<div class="line"><a id="l08445" name="l08445"></a><span class="lineno"> 8445</span><span class="preprocessor">#if defined (_MSC_VER)</span></div>
<div class="line"><a id="l08446" name="l08446"></a><span class="lineno"> 8446</span> </div>
<div class="line"><a id="l08447" name="l08447"></a><span class="lineno"> 8447</span><span class="preprocessor">    #pragma warning (default: 4127)             </span><span class="comment">// conditional expression is constant</span></div>
<div class="line"><a id="l08448" name="l08448"></a><span class="lineno"> 8448</span><span class="preprocessor">    #pragma warning (default: 4351)             </span><span class="comment">// new behavior: elements of array will be default initialized</span></div>
<div class="line"><a id="l08449" name="l08449"></a><span class="lineno"> 8449</span> </div>
<div class="line"><a id="l08450" name="l08450"></a><span class="lineno"> 8450</span><span class="preprocessor">    #pragma warning (default: 4511)             </span><span class="comment">// copy constructor could not be generated</span></div>
<div class="line"><a id="l08451" name="l08451"></a><span class="lineno"> 8451</span><span class="preprocessor">    #pragma warning (default: 4512)             </span><span class="comment">// assignment operator could not be generated</span></div>
<div class="line"><a id="l08452" name="l08452"></a><span class="lineno"> 8452</span><span class="preprocessor">    #pragma warning (default: 4663)             </span><span class="comment">// C++ language change: to explicitly specialize class template</span></div>
<div class="line"><a id="l08453" name="l08453"></a><span class="lineno"> 8453</span><span class="preprocessor">    #pragma warning (default: 4702)             </span><span class="comment">// unreachable code</span></div>
<div class="line"><a id="l08454" name="l08454"></a><span class="lineno"> 8454</span> </div>
<div class="line"><a id="l08455" name="l08455"></a><span class="lineno"> 8455</span><span class="preprocessor">    #if (_MSC_VER &gt;= 1400)                      </span><span class="comment">// MSVC 8 (2005) or greater</span></div>
<div class="line"><a id="l08456" name="l08456"></a><span class="lineno"> 8456</span><span class="preprocessor">    #pragma warning (default: 26135)            </span><span class="comment">// missing locking annotation</span></div>
<div class="line"><a id="l08457" name="l08457"></a><span class="lineno"> 8457</span><span class="preprocessor">    #pragma warning (default: 28125)            </span><span class="comment">// the function must be called from within a try/except block</span></div>
<div class="line"><a id="l08458" name="l08458"></a><span class="lineno"> 8458</span><span class="preprocessor">    #pragma warning (default: 28159)            </span><span class="comment">// consider using another function instead</span></div>
<div class="line"><a id="l08459" name="l08459"></a><span class="lineno"> 8459</span><span class="preprocessor">    #endif</span></div>
<div class="line"><a id="l08460" name="l08460"></a><span class="lineno"> 8460</span> </div>
<div class="line"><a id="l08461" name="l08461"></a><span class="lineno"> 8461</span>    <span class="comment">// This warning really occur at end of compilation, so still block it.</span></div>
<div class="line"><a id="l08462" name="l08462"></a><span class="lineno"> 8462</span> </div>
<div class="line"><a id="l08463" name="l08463"></a><span class="lineno"> 8463</span><span class="preprocessor">    #pragma warning (disable: 4514)             </span><span class="comment">// unreferenced inline function has been removed</span></div>
<div class="line"><a id="l08464" name="l08464"></a><span class="lineno"> 8464</span><span class="preprocessor">    #pragma warning (disable: 4710)             </span><span class="comment">// function not inlined</span></div>
<div class="line"><a id="l08465" name="l08465"></a><span class="lineno"> 8465</span><span class="preprocessor">    #pragma warning (disable: 4786)             </span><span class="comment">// identifier was truncated to &#39;255&#39; characters in the debug information</span></div>
<div class="line"><a id="l08466" name="l08466"></a><span class="lineno"> 8466</span> </div>
<div class="line"><a id="l08467" name="l08467"></a><span class="lineno"> 8467</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l08468" name="l08468"></a><span class="lineno"> 8468</span> </div>
<div class="line"><a id="l08469" name="l08469"></a><span class="lineno"> 8469</span><span class="preprocessor">#if defined (__INTEL_COMPILER)</span></div>
<div class="line"><a id="l08470" name="l08470"></a><span class="lineno"> 8470</span> </div>
<div class="line"><a id="l08471" name="l08471"></a><span class="lineno"> 8471</span><span class="preprocessor">    #pragma warning (default:  174)             </span><span class="comment">// remark: expression has no effect</span></div>
<div class="line"><a id="l08472" name="l08472"></a><span class="lineno"> 8472</span><span class="preprocessor">    #pragma warning (default:  304)             </span><span class="comment">// remark: access control not specified (&quot;public&quot; by default)</span></div>
<div class="line"><a id="l08473" name="l08473"></a><span class="lineno"> 8473</span><span class="preprocessor">    #pragma warning (default:  522)             </span><span class="comment">// remark: function redeclared &quot;inline&quot; after being called</span></div>
<div class="line"><a id="l08474" name="l08474"></a><span class="lineno"> 8474</span><span class="preprocessor">    #pragma warning (default:  981)             </span><span class="comment">// remark: operands are evaluated in unspecified order</span></div>
<div class="line"><a id="l08475" name="l08475"></a><span class="lineno"> 8475</span><span class="preprocessor">    #pragma warning (default: 1684)             </span><span class="comment">// conversion from pointer to same-sized integral type (potential portability problem)</span></div>
<div class="line"><a id="l08476" name="l08476"></a><span class="lineno"> 8476</span> </div>
<div class="line"><a id="l08477" name="l08477"></a><span class="lineno"> 8477</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l08478" name="l08478"></a><span class="lineno"> 8478</span> </div>
<div class="line"><a id="l08480" name="l08480"></a><span class="lineno"> 8480</span><span class="comment">//}</span></div>
<div class="line"><a id="l08481" name="l08481"></a><span class="lineno"> 8481</span><span class="comment">//-----------------------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a id="l08482" name="l08482"></a><span class="lineno"> 8482</span> </div>
<div class="line"><a id="l08483" name="l08483"></a><span class="lineno"> 8483</span><span class="preprocessor">#endif </span><span class="comment">// __TXLIB_H_INCLUDED</span></div>
<div class="line"><a id="l08484" name="l08484"></a><span class="lineno"> 8484</span> </div>
<div class="line"><a id="l08485" name="l08485"></a><span class="lineno"> 8485</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08486" name="l08486"></a><span class="lineno"> 8486</span><span class="comment">// EOF</span></div>
<div class="line"><a id="l08487" name="l08487"></a><span class="lineno"> 8487</span><span class="comment">//=================================================================================================================</span></div>
<div class="line"><a id="l08488" name="l08488"></a><span class="lineno"> 8488</span>                                                                                                                   </div>
<div class="line"><a id="l08489" name="l08489"></a><span class="lineno"> 8489</span>                                                                                                                   </div>
<div class="line"><a id="l08490" name="l08490"></a><span class="lineno"> 8490</span>                                                                                                                   </div>
<div class="line"><a id="l08491" name="l08491"></a><span class="lineno"> 8491</span>              </div>
<div class="line"><a id="l08492" name="l08492"></a><span class="lineno"> 8492</span> </div>
<div class="line"><a id="l08493" name="l08493"></a><span class="lineno"> 8493</span> </div>
<div class="line"><a id="l08494" name="l08494"></a><span class="lineno"> 8494</span> </div>
<div class="line"><a id="l08495" name="l08495"></a><span class="lineno"> 8495</span> </div>
<div class="line"><a id="l08496" name="l08496"></a><span class="lineno"> 8496</span> </div>
<div class="line"><a id="l08497" name="l08497"></a><span class="lineno"> 8497</span> </div>
<div class="line"><a id="l08498" name="l08498"></a><span class="lineno"> 8498</span> </div>
<div class="line"><a id="l08499" name="l08499"></a><span class="lineno"> 8499</span> </div>
<div class="ttc" id="aclasstx_auto_lock_html"><div class="ttname"><a href="classtx_auto_lock.html">txAutoLock</a></div><div class="ttdoc">       .</div><div class="ttdef"><b>Definition:</b> TXLib.h:3921</div></div>
<div class="ttc" id="aclasstx_auto_lock_html_a838aae52b26597bf7aa0cd931611dca4"><div class="ttname"><a href="classtx_auto_lock.html#a838aae52b26597bf7aa0cd931611dca4">txAutoLock::~txAutoLock</a></div><div class="ttdeci">~txAutoLock()</div><div class="ttdoc">,  </div><div class="ttdef"><b>Definition:</b> TXLib.h:3981</div></div>
<div class="ttc" id="aclasstx_auto_lock_html_acc8301ae37ef7ee9d5b9c774d27da379"><div class="ttname"><a href="classtx_auto_lock.html#acc8301ae37ef7ee9d5b9c774d27da379">txAutoLock::txAutoLock</a></div><div class="ttdeci">txAutoLock(bool mandatory=true)</div><div class="ttdoc">    TXLib.</div><div class="ttdef"><b>Definition:</b> TXLib.h:3971</div></div>
<div class="ttc" id="aclasstx_auto_lock_html_ae7aa09749ac613c09b651a4a2e12934f"><div class="ttname"><a href="classtx_auto_lock.html#ae7aa09749ac613c09b651a4a2e12934f">txAutoLock::cs_</a></div><div class="ttdeci">CRITICAL_SECTION * cs_</div><div class="ttdoc">  </div><div class="ttdef"><b>Definition:</b> TXLib.h:4002</div></div>
<div class="ttc" id="aclasstx_auto_lock_html_af28070ec9fc2a4466cb7dbd0868c9616"><div class="ttname"><a href="classtx_auto_lock.html#af28070ec9fc2a4466cb7dbd0868c9616">txAutoLock::txAutoLock</a></div><div class="ttdeci">txAutoLock(CRITICAL_SECTION *cs, bool mandatory=true)</div><div class="ttdoc">,   </div><div class="ttdef"><b>Definition:</b> TXLib.h:3948</div></div>
<div class="ttc" id="agroup___dialogs_html_ga364e78410e64fb751d3a0253d08f98e2"><div class="ttname"><a href="group___dialogs.html#ga364e78410e64fb751d3a0253d08f98e2">txInputBox</a></div><div class="ttdeci">const char * txInputBox(const char *text=NULL, const char *caption=NULL, const char *input=NULL)</div><div class="ttdoc">    .</div><div class="ttdef"><b>Definition:</b> TXLib.h:4370</div></div>
<div class="ttc" id="agroup___dialogs_html_ga5b47575087d696b5fddf972ce4d83657"><div class="ttname"><a href="group___dialogs.html#ga5b47575087d696b5fddf972ce4d83657">txDialog::CONTROL</a></div><div class="ttdeci">CONTROL</div><div class="ttdoc">    .</div><div class="ttdef"><b>Definition:</b> TXLib.h:4069</div></div>
<div class="ttc" id="agroup___dialogs_html_gga5b47575087d696b5fddf972ce4d83657a1988e748c6846b398b020c0cb6f057ab"><div class="ttname"><a href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a1988e748c6846b398b020c0cb6f057ab">txDialog::DIALOG</a></div><div class="ttdeci">@ DIALOG</div><div class="ttdoc">  </div><div class="ttdef"><b>Definition:</b> TXLib.h:4070</div></div>
<div class="ttc" id="agroup___dialogs_html_gga5b47575087d696b5fddf972ce4d83657a342a4f0af79f46e07894a95e5951b7aa"><div class="ttname"><a href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657a342a4f0af79f46e07894a95e5951b7aa">txDialog::END</a></div><div class="ttdeci">@ END</div><div class="ttdoc">  </div><div class="ttdef"><b>Definition:</b> TXLib.h:4077</div></div>
<div class="ttc" id="agroup___dialogs_html_gga5b47575087d696b5fddf972ce4d83657aa4f15111fd03f7781dd5e910c9476085"><div class="ttname"><a href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aa4f15111fd03f7781dd5e910c9476085">txDialog::BUTTON</a></div><div class="ttdeci">@ BUTTON</div><div class="ttdoc"></div><div class="ttdef"><b>Definition:</b> TXLib.h:4071</div></div>
<div class="ttc" id="agroup___dialogs_html_gga5b47575087d696b5fddf972ce4d83657aec6c84113cb4f1cd430238d4b909b40a"><div class="ttname"><a href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aec6c84113cb4f1cd430238d4b909b40a">txDialog::STATIC</a></div><div class="ttdeci">@ STATIC</div><div class="ttdoc">  (,   ..)</div><div class="ttdef"><b>Definition:</b> TXLib.h:4073</div></div>
<div class="ttc" id="agroup___dialogs_html_gga5b47575087d696b5fddf972ce4d83657aef6361d5dcbf8ce520f398a079b414cb"><div class="ttname"><a href="group___dialogs.html#gga5b47575087d696b5fddf972ce4d83657aef6361d5dcbf8ce520f398a079b414cb">txDialog::EDIT</a></div><div class="ttdeci">@ EDIT</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> TXLib.h:4072</div></div>
<div class="ttc" id="agroup___drawing_html_ga03a8558c6bf26c0d6f59f85fc458c1a8"><div class="ttname"><a href="group___drawing.html#ga03a8558c6bf26c0d6f59f85fc458c1a8">TX_LIGHTNESS</a></div><div class="ttdeci">const COLORREF TX_LIGHTNESS</div><div class="ttdoc">    HSL.</div><div class="ttdef"><b>Definition:</b> TXLib.h:735</div></div>
<div class="ttc" id="agroup___drawing_html_ga04e174a1e8d269b96b6e5a3e30d6dc1e"><div class="ttname"><a href="group___drawing.html#ga04e174a1e8d269b96b6e5a3e30d6dc1e">txSetColor</a></div><div class="ttdeci">bool txSetColor(COLORREF color, double thickness=1)</div><div class="ttdoc"> ()      ().</div></div>
<div class="ttc" id="agroup___drawing_html_ga06d8ecdb7983dc884692c2543fb579c6"><div class="ttname"><a href="group___drawing.html#ga06d8ecdb7983dc884692c2543fb579c6">txGetModuleFileName</a></div><div class="ttdeci">const char * txGetModuleFileName(bool fileNameOnly=true)</div><div class="ttdoc">        TXLib.</div></div>
<div class="ttc" id="agroup___drawing_html_ga09488931ddf7b1e7e0b31529e1904887"><div class="ttname"><a href="group___drawing.html#ga09488931ddf7b1e7e0b31529e1904887">txBitBlt</a></div><div class="ttdeci">bool txBitBlt(HDC dest, double xDest, double yDest, double width, double height, HDC src, double xSrc=0, double ySrc=0, DWORD rOp=SRCCOPY)</div><div class="ttdoc">     ( , DC)  .</div></div>
<div class="ttc" id="agroup___drawing_html_ga0dc8953591b63696392ec581c6b25f7c"><div class="ttname"><a href="group___drawing.html#ga0dc8953591b63696392ec581c6b25f7c">txRGB2HSL</a></div><div class="ttdeci">COLORREF txRGB2HSL(COLORREF rgbColor)</div><div class="ttdoc">    RGB   HSL.</div></div>
<div class="ttc" id="agroup___drawing_html_ga0fc0db1a7c287bec31625bdf3a21922e"><div class="ttname"><a href="group___drawing.html#ga0fc0db1a7c287bec31625bdf3a21922e">txVersion</a></div><div class="ttdeci">const char * txVersion()</div><div class="ttdoc">       .</div></div>
<div class="ttc" id="agroup___drawing_html_ga100795a6e30f3ed01f04e4d1b01bd918"><div class="ttname"><a href="group___drawing.html#ga100795a6e30f3ed01f04e4d1b01bd918">txPie</a></div><div class="ttdeci">bool txPie(double x0, double y0, double x1, double y1, double startAngle, double totalAngle)</div><div class="ttdoc">  .</div></div>
<div class="ttc" id="agroup___drawing_html_ga16b68f33ba5a925a58fce0abc99d7213"><div class="ttname"><a href="group___drawing.html#ga16b68f33ba5a925a58fce0abc99d7213">txFloodFill</a></div><div class="ttdeci">bool txFloodFill(double x, double y, COLORREF color=TX_TRANSPARENT, DWORD mode=FLOODFILLSURFACE)</div><div class="ttdoc">     .</div></div>
<div class="ttc" id="agroup___drawing_html_ga16ef56f4dfb0cf5f8422bab9663eb7a9"><div class="ttname"><a href="group___drawing.html#ga16ef56f4dfb0cf5f8422bab9663eb7a9">TX_DARKGRAY</a></div><div class="ttdeci">const COLORREF TX_DARKGRAY</div><div class="ttdoc">- .</div><div class="ttdef"><b>Definition:</b> TXLib.h:718</div></div>
<div class="ttc" id="agroup___drawing_html_ga1838cd6a438d4bea5f26bfa47a103a0d"><div class="ttname"><a href="group___drawing.html#ga1838cd6a438d4bea5f26bfa47a103a0d">txGetExtentY</a></div><div class="ttdeci">int txGetExtentY()</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_ga1a65fa9ddfd07bda8ab3e95873991b76"><div class="ttname"><a href="group___drawing.html#ga1a65fa9ddfd07bda8ab3e95873991b76">txGetFillColor</a></div><div class="ttdeci">COLORREF txGetFillColor()</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_ga1a87b7cd3e5a74e4dc6828d42d03fffa"><div class="ttname"><a href="group___drawing.html#ga1a87b7cd3e5a74e4dc6828d42d03fffa">txHSL2RGB</a></div><div class="ttdeci">COLORREF txHSL2RGB(COLORREF hslColor)</div><div class="ttdoc">    HSL   RGB.</div></div>
<div class="ttc" id="agroup___drawing_html_ga1dc38c08e812d5f5a3c8f752a97c2bb2"><div class="ttname"><a href="group___drawing.html#ga1dc38c08e812d5f5a3c8f752a97c2bb2">txFontExist</a></div><div class="ttdeci">LOGFONT * txFontExist(const char name[])</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_ga28123a5be2ad65c41550ccb558138476"><div class="ttname"><a href="group___drawing.html#ga28123a5be2ad65c41550ccb558138476">txLoadImage</a></div><div class="ttdeci">HDC txLoadImage(const char filename[], unsigned imageFlags=IMAGE_BITMAP, unsigned loadFlags=LR_LOADFROMFILE)</div><div class="ttdoc">      BMP.    .</div></div>
<div class="ttc" id="agroup___drawing_html_ga2a3940b99d02c630364d4b74e7d08a23"><div class="ttname"><a href="group___drawing.html#ga2a3940b99d02c630364d4b74e7d08a23">txClear</a></div><div class="ttdeci">bool txClear()</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_ga2b069ef0d81d1b217e8a4f019140ee92"><div class="ttname"><a href="group___drawing.html#ga2b069ef0d81d1b217e8a4f019140ee92">TX_LIGHTGREEN</a></div><div class="ttdeci">const COLORREF TX_LIGHTGREEN</div><div class="ttdoc">- .</div><div class="ttdef"><b>Definition:</b> TXLib.h:721</div></div>
<div class="ttc" id="agroup___drawing_html_ga2bd0c5c1f84629e673601464e20ddc1f"><div class="ttname"><a href="group___drawing.html#ga2bd0c5c1f84629e673601464e20ddc1f">txEllipse</a></div><div class="ttdeci">bool txEllipse(double x0, double y0, double x1, double y1)</div><div class="ttdoc"> .</div></div>
<div class="ttc" id="agroup___drawing_html_ga2cb63c12d9206e9ed2b2c83c9a08f68e"><div class="ttname"><a href="group___drawing.html#ga2cb63c12d9206e9ed2b2c83c9a08f68e">txClearConsole</a></div><div class="ttdeci">bool txClearConsole()</div><div class="ttdoc">  .</div></div>
<div class="ttc" id="agroup___drawing_html_ga2f1b4b81b2b9280bb58c2d79930e2a63"><div class="ttname"><a href="group___drawing.html#ga2f1b4b81b2b9280bb58c2d79930e2a63">txCreateCompatibleDC</a></div><div class="ttdeci">HDC txCreateCompatibleDC(double sizeX, double sizeY, HBITMAP bitmap=NULL)</div><div class="ttdoc">   ( , Device Context, DC)  .</div></div>
<div class="ttc" id="agroup___drawing_html_ga3227242c57eef33049cdaee655f4faee"><div class="ttname"><a href="group___drawing.html#ga3227242c57eef33049cdaee655f4faee">txGetConsoleCursorPos</a></div><div class="ttdeci">POINT txGetConsoleCursorPos()</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_ga3275b9e7d36b0aeefd60afea65150469"><div class="ttname"><a href="group___drawing.html#ga3275b9e7d36b0aeefd60afea65150469">txPixel</a></div><div class="ttdeci">bool txPixel(double x, double y, double red, double green, double blue)</div><div class="ttdoc">  (  ).</div></div>
<div class="ttc" id="agroup___drawing_html_ga32abcdee1b6897c768f21bf9264fe3eb"><div class="ttname"><a href="group___drawing.html#ga32abcdee1b6897c768f21bf9264fe3eb">TX_GREEN</a></div><div class="ttdeci">const COLORREF TX_GREEN</div><div class="ttdoc"> .</div><div class="ttdef"><b>Definition:</b> TXLib.h:711</div></div>
<div class="ttc" id="agroup___drawing_html_ga356c475609cf282310fc336821adf71f"><div class="ttname"><a href="group___drawing.html#ga356c475609cf282310fc336821adf71f">txGetTextExtent</a></div><div class="ttdeci">SIZE txGetTextExtent(const char text[])</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_ga385a6f84e8f1447a33047fa0f3be972b"><div class="ttname"><a href="group___drawing.html#ga385a6f84e8f1447a33047fa0f3be972b">txFillColor</a></div><div class="ttdeci">bool txFillColor(double red, double green, double blue)</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_ga39fc3e530244cd74a18b58b2554cf686"><div class="ttname"><a href="group___drawing.html#ga39fc3e530244cd74a18b58b2554cf686">TX_LIGHTBLUE</a></div><div class="ttdeci">const COLORREF TX_LIGHTBLUE</div><div class="ttdoc">- .</div><div class="ttdef"><b>Definition:</b> TXLib.h:720</div></div>
<div class="ttc" id="agroup___drawing_html_ga3a34e3baf660b310f6ca0d373f36c024"><div class="ttname"><a href="group___drawing.html#ga3a34e3baf660b310f6ca0d373f36c024">txGetTextExtentY</a></div><div class="ttdeci">int txGetTextExtentY(const char text[])</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_ga3b4c1a73b014daa67100c9dbb875f3bf"><div class="ttname"><a href="group___drawing.html#ga3b4c1a73b014daa67100c9dbb875f3bf">txSetConsoleAttr</a></div><div class="ttdeci">bool txSetConsoleAttr(unsigned colors=0x07)</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_ga3d6ff7a642714b236c3837f977795396"><div class="ttname"><a href="group___drawing.html#ga3d6ff7a642714b236c3837f977795396">txGetPixel</a></div><div class="ttdeci">COLORREF txGetPixel(double x, double y)</div><div class="ttdoc">    ()  .</div></div>
<div class="ttc" id="agroup___drawing_html_ga3ddd148ec8af2d1f722b398ee7e17a71"><div class="ttname"><a href="group___drawing.html#ga3ddd148ec8af2d1f722b398ee7e17a71">txSetROP2</a></div><div class="ttdeci">bool txSetROP2(int mode=R2_COPYPEN)</div><div class="ttdoc">     .</div></div>
<div class="ttc" id="agroup___drawing_html_ga4395ad7eeeda9d2163a89996ca91133e"><div class="ttname"><a href="group___drawing.html#ga4395ad7eeeda9d2163a89996ca91133e">TX_SATURATION</a></div><div class="ttdeci">const COLORREF TX_SATURATION</div><div class="ttdoc">    HSL.</div><div class="ttdef"><b>Definition:</b> TXLib.h:734</div></div>
<div class="ttc" id="agroup___drawing_html_ga4894075399ec8e8747177f90c15fb35d"><div class="ttname"><a href="group___drawing.html#ga4894075399ec8e8747177f90c15fb35d">txGetColor</a></div><div class="ttdeci">COLORREF txGetColor()</div><div class="ttdoc">     .</div></div>
<div class="ttc" id="agroup___drawing_html_ga4e872a3d71ac242bd40d614b9c03f86e"><div class="ttname"><a href="group___drawing.html#ga4e872a3d71ac242bd40d614b9c03f86e">txPolygon</a></div><div class="ttdeci">bool txPolygon(const POINT points[], int numPoints)</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_ga4eacb78833e54f44243f60ded9fdaf64"><div class="ttname"><a href="group___drawing.html#ga4eacb78833e54f44243f60ded9fdaf64">txTextOut</a></div><div class="ttdeci">bool txTextOut(double x, double y, const char text[])</div><div class="ttdoc"> .</div></div>
<div class="ttc" id="agroup___drawing_html_ga505f212582bf9b2bf95a4ef15f84af42"><div class="ttname"><a href="group___drawing.html#ga505f212582bf9b2bf95a4ef15f84af42">txDeleteDC</a></div><div class="ttdeci">bool txDeleteDC(HDC dc)</div><div class="ttdoc">  ( , DC)  .</div></div>
<div class="ttc" id="agroup___drawing_html_ga554468efdf71f24c107476d53e2abb51"><div class="ttname"><a href="group___drawing.html#ga554468efdf71f24c107476d53e2abb51">txDC</a></div><div class="ttdeci">HDC &amp; txDC()</div><div class="ttdoc">    </div></div>
<div class="ttc" id="agroup___drawing_html_ga56227ddccbe156355eaca50264bf3334"><div class="ttname"><a href="group___drawing.html#ga56227ddccbe156355eaca50264bf3334">txSleep</a></div><div class="ttdeci">double txSleep(double time)</div><div class="ttdoc">     .</div></div>
<div class="ttc" id="agroup___drawing_html_ga5654ec6899099964535e338d0523c34d"><div class="ttname"><a href="group___drawing.html#ga5654ec6899099964535e338d0523c34d">txLine</a></div><div class="ttdeci">bool txLine(double x0, double y0, double x1, double y1)</div><div class="ttdoc"> .</div></div>
<div class="ttc" id="agroup___drawing_html_ga56faf7c36cf0112165fb705fedf6ec8e"><div class="ttname"><a href="group___drawing.html#ga56faf7c36cf0112165fb705fedf6ec8e">txGetConsoleFontSize</a></div><div class="ttdeci">POINT txGetConsoleFontSize()</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_ga56fe553987cace1e1572b2e64ea46ebc"><div class="ttname"><a href="group___drawing.html#ga56fe553987cace1e1572b2e64ea46ebc">txRectangle</a></div><div class="ttdeci">bool txRectangle(double x0, double y0, double x1, double y1)</div><div class="ttdoc"> .</div></div>
<div class="ttc" id="agroup___drawing_html_ga59169dd9d9168dcbd3d4fa30d3e94f22"><div class="ttname"><a href="group___drawing.html#ga59169dd9d9168dcbd3d4fa30d3e94f22">TX_CYAN</a></div><div class="ttdeci">const COLORREF TX_CYAN</div><div class="ttdoc"> .</div><div class="ttdef"><b>Definition:</b> TXLib.h:712</div></div>
<div class="ttc" id="agroup___drawing_html_ga5a3cef04fcf688a051a9eafd6c8338a7"><div class="ttname"><a href="group___drawing.html#ga5a3cef04fcf688a051a9eafd6c8338a7">txSetTextAlign</a></div><div class="ttdeci">unsigned txSetTextAlign(unsigned align=TA_CENTER|TA_BASELINE)</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_ga5d70fde53b10abdb4e9511268b9e1ee9"><div class="ttname"><a href="group___drawing.html#ga5d70fde53b10abdb4e9511268b9e1ee9">TX_TRANSPARENT</a></div><div class="ttdeci">const COLORREF TX_TRANSPARENT</div><div class="ttdoc"> .  .</div><div class="ttdef"><b>Definition:</b> TXLib.h:728</div></div>
<div class="ttc" id="agroup___drawing_html_ga6388bef316887789b735b7fbbc04ec4d"><div class="ttname"><a href="group___drawing.html#ga6388bef316887789b735b7fbbc04ec4d">TX_YELLOW</a></div><div class="ttdeci">const COLORREF TX_YELLOW</div><div class="ttdoc"> .</div><div class="ttdef"><b>Definition:</b> TXLib.h:726</div></div>
<div class="ttc" id="agroup___drawing_html_ga6625deb7ac8953a7e516285ac81c0b34"><div class="ttname"><a href="group___drawing.html#ga6625deb7ac8953a7e516285ac81c0b34">TX_LIGHTGRAY</a></div><div class="ttdeci">const COLORREF TX_LIGHTGRAY</div><div class="ttdoc">- .</div><div class="ttdef"><b>Definition:</b> TXLib.h:719</div></div>
<div class="ttc" id="agroup___drawing_html_ga6971b22d5486b242e20a8dea1f21422a"><div class="ttname"><a href="group___drawing.html#ga6971b22d5486b242e20a8dea1f21422a">txOK</a></div><div class="ttdeci">bool txOK()</div><div class="ttdoc">   </div></div>
<div class="ttc" id="agroup___drawing_html_ga69be92455ac555cb03470cb4ef4ac67c"><div class="ttname"><a href="group___drawing.html#ga69be92455ac555cb03470cb4ef4ac67c">txGetExtent</a></div><div class="ttdeci">POINT txGetExtent()</div><div class="ttdoc">       POINT.</div></div>
<div class="ttc" id="agroup___drawing_html_ga6d082544499056d96ebda68defe0be54"><div class="ttname"><a href="group___drawing.html#ga6d082544499056d96ebda68defe0be54">TX_PINK</a></div><div class="ttdeci">const COLORREF TX_PINK</div><div class="ttdoc">  :)</div><div class="ttdef"><b>Definition:</b> TXLib.h:725</div></div>
<div class="ttc" id="agroup___drawing_html_ga7e3759e5f9a708f87ac77ccc1419691e"><div class="ttname"><a href="group___drawing.html#ga7e3759e5f9a708f87ac77ccc1419691e">txArc</a></div><div class="ttdeci">bool txArc(double x0, double y0, double x1, double y1, double startAngle, double totalAngle)</div><div class="ttdoc">  .</div></div>
<div class="ttc" id="agroup___drawing_html_ga809dc04afd5348247846ee01ce9a06e6"><div class="ttname"><a href="group___drawing.html#ga809dc04afd5348247846ee01ce9a06e6">txEnd</a></div><div class="ttdeci">int txEnd()</div><div class="ttdoc">  ,   txBegin().</div></div>
<div class="ttc" id="agroup___drawing_html_ga90c5bf9144d5eed4926fb92ba854eca9"><div class="ttname"><a href="group___drawing.html#ga90c5bf9144d5eed4926fb92ba854eca9">TX_WHITE</a></div><div class="ttdeci">const COLORREF TX_WHITE</div><div class="ttdoc"> .</div><div class="ttdef"><b>Definition:</b> TXLib.h:727</div></div>
<div class="ttc" id="agroup___drawing_html_ga9290f4d78a1f2dc5db7892cabe9a2abc"><div class="ttname"><a href="group___drawing.html#ga9290f4d78a1f2dc5db7892cabe9a2abc">txSelectFont</a></div><div class="ttdeci">bool txSelectFont(const char name[], double sizeY, double sizeX=-1, int bold=FW_DONTCARE, bool italic=false, bool underline=false, bool strikeout=false, double angle=0)</div><div class="ttdoc">  .</div></div>
<div class="ttc" id="agroup___drawing_html_ga93cecf6b117fc403c0488f388b78a6d1"><div class="ttname"><a href="group___drawing.html#ga93cecf6b117fc403c0488f388b78a6d1">txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture</a></div><div class="ttdeci">bool txIDontWantToHaveAPauseAfterMyProgramBeforeTheWindowWillClose_AndIWillNotBeAskingWhereIsMyPicture()</div><div class="ttdoc">   . .  .</div></div>
<div class="ttc" id="agroup___drawing_html_ga93e1976dd8ae8d5e1b3932a4e5bfd158"><div class="ttname"><a href="group___drawing.html#ga93e1976dd8ae8d5e1b3932a4e5bfd158">TX_RED</a></div><div class="ttdeci">const COLORREF TX_RED</div><div class="ttdoc">- .  .</div><div class="ttdef"><b>Definition:</b> TXLib.h:713</div></div>
<div class="ttc" id="agroup___drawing_html_ga941df978c121666ee6092034ec47701c"><div class="ttname"><a href="group___drawing.html#ga941df978c121666ee6092034ec47701c">TX_BROWN</a></div><div class="ttdeci">const COLORREF TX_BROWN</div><div class="ttdoc"> . . Do it yourself with RGB().</div><div class="ttdef"><b>Definition:</b> TXLib.h:715</div></div>
<div class="ttc" id="agroup___drawing_html_ga977c584db1ecfba20898615a948ab675"><div class="ttname"><a href="group___drawing.html#ga977c584db1ecfba20898615a948ab675">txColor</a></div><div class="ttdeci">bool txColor(double red, double green, double blue)</div><div class="ttdoc">     .</div></div>
<div class="ttc" id="agroup___drawing_html_ga9be3f6a68afe0bf3013fc4c7fbebd057"><div class="ttname"><a href="group___drawing.html#ga9be3f6a68afe0bf3013fc4c7fbebd057">TX_LIGHTRED</a></div><div class="ttdeci">const COLORREF TX_LIGHTRED</div><div class="ttdoc">- .    .</div><div class="ttdef"><b>Definition:</b> TXLib.h:723</div></div>
<div class="ttc" id="agroup___drawing_html_ga9f2215b90264133de36ed7c2120f75f5"><div class="ttname"><a href="group___drawing.html#ga9f2215b90264133de36ed7c2120f75f5">txGetConsoleAttr</a></div><div class="ttdeci">unsigned txGetConsoleAttr()</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_gaa148d2040d20ed74cf46ab186c35f9ed"><div class="ttname"><a href="group___drawing.html#gaa148d2040d20ed74cf46ab186c35f9ed">txTextCursor</a></div><div class="ttdeci">bool txTextCursor(bool blink=true)</div><div class="ttdoc">       .</div></div>
<div class="ttc" id="agroup___drawing_html_gaa14e9c2a46cf713efaa1f850074d8adc"><div class="ttname"><a href="group___drawing.html#gaa14e9c2a46cf713efaa1f850074d8adc">txCircle</a></div><div class="ttdeci">bool txCircle(double x, double y, double r)</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_gaa281a54954945bb0e96314fb4cfad7b9"><div class="ttname"><a href="group___drawing.html#gaa281a54954945bb0e96314fb4cfad7b9">TX_BLUE</a></div><div class="ttdeci">const COLORREF TX_BLUE</div><div class="ttdoc">- .  .</div><div class="ttdef"><b>Definition:</b> TXLib.h:710</div></div>
<div class="ttc" id="agroup___drawing_html_gaa47cb24ee215e0d2fcb0cf9bcf0b8723"><div class="ttname"><a href="group___drawing.html#gaa47cb24ee215e0d2fcb0cf9bcf0b8723">txChord</a></div><div class="ttdeci">bool txChord(double x0, double y0, double x1, double y1, double startAngle, double totalAngle)</div><div class="ttdoc">  .</div></div>
<div class="ttc" id="agroup___drawing_html_gaa5cab2d4aa67ea50390c30f094a77862"><div class="ttname"><a href="group___drawing.html#gaa5cab2d4aa67ea50390c30f094a77862">TX_HUE</a></div><div class="ttdeci">const COLORREF TX_HUE</div><div class="ttdoc">     HSL.</div><div class="ttdef"><b>Definition:</b> TXLib.h:733</div></div>
<div class="ttc" id="agroup___drawing_html_gaa8db9fe1edc90be50c3fb8a94fd09275"><div class="ttname"><a href="group___drawing.html#gaa8db9fe1edc90be50c3fb8a94fd09275">TX_LIGHTMAGENTA</a></div><div class="ttdeci">const COLORREF TX_LIGHTMAGENTA</div><div class="ttdoc">- .    .</div><div class="ttdef"><b>Definition:</b> TXLib.h:724</div></div>
<div class="ttc" id="agroup___drawing_html_gaad385937fb3526c8f4054ae288d285c6"><div class="ttname"><a href="group___drawing.html#gaad385937fb3526c8f4054ae288d285c6">txGetTextExtentX</a></div><div class="ttdeci">int txGetTextExtentX(const char text[])</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_gab4b1096971ee1f427e9f0211c2b2dea4"><div class="ttname"><a href="group___drawing.html#gab4b1096971ee1f427e9f0211c2b2dea4">txTransparentBlt</a></div><div class="ttdeci">bool txTransparentBlt(HDC dest, double xDest, double yDest, double width, double height, HDC src, double xSrc=0, double ySrc=0, COLORREF transColor=TX_BLACK)</div><div class="ttdoc">     ( , DC)     .</div></div>
<div class="ttc" id="agroup___drawing_html_gab5cd3833edf57a1fe3a3facf3e3086ac"><div class="ttname"><a href="group___drawing.html#gab5cd3833edf57a1fe3a3facf3e3086ac">TX_LIGHTCYAN</a></div><div class="ttdeci">const COLORREF TX_LIGHTCYAN</div><div class="ttdoc">- .</div><div class="ttdef"><b>Definition:</b> TXLib.h:722</div></div>
<div class="ttc" id="agroup___drawing_html_gac47f8583faaa8d391a6c120c8b576733"><div class="ttname"><a href="group___drawing.html#gac47f8583faaa8d391a6c120c8b576733">TX_GRAY</a></div><div class="ttdeci">const COLORREF TX_GRAY</div><div class="ttdoc"> .</div><div class="ttdef"><b>Definition:</b> TXLib.h:717</div></div>
<div class="ttc" id="agroup___drawing_html_gac76227ff55076802ea267be18b4d7a8d"><div class="ttname"><a href="group___drawing.html#gac76227ff55076802ea267be18b4d7a8d">txDrawMan</a></div><div class="ttdeci">void txDrawMan(int x, int y, int sizeX, int sizeY, COLORREF color, double handL, double handR, double twist, double head, double eyes, double wink, double crazy, double smile, double hair, double wind)</div><div class="ttdoc"> .</div></div>
<div class="ttc" id="agroup___drawing_html_gac9d8435ced05ddc5c29a1a5c9f58f752"><div class="ttname"><a href="group___drawing.html#gac9d8435ced05ddc5c29a1a5c9f58f752">txDestroyWindow</a></div><div class="ttdeci">bool txDestroyWindow()</div><div class="ttdoc">  TXLib.</div></div>
<div class="ttc" id="agroup___drawing_html_gacc1ae8a3821354abc2d3f8f42ee75706"><div class="ttname"><a href="group___drawing.html#gacc1ae8a3821354abc2d3f8f42ee75706">TX_BLACK</a></div><div class="ttdeci">const COLORREF TX_BLACK</div><div class="ttdoc">  .</div><div class="ttdef"><b>Definition:</b> TXLib.h:709</div></div>
<div class="ttc" id="agroup___drawing_html_gacd2416cd6b89106ab6700d0c75922bee"><div class="ttname"><a href="group___drawing.html#gacd2416cd6b89106ab6700d0c75922bee">txVersionNumber</a></div><div class="ttdeci">unsigned txVersionNumber()</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_gad05e2877657ce6d3a55174fe51c4b0c5"><div class="ttname"><a href="group___drawing.html#gad05e2877657ce6d3a55174fe51c4b0c5">txExtractColor</a></div><div class="ttdeci">int txExtractColor(COLORREF color, COLORREF component)</div><div class="ttdoc">   ( )   .</div></div>
<div class="ttc" id="agroup___drawing_html_gad2a44daaf97dccd615e2754930bd8245"><div class="ttname"><a href="group___drawing.html#gad2a44daaf97dccd615e2754930bd8245">txAlphaBlend</a></div><div class="ttdeci">bool txAlphaBlend(HDC dest, double xDest, double yDest, double width, double height, HDC src, double xSrc=0, double ySrc=0, double alpha=1.0)</div><div class="ttdoc">     ( , DC)     .</div></div>
<div class="ttc" id="agroup___drawing_html_gad314ddd4f6afa0bb727c4b0cd8207603"><div class="ttname"><a href="group___drawing.html#gad314ddd4f6afa0bb727c4b0cd8207603">txSetPixel</a></div><div class="ttdeci">bool txSetPixel(double x, double y, COLORREF color)</div><div class="ttdoc">  (  ).</div></div>
<div class="ttc" id="agroup___drawing_html_gad4ee4d2a16f8f38412e0e7b1c380bf4d"><div class="ttname"><a href="group___drawing.html#gad4ee4d2a16f8f38412e0e7b1c380bf4d">txSelectObject</a></div><div class="ttdeci">bool txSelectObject(HGDIOBJ obj)</div><div class="ttdoc">   GDI.</div></div>
<div class="ttc" id="agroup___drawing_html_gad737ddf597e37fe699dc87c3f7f2a748"><div class="ttname"><a href="group___drawing.html#gad737ddf597e37fe699dc87c3f7f2a748">TX_NULL</a></div><div class="ttdeci">const COLORREF TX_NULL</div><div class="ttdoc"> .  .</div><div class="ttdef"><b>Definition:</b> TXLib.h:729</div></div>
<div class="ttc" id="agroup___drawing_html_gae05b7bb52b782b86796201f9f96d0f58"><div class="ttname"><a href="group___drawing.html#gae05b7bb52b782b86796201f9f96d0f58">txSetDefaults</a></div><div class="ttdeci">bool txSetDefaults()</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_gae47b05ec325f3bda871e46c8c74919e8"><div class="ttname"><a href="group___drawing.html#gae47b05ec325f3bda871e46c8c74919e8">txWindow</a></div><div class="ttdeci">HWND txWindow()</div><div class="ttdoc">   </div></div>
<div class="ttc" id="agroup___drawing_html_gae5f1c5f63d862d72883203213786d9f0"><div class="ttname"><a href="group___drawing.html#gae5f1c5f63d862d72883203213786d9f0">txDrawText</a></div><div class="ttdeci">bool txDrawText(double x0, double y0, double x1, double y1, const char text[], unsigned format=DT_CENTER|DT_VCENTER|DT_WORDBREAK|DT_WORD_ELLIPSIS)</div><div class="ttdoc"> ,    .</div></div>
<div class="ttc" id="agroup___drawing_html_gae7c2564209f7b1f2bdb5cbbee77b49b4"><div class="ttname"><a href="group___drawing.html#gae7c2564209f7b1f2bdb5cbbee77b49b4">TX_ORANGE</a></div><div class="ttdeci">const COLORREF TX_ORANGE</div><div class="ttdoc"> .</div><div class="ttdef"><b>Definition:</b> TXLib.h:716</div></div>
<div class="ttc" id="agroup___drawing_html_gae92e621aaed81f90e4d142356e38762a"><div class="ttname"><a href="group___drawing.html#gae92e621aaed81f90e4d142356e38762a">txBegin</a></div><div class="ttdeci">int txBegin()</div><div class="ttdoc">   ,   .</div></div>
<div class="ttc" id="agroup___drawing_html_gaebe0b0f6b1324031ee6b9461ba5b0ab3"><div class="ttname"><a href="group___drawing.html#gaebe0b0f6b1324031ee6b9461ba5b0ab3">txQueryPerformance</a></div><div class="ttdeci">double txQueryPerformance()</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_gaed186909e8de1f9a6e5f78c362d9b607"><div class="ttname"><a href="group___drawing.html#gaed186909e8de1f9a6e5f78c362d9b607">txGetExtentX</a></div><div class="ttdeci">int txGetExtentX()</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___drawing_html_gaee548f7b5672cbcbb99246e0291d7336"><div class="ttname"><a href="group___drawing.html#gaee548f7b5672cbcbb99246e0291d7336">txSetConsoleCursorPos</a></div><div class="ttdeci">POINT txSetConsoleCursorPos(double x, double y)</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_gaf022ca75f4a59aa0a2cf18529e0a9861"><div class="ttname"><a href="group___drawing.html#gaf022ca75f4a59aa0a2cf18529e0a9861">TX_MAGENTA</a></div><div class="ttdeci">const COLORREF TX_MAGENTA</div><div class="ttdoc">- .</div><div class="ttdef"><b>Definition:</b> TXLib.h:714</div></div>
<div class="ttc" id="agroup___drawing_html_gaf5f3dec18e058830a6eb85ca127472df"><div class="ttname"><a href="group___drawing.html#gaf5f3dec18e058830a6eb85ca127472df">txTriangle</a></div><div class="ttdeci">bool txTriangle(double x1, double y1, double x2, double y2, double x3, double y3)</div><div class="ttdoc">,     .</div><div class="ttdef"><b>Definition:</b> TXLib.h:1354</div></div>
<div class="ttc" id="agroup___drawing_html_gafb1459949ebb32b199d07f5464205baf"><div class="ttname"><a href="group___drawing.html#gafb1459949ebb32b199d07f5464205baf">txSetFillColor</a></div><div class="ttdeci">bool txSetFillColor(COLORREF color)</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="agroup___drawing_html_gafce21ce98474d5559f316b3d47cdbfab"><div class="ttname"><a href="group___drawing.html#gafce21ce98474d5559f316b3d47cdbfab">txCreateWindow</a></div><div class="ttdeci">HWND txCreateWindow(double sizeX, double sizeY, bool centered=true)</div><div class="ttdoc">  </div></div>
<div class="ttc" id="agroup___drawing_html_gaff3d9c60900531f438a19216485bdd41"><div class="ttname"><a href="group___drawing.html#gaff3d9c60900531f438a19216485bdd41">txUpdateWindow</a></div><div class="ttdeci">int txUpdateWindow(int update=true)</div><div class="ttdoc">       .</div></div>
<div class="ttc" id="agroup___misc_html_ga0eb921342afd27ed2bf8a78f97872577"><div class="ttname"><a href="group___misc.html#ga0eb921342afd27ed2bf8a78f97872577">txNotifyIcon</a></div><div class="ttdeci">bool txNotifyIcon(unsigned flags, const char title[], const char format[],...) _TX_CHECK_FORMAT(3)</div><div class="ttdoc">     .</div></div>
<div class="ttc" id="agroup___misc_html_ga177f8bcb7544821ea4b5bd0571fe7196"><div class="ttname"><a href="group___misc.html#ga177f8bcb7544821ea4b5bd0571fe7196">txPlaySound</a></div><div class="ttdeci">bool txPlaySound(const char filename[]=NULL, DWORD mode=SND_ASYNC)</div><div class="ttdoc">  .</div></div>
<div class="ttc" id="agroup___misc_html_ga2b7cded1074eb3d4b25af75b4ffed73a"><div class="ttname"><a href="group___misc.html#ga2b7cded1074eb3d4b25af75b4ffed73a">txOutputDebugPrintf</a></div><div class="ttdeci">int txOutputDebugPrintf(const char format[],...) _TX_CHECK_FORMAT(1)</div><div class="ttdoc">   .</div></div>
<div class="ttc" id="agroup___misc_html_ga3153a272f18d0f805028fce7e4337b53"><div class="ttname"><a href="group___misc.html#ga3153a272f18d0f805028fce7e4337b53">assert</a></div><div class="ttdeci">#define assert(cond)</div><div class="ttdoc">   assert(),     txMessageBox(),   OutputDebug...</div><div class="ttdef"><b>Definition:</b> TXLib.h:3072</div></div>
<div class="ttc" id="agroup___misc_html_ga3379d227f91f891ac97d068ab90ee871"><div class="ttname"><a href="group___misc.html#ga3379d227f91f891ac97d068ab90ee871">SIZEARR</a></div><div class="ttdeci">#define SIZEARR(arr)</div><div class="ttdoc">  sizearr()    Microsoft Visual Studio 6.</div><div class="ttdef"><b>Definition:</b> TXLib.h:2635</div></div>
<div class="ttc" id="agroup___misc_html_ga3637c3398b6ebfa337171beec0770fe4"><div class="ttname"><a href="group___misc.html#ga3637c3398b6ebfa337171beec0770fe4">TX_COMMAND_MAP</a></div><div class="ttdeci">#define TX_COMMAND_MAP</div><div class="ttdoc">   (Command map)   .</div><div class="ttdef"><b>Definition:</b> TXLib.h:4309</div></div>
<div class="ttc" id="agroup___misc_html_ga3acffbd305ee72dcd4593c0d8af64a4f"><div class="ttname"><a href="group___misc.html#ga3acffbd305ee72dcd4593c0d8af64a4f">MIN</a></div><div class="ttdeci">#define MIN(a, b)</div><div class="ttdoc">    </div><div class="ttdef"><b>Definition:</b> TXLib.h:2792</div></div>
<div class="ttc" id="agroup___misc_html_ga3e287c38947fea870d01588fbd2a5fc9"><div class="ttname"><a href="group___misc.html#ga3e287c38947fea870d01588fbd2a5fc9">_TX_BUILDMODE</a></div><div class="ttdeci">#define _TX_BUILDMODE</div><div class="ttdoc">  </div><div class="ttdef"><b>Definition:</b> TXLib.h:3351</div></div>
<div class="ttc" id="agroup___misc_html_ga3e4a82a10130528f63b6f19476a0943a"><div class="ttname"><a href="group___misc.html#ga3e4a82a10130528f63b6f19476a0943a">TX_ERROR</a></div><div class="ttdeci">#define TX_ERROR(...)</div><div class="ttdoc">   .</div><div class="ttdef"><b>Definition:</b> TXLib.h:3198</div></div>
<div class="ttc" id="agroup___misc_html_ga3f4a70a0e5076cb4f4addcab0ca760cd"><div class="ttname"><a href="group___misc.html#ga3f4a70a0e5076cb4f4addcab0ca760cd">TX_END_MESSAGE_MAP</a></div><div class="ttdeci">#define TX_END_MESSAGE_MAP</div><div class="ttdoc">  .</div><div class="ttdef"><b>Definition:</b> TXLib.h:4330</div></div>
<div class="ttc" id="agroup___misc_html_ga43d277b4418068ebef1fd2bdbaf550f6"><div class="ttname"><a href="group___misc.html#ga43d277b4418068ebef1fd2bdbaf550f6">_TX_MODULE</a></div><div class="ttdeci">#define _TX_MODULE</div><div class="ttdoc">  TXLib,    .</div><div class="ttdef"><b>Definition:</b> TXLib.h:3374</div></div>
<div class="ttc" id="agroup___misc_html_ga4c6e5420ee841c3b4e72930c58bf5cf7"><div class="ttname"><a href="group___misc.html#ga4c6e5420ee841c3b4e72930c58bf5cf7">In</a></div><div class="ttdeci">bool In(T x, T a, T b)</div><div class="ttdoc">,        [a; b].</div></div>
<div class="ttc" id="agroup___misc_html_ga61997e2af7f7c3d2e40ef9a612000220"><div class="ttname"><a href="group___misc.html#ga61997e2af7f7c3d2e40ef9a612000220">TX_DEBUG_ERROR</a></div><div class="ttdeci">#define TX_DEBUG_ERROR</div><div class="ttdoc">      .</div><div class="ttdef"><b>Definition:</b> TXLib.h:3225</div></div>
<div class="ttc" id="agroup___misc_html_ga74ff1048e0d6bc458c9904fbbe0a6026"><div class="ttname"><a href="group___misc.html#ga74ff1048e0d6bc458c9904fbbe0a6026">txSqr</a></div><div class="ttdeci">double txSqr(double x)</div><div class="ttdoc">     .</div><div class="ttdef"><b>Definition:</b> TXLib.h:2863</div></div>
<div class="ttc" id="agroup___misc_html_ga7b470eef58eabacf9c7820ce6d392506"><div class="ttname"><a href="group___misc.html#ga7b470eef58eabacf9c7820ce6d392506">txDump</a></div><div class="ttdeci">void txDump(const void *address, const char name[]=&quot;txDump()&quot;)</div><div class="ttdoc">     .</div></div>
<div class="ttc" id="agroup___misc_html_ga889b74443b3e918adee3e31fad4653f7"><div class="ttname"><a href="group___misc.html#ga889b74443b3e918adee3e31fad4653f7">asserted</a></div><div class="ttdeci">#define asserted</div><div class="ttdoc">        .</div><div class="ttdef"><b>Definition:</b> TXLib.h:3111</div></div>
<div class="ttc" id="agroup___misc_html_gaa4558a3bf2a126a9e19c5a3655520787"><div class="ttname"><a href="group___misc.html#gaa4558a3bf2a126a9e19c5a3655520787">random</a></div><div class="ttdeci">int random(int range)</div><div class="ttdoc">  </div></div>
<div class="ttc" id="agroup___misc_html_gab170f39ac0e379c324c73495f14a1309"><div class="ttname"><a href="group___misc.html#gab170f39ac0e379c324c73495f14a1309">__TX_FUNCTION__</a></div><div class="ttdeci">#define __TX_FUNCTION__</div><div class="ttdoc">  </div><div class="ttdef"><b>Definition:</b> TXLib.h:3337</div></div>
<div class="ttc" id="agroup___misc_html_gacb878805752034c14b0409817ae5a5ba"><div class="ttname"><a href="group___misc.html#gacb878805752034c14b0409817ae5a5ba">txMessageBox</a></div><div class="ttdeci">unsigned txMessageBox(const char *text, const char *header=&quot;TXLib &quot;, unsigned flags=0)</div><div class="ttdoc">       MessageBox.</div></div>
<div class="ttc" id="agroup___misc_html_gacd66e8cacf954c3bc3bba81d09425a12"><div class="ttname"><a href="group___misc.html#gacd66e8cacf954c3bc3bba81d09425a12">ROUND</a></div><div class="ttdeci">#define ROUND(x)</div><div class="ttdoc">   </div><div class="ttdef"><b>Definition:</b> TXLib.h:2816</div></div>
<div class="ttc" id="agroup___misc_html_gadbe2f17002d8d41056e9770066ef558b"><div class="ttname"><a href="group___misc.html#gadbe2f17002d8d41056e9770066ef558b">TX_HANDLE</a></div><div class="ttdeci">#define TX_HANDLE(id)</div><div class="ttdoc">   (Message handler)  .</div><div class="ttdef"><b>Definition:</b> TXLib.h:4292</div></div>
<div class="ttc" id="agroup___misc_html_gadd1c9ccd036228402b807abaea14f7ee"><div class="ttname"><a href="group___misc.html#gadd1c9ccd036228402b807abaea14f7ee">__TX_COMPILER__</a></div><div class="ttdeci">#define __TX_COMPILER__</div><div class="ttdoc">    </div><div class="ttdef"><b>Definition:</b> TXLib.h:3293</div></div>
<div class="ttc" id="agroup___misc_html_gade9b60c36576ef735b3e1d1f628ad9c6"><div class="ttname"><a href="group___misc.html#gade9b60c36576ef735b3e1d1f628ad9c6">ZERO</a></div><div class="ttdeci">#define ZERO(type)</div><div class="ttdoc"> ,   </div><div class="ttdef"><b>Definition:</b> TXLib.h:2906</div></div>
<div class="ttc" id="agroup___misc_html_gae4dfd7b0d66121016d6466d2ff10e8ba"><div class="ttname"><a href="group___misc.html#gae4dfd7b0d66121016d6466d2ff10e8ba">_</a></div><div class="ttdeci">#define _</div><div class="ttdoc">,       -  .</div><div class="ttdef"><b>Definition:</b> TXLib.h:3268</div></div>
<div class="ttc" id="agroup___misc_html_gaf59817ad656dcbb3f9baebeb4d7f82f7"><div class="ttname"><a href="group___misc.html#gaf59817ad656dcbb3f9baebeb4d7f82f7">txPI</a></div><div class="ttdeci">const double txPI</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> TXLib.h:2831</div></div>
<div class="ttc" id="agroup___misc_html_gaf6ea524e3c76ba5c8a0d1fa6b81d55b8"><div class="ttname"><a href="group___misc.html#gaf6ea524e3c76ba5c8a0d1fa6b81d55b8">TX_BEGIN_MESSAGE_MAP</a></div><div class="ttdeci">#define TX_BEGIN_MESSAGE_MAP()</div><div class="ttdoc">   (Message Map).</div><div class="ttdef"><b>Definition:</b> TXLib.h:4268</div></div>
<div class="ttc" id="agroup___misc_html_gafa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="group___misc.html#gafa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdoc">    </div><div class="ttdef"><b>Definition:</b> TXLib.h:2772</div></div>
<div class="ttc" id="agroup___mouse_html_ga452a1a7dc5d3f467c8b79b9db3ea053e"><div class="ttname"><a href="group___mouse.html#ga452a1a7dc5d3f467c8b79b9db3ea053e">txMousePos</a></div><div class="ttdeci">POINT txMousePos()</div><div class="ttdoc">  !</div></div>
<div class="ttc" id="agroup___mouse_html_ga572acf2310d35defaa9a37a2ec260576"><div class="ttname"><a href="group___mouse.html#ga572acf2310d35defaa9a37a2ec260576">txMouseY</a></div><div class="ttdeci">int txMouseY()</div><div class="ttdoc"> Y- !</div></div>
<div class="ttc" id="agroup___mouse_html_ga6adbdb491a8eec2a4209c54874ae7b7d"><div class="ttname"><a href="group___mouse.html#ga6adbdb491a8eec2a4209c54874ae7b7d">txMouseX</a></div><div class="ttdeci">int txMouseX()</div><div class="ttdoc"> - !</div></div>
<div class="ttc" id="agroup___mouse_html_gab814b21d8f52c3efd0d7175d30a4fa73"><div class="ttname"><a href="group___mouse.html#gab814b21d8f52c3efd0d7175d30a4fa73">txMouseButtons</a></div><div class="ttdeci">int txMouseButtons()</div><div class="ttdoc">   !</div></div>
<div class="ttc" id="agroup___service_html_ga30fb1a6913174dfcea5079391f655be2"><div class="ttname"><a href="group___service.html#ga30fb1a6913174dfcea5079391f655be2">txSetWindowsHook</a></div><div class="ttdeci">WNDPROC txSetWindowsHook(WNDPROC wndProc=NULL)</div><div class="ttdoc">      Windows ( )   T...</div></div>
<div class="ttc" id="agroup___service_html_ga365c78a96945ad9e0a6462c28e01d400"><div class="ttname"><a href="group___service.html#ga365c78a96945ad9e0a6462c28e01d400">txGDI</a></div><div class="ttdeci">#define txGDI(command)</div><div class="ttdoc">  Win32 GDI     .</div><div class="ttdef"><b>Definition:</b> TXLib.h:3526</div></div>
<div class="ttc" id="agroup___service_html_ga532fa8a55c4f3d4f94ff0fdceae732b2"><div class="ttname"><a href="group___service.html#ga532fa8a55c4f3d4f94ff0fdceae732b2">txLock</a></div><div class="ttdeci">bool txLock(bool wait=true)</div><div class="ttdoc">  ( ).</div></div>
<div class="ttc" id="agroup___service_html_ga8fe4ec4c66cb69ce337747fe65dd0cc6"><div class="ttname"><a href="group___service.html#ga8fe4ec4c66cb69ce337747fe65dd0cc6">txUnlock</a></div><div class="ttdeci">bool txUnlock()</div><div class="ttdoc"> </div></div>
<div class="ttc" id="agroup___technical_html_ga04cf6a2f12ea617b5a29ce939f673085"><div class="ttname"><a href="group___technical.html#ga04cf6a2f12ea617b5a29ce939f673085">_txWindowUpdateInterval</a></div><div class="ttdeci">int _txWindowUpdateInterval</div><div class="ttdoc">   ()</div><div class="ttdef"><b>Definition:</b> TXLib.h:3641</div></div>
<div class="ttc" id="agroup___technical_html_ga05631a37d79a52c0289b3dfa90215250"><div class="ttname"><a href="group___technical.html#ga05631a37d79a52c0289b3dfa90215250">_txConsoleMode</a></div><div class="ttdeci">unsigned _txConsoleMode</div><div class="ttdoc">   .     ShowWindow.</div><div class="ttdef"><b>Definition:</b> TXLib.h:3601</div></div>
<div class="ttc" id="agroup___technical_html_ga2c0a4fe0612f109c5c88d6d55a061db5"><div class="ttname"><a href="group___technical.html#ga2c0a4fe0612f109c5c88d6d55a061db5">_TX_WAITABLE_PARENTS</a></div><div class="ttdeci">#define _TX_WAITABLE_PARENTS</div><div class="ttdoc">  ,        TXLib.</div><div class="ttdef"><b>Definition:</b> TXLib.h:3693</div></div>
<div class="ttc" id="agroup___technical_html_ga352331b32407c4e95bc4f7a5e39fad25"><div class="ttname"><a href="group___technical.html#ga352331b32407c4e95bc4f7a5e39fad25">_TX_BUFSIZE</a></div><div class="ttdeci">const unsigned _TX_BUFSIZE</div><div class="ttdoc">     TXLib.</div><div class="ttdef"><b>Definition:</b> TXLib.h:3666</div></div>
<div class="ttc" id="agroup___technical_html_ga5df0d089d6da4f25e603b4fe726f702d"><div class="ttname"><a href="group___technical.html#ga5df0d089d6da4f25e603b4fe726f702d">_txWindowStyle</a></div><div class="ttdeci">unsigned _txWindowStyle</div><div class="ttdoc">   .</div><div class="ttdef"><b>Definition:</b> TXLib.h:3618</div></div>
<div class="ttc" id="agroup___technical_html_ga61836072e0c3887ed70841ff2d12c0d9"><div class="ttname"><a href="group___technical.html#ga61836072e0c3887ed70841ff2d12c0d9">_txConsoleFont</a></div><div class="ttdeci">const char * _txConsoleFont</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> TXLib.h:3626</div></div>
<div class="ttc" id="agroup___technical_html_ga6b76c63cd895c2be63ac8e690028623b"><div class="ttname"><a href="group___technical.html#ga6b76c63cd895c2be63ac8e690028623b">_TX_VER</a></div><div class="ttdeci">#define _TX_VER</div><div class="ttdoc">    .</div><div class="ttdef"><b>Definition:</b> TXLib.h:106</div></div>
<div class="ttc" id="agroup___technical_html_ga7859e95fc4faec435abe372989f4f8ac"><div class="ttname"><a href="group___technical.html#ga7859e95fc4faec435abe372989f4f8ac">_TX_TIMEOUT</a></div><div class="ttdeci">const int _TX_TIMEOUT</div><div class="ttdoc">   ()</div><div class="ttdef"><b>Definition:</b> TXLib.h:3649</div></div>
<div class="ttc" id="agroup___technical_html_ga9a495d013c6f08cd50220aca99ca56c2"><div class="ttname"><a href="group___technical.html#ga9a495d013c6f08cd50220aca99ca56c2">_TX_ALLOW_KILL_PARENT</a></div><div class="ttdeci">#define _TX_ALLOW_KILL_PARENT</div><div class="ttdoc">    ,      TXLib...</div><div class="ttdef"><b>Definition:</b> TXLib.h:3724</div></div>
<div class="ttc" id="agroup___technical_html_gaa7273b2f613970c283053c5d9136addd"><div class="ttname"><a href="group___technical.html#gaa7273b2f613970c283053c5d9136addd">_TX_BIGBUFSIZE</a></div><div class="ttdeci">const unsigned _TX_BIGBUFSIZE</div><div class="ttdoc">     TXLib.</div><div class="ttdef"><b>Definition:</b> TXLib.h:3673</div></div>
<div class="ttc" id="agroup___technical_html_gaab281ee20ea6be5eae34d0e15bf03dcf"><div class="ttname"><a href="group___technical.html#gaab281ee20ea6be5eae34d0e15bf03dcf">_TX_NOINIT</a></div><div class="ttdeci">#define _TX_NOINIT</div><div class="ttdoc">   TXLib.</div><div class="ttdef"><b>Definition:</b> TXLib.h:3578</div></div>
<div class="ttc" id="agroup___technical_html_gacc95bfbcf7a0f9124e8cd5e80d0b3cd3"><div class="ttname"><a href="group___technical.html#gacc95bfbcf7a0f9124e8cd5e80d0b3cd3">_txCursorBlinkInterval</a></div><div class="ttdeci">unsigned _txCursorBlinkInterval</div><div class="ttdoc">    ()</div><div class="ttdef"><b>Definition:</b> TXLib.h:3633</div></div>
<div class="ttc" id="agroup___technical_html_gaddc6398e255e44934e56e22f91874d19"><div class="ttname"><a href="group___technical.html#gaddc6398e255e44934e56e22f91874d19">_TX_VERSION</a></div><div class="ttdeci">#define _TX_VERSION</div><div class="ttdoc">  .</div><div class="ttdef"><b>Definition:</b> TXLib.h:83</div></div>
<div class="ttc" id="astruct__tx__auto__func___html"><div class="ttname"><a href="struct__tx__auto__func__.html">_tx_auto_func_</a></div><div class="ttdef"><b>Definition:</b> TXLib.h:3002</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html"><div class="ttname"><a href="structtx_dialog_1_1_layout.html">txDialog::Layout</a></div><div class="ttdoc">      ()</div><div class="ttdef"><b>Definition:</b> TXLib.h:4101</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_a16c20d9825dc75ca91ce750b6b547d6a"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#a16c20d9825dc75ca91ce750b6b547d6a">txDialog::Layout::sx</a></div><div class="ttdeci">short sx</div><div class="ttdoc">  X.</div><div class="ttdef"><b>Definition:</b> TXLib.h:4107</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_a21d57dc612006b3b3ee8a513ab35cdbb"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#a21d57dc612006b3b3ee8a513ab35cdbb">txDialog::Layout::y</a></div><div class="ttdeci">short y</div><div class="ttdoc">   </div><div class="ttdef"><b>Definition:</b> TXLib.h:4106</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_a2591914a85c05cce0fc862df1a569064"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#a2591914a85c05cce0fc862df1a569064">txDialog::Layout::wndclass</a></div><div class="ttdeci">CONTROL wndclass</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> TXLib.h:4102</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_a2fe7acf9e635627242825e58b2ff83ec"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#a2fe7acf9e635627242825e58b2ff83ec">txDialog::Layout::font</a></div><div class="ttdeci">const char * font</div><div class="ttdoc">  </div><div class="ttdef"><b>Definition:</b> TXLib.h:4111</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_a6291f513b3eeb124b0c431c4823a2293"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#a6291f513b3eeb124b0c431c4823a2293">txDialog::Layout::x</a></div><div class="ttdeci">short x</div><div class="ttdoc">   </div><div class="ttdef"><b>Definition:</b> TXLib.h:4105</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_a92bbfc790a6ba7c937e9e26491a46209"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#a92bbfc790a6ba7c937e9e26491a46209">txDialog::Layout::caption</a></div><div class="ttdeci">const char * caption</div><div class="ttdoc">  </div><div class="ttdef"><b>Definition:</b> TXLib.h:4103</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_a9b6528a0f3cd2b08cf78f947ad5bafab"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#a9b6528a0f3cd2b08cf78f947ad5bafab">txDialog::Layout::style</a></div><div class="ttdeci">DWORD style</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> TXLib.h:4109</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_aa1a483bb785e2564e3a478f9c2e248da"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#aa1a483bb785e2564e3a478f9c2e248da">txDialog::Layout::id</a></div><div class="ttdeci">WORD id</div><div class="ttdoc"> </div><div class="ttdef"><b>Definition:</b> TXLib.h:4104</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_ab54d04b7a9c3df4cd9596af74246da47"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#ab54d04b7a9c3df4cd9596af74246da47">txDialog::Layout::sy</a></div><div class="ttdeci">short sy</div><div class="ttdoc">  Y.</div><div class="ttdef"><b>Definition:</b> TXLib.h:4108</div></div>
<div class="ttc" id="astructtx_dialog_1_1_layout_html_ac78c2a12a9ca921adff890b03b867ff0"><div class="ttname"><a href="structtx_dialog_1_1_layout.html#ac78c2a12a9ca921adff890b03b867ff0">txDialog::Layout::fontsize</a></div><div class="ttdeci">WORD fontsize</div><div class="ttdoc">   </div><div class="ttdef"><b>Definition:</b> TXLib.h:4112</div></div>
<div class="ttc" id="astructtx_dialog_html"><div class="ttname"><a href="structtx_dialog.html">txDialog</a></div><div class="ttdoc">    .</div><div class="ttdef"><b>Definition:</b> TXLib.h:4050</div></div>
<div class="ttc" id="astructtx_dialog_html_a081a2029ed8e4ffd6726c9f39966a04c"><div class="ttname"><a href="structtx_dialog.html#a081a2029ed8e4ffd6726c9f39966a04c">txDialog::txDialog</a></div><div class="ttdeci">txDialog()</div><div class="ttdoc">.</div></div>
<div class="ttc" id="astructtx_dialog_html_a0a41d301a3d12cd2542f609bb77d81a1"><div class="ttname"><a href="structtx_dialog.html#a0a41d301a3d12cd2542f609bb77d81a1">txDialog::~txDialog</a></div><div class="ttdeci">virtual ~txDialog()</div><div class="ttdoc">.</div><div class="ttdef"><b>Definition:</b> TXLib.h:4146</div></div>
<div class="ttc" id="astructtx_dialog_html_a39efe9383833aedb0839d2519173930e"><div class="ttname"><a href="structtx_dialog.html#a39efe9383833aedb0839d2519173930e">txDialog::dialogProc</a></div><div class="ttdeci">virtual int dialogProc(HWND _wnd, UINT _msg, WPARAM _wParam, LPARAM _lParam)</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="astructtx_dialog_html_a4ac4c473e24014b82cb62133f8c5ed4a"><div class="ttname"><a href="structtx_dialog.html#a4ac4c473e24014b82cb62133f8c5ed4a">txDialog::txDialog</a></div><div class="ttdeci">txDialog(const Layout *layout)</div><div class="ttdoc">.</div></div>
<div class="ttc" id="astructtx_dialog_html_acc3c6561d4b13780848b7b5ff032f2e4"><div class="ttname"><a href="structtx_dialog.html#acc3c6561d4b13780848b7b5ff032f2e4">txDialog::setLayout</a></div><div class="ttdeci">const Layout * setLayout(const Layout *layout)</div><div class="ttdoc">    .</div></div>
<div class="ttc" id="astructtx_dialog_html_ae1990ecaf5a955c66eae928aa0d9c896"><div class="ttname"><a href="structtx_dialog.html#ae1990ecaf5a955c66eae928aa0d9c896">txDialog::dialogBox</a></div><div class="ttdeci">INT_PTR dialogBox(const Layout *layout=NULL, size_t bufsize=0)</div><div class="ttdoc">  .</div></div>
<div class="ttc" id="astructtx_dialog_html_ae77679e598791a95944fed3610f0e01a"><div class="ttname"><a href="structtx_dialog.html#ae77679e598791a95944fed3610f0e01a">txDialog::dialogBox</a></div><div class="ttdeci">INT_PTR dialogBox(WORD resource)</div><div class="ttdoc">  .</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="_t_x_lib_8h.html">TXLib.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
